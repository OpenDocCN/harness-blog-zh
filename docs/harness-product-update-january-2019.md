# 线束产品更新| 2019 年 1 月|线束

> 原文：<https://www.harness.io/blog/harness-product-update-january-2019>

在过去的 4-6 周内，我们向 Harness 发布了一些主要和次要的更新，包括 24×7 Service Guard、吉拉票务等。

在过去的 4-6 周内，我们已经对 Harness 进行了一些主要和次要的更新。

Harness 在内部使用 Harness，因此我们可以向 SaaS 和本地客户推送每日更新。

我们在所有开发、qa 和生产环境中每月进行大约 1，500 次部署。

这里有一个快速回顾。

## 24x7 服务保护

这可能是我们最近发布的最令人兴奋的功能之一。24x7 Service Guard 基本上是类固醇上的连续验证，为开发人员提供跨其监控、APM 和日志工具的服务性能/质量的完全可见性—所有时间，包括自动回滚。
这里是[一个更详细的博客](https://harness.io/blog/harness-24-7-service-guard/)和一个 2 分钟的短片:

## 吉拉票务集成

我们宣布的另一个主要功能是使用吉拉票证跟踪管道进度和管道批准的能力。Atlassian 吉拉现在是 Harness 内部的一等公民，这使得开发团队现在可以非常容易地跟踪跨管道的部署活动和批准。Harness 支持多个吉拉实例，因此您可以跨多个应用程序或团队管理票据。

## 警报管理

本周，我们推出了新的全面警报管理功能，以取代基本的通知功能，该功能仅限于部署工作流。现在可以对 Harness 中的几乎任何事件发出警报，并将这些警报分配给拥有特定电子邮件或空闲频道的特定用户组。

要使用这项新功能，请进入**设置>警报通知规则**

现在点击**添加预警规则，**选择一个**预警类别**，**预警类型**，然后将其分配到一个或多个**用户组**。

此功能是一种更加灵活和可扩展的方式，可用于跨您的部署管道和组织管理警报。

## Lambda 工件的 AWS CloudWatch 验证

对于那些将 Lambda 函数作为工件部署的人，我们更新了我们的验证功能，以自动获取每个 Lambda 函数的 CloudWatch 指标，而不是我们之前提供的基本断言验证。这现在允许你利用人工智能/机器学习算法来验证你的 Lambda 函数部署是否成功。

开箱即用我们的 CloudWatch Lambda 验证现在可以在零配置的情况下自动分析**错误、节流、调用和持续时间**。请看下面的例子截图。

## AWS ECS 的蓝/绿色部署

与我们对 Kubernetes & Istio 的蓝/绿支持类似，除了标准的滚动和自动化金丝雀部署之外，我们现在还为亚马逊 ECS 提供一流的公民蓝/绿支持。

只需从部署工作流设置中选择**蓝/绿部署**，并添加您的 AWS ECS 服务、基础架构和 **ECS 蓝/绿类型**(我们支持 ELB 和 DNS)。

## 自定义部署工作流

我们有几个客户要求能够在 Harness 内部使用他们自己的脚本和/或逻辑实现 100%定制的部署工作流。这意味着他们不想为其服务进行标准的滚动、多服务、蓝/绿或淡黄色部署。

您现在可以在创建自己的工作流时，从部署类型下拉列表中选择**自定义工作流**。这将允许您向部署添加自定义步骤、脚本和逻辑。

## 自定义工件库支持

Harness 目前支持 13 个工件库和供应商。

但是让我们假设你不使用 JFrog Artifactory、Nexus、Jenkins 或者 S3 桶来管理你的工件。没问题。

我们最近在 Harness 中添加了新的功能，使用您自己的定制脚本和 webhooks 来支持本地尚不支持的定制库。

创建您的服务:
时，只需从 **+ Add Artifact Source** 下拉列表中选择**自定义存储库**

现在，只需粘贴您的自定义脚本/webhook/command/logic，它将从您的自定义存储库中检索工件。

例如，下面的截图展示了一个简单的 curl 命令(和 webhook)如何在 Jenkins 中查询工件。同样的原则也适用于任何允许 webhooks 的定制回购。

## 工作流执行上下文变量

想知道部署工作流中每个执行步骤的确切变量状态吗？没问题。
您现在可以在任何执行步骤中选择“**查看执行上下文”**来查看完整的变量状态和上下文。这对于调试和排除失败部署的故障特别有用，因为您希望验证在部署时设置了哪些变量和配置。

我们自己在 Harness 的一个 se 看到这个特性的时候亲自喜极而泣。

一月到此为止。我们正在为二月份做更多的工作，敬请关注！

干杯，
史蒂夫。
@伯顿说