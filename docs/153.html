<html>
<head>
<title>Tekton vs Harness CD - Filming my Journey | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>泰克顿 vs 马具 CD -拍摄我的旅程|马具</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/tekton-vs-harness#0001-01-01">https://www.harness.io/blog/tekton-vs-harness#0001-01-01</a></blockquote><div><p>Ravi 拍摄了他学习 Tekton 教程的过程。让我们看看他做得怎么样！</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>紧随西雅图 KubeCon 2018 之后，<a href="https://www.linuxfoundation.org/press-release/2019/03/the-linux-foundation-announces-new-foundation-to-support-continuous-delivery-collaboration/" target="_blank">连续交付基金会</a>于一年多前的 2019 年 3 月成立，Harness 是其成员之一。宪章项目是我自己熟悉的 Spinnaker 和 Jenkins/Jenkins X 的项目。虽然还有一个我以前从未听说过的项目是<a href="https://github.com/tektoncd" target="_blank"> Tekton </a>，我非常好奇想了解更多关于这个项目的信息。使用答案框，也就是谷歌，这个项目非常环保，甚至搜索“Tekton”也不会很容易找到这个项目。直到今天，<a href="https://tekton.dev/" target="_blank"> Tekton 网站</a>仍在建设中，这个项目已经进行了一年。</p><p>快进到今天，这个项目还在继续发展。虽然 Tekton 现在看起来更像是一个引擎，例如为 OpenShift 管道甚至 Jenkins X 管道提供动力。我用一双新的眼睛通过使用 Tekton 本身进行了一次练习。目标类似于我们围绕 Spinnaker 和 Jenkins X 进行的其他比较，如果我们有一个映像，例如 Nginx，我们如何部署到一个等待的 Kubernetes 集群，在我的例子中，是亚马逊 EKS。</p><p>这段视频大约有一个小时长，我浏览了一下<a href="https://github.com/tektoncd/pipeline/blob/master/docs/tutorial.md" target="_blank"> Tekton 教程</a>。这些线路似乎在泰克顿一起工作；我的底线是创建从源到图像的构建步骤。当您自己查看 Tekton 时，我推荐 IBM Tekton 教程，它很好地列出了 Tekton 的概念。在视频结束时，我能够在大约 5 分钟内将 Nginx 从零部署到部署，包括将一个 Harness 委托安装到我的 EKS 集群中。</p><h2>“泰克托尼克”视频</h2><p>事不宜迟，下面是视频。与其他视频相比，新的一天没有过去，也不需要换球衣。</p><figure class="w-richtext-align-center w-richtext-figure-type-image"/><h2>方法学</h2><p>对于许多人来说，部署映像是一个很好的起点。根据现有的开发方法，转向基于<a href="https://harness.io/blog/what-is-gitops/" target="_blank"> GitOps </a>的方法可能很困难。具有适当布线的 Tekton 可以遵循严格的 GitOps 模型，或者一旦生成了适当的 Tekton 对象并在每个管道中就位，就可以脱离。</p><p>利用 Tekton，您需要创建几个对象。熟悉一个<a href="https://github.com/tektoncd/pipeline/blob/master/docs/tasks.md"> Tekton 任务</a>和一个<a href="https://github.com/tektoncd/pipeline/blob/master/docs/pipelines.md"> Tekton 流水线</a>，两者都有需要执行的运行对象。因为 Tekton 利用了<a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/">定制资源定义</a>，所以你需要跟踪这些对象。</p><p>我选择用亚马逊 EKS 在 AWS 上运行我的 Kubernetes 集群。从 Tekton 设置开始需要一个持久的区域，我可以在亚马逊 S3<a href="https://aws.amazon.com/s3/">快速旋转，因为我是我账户的管理员。因为我没有利用源到图像或其他持久 Tekton 管道步骤，所以 S3 桶从未被写入。</a></p><p>随着 Tekton 向引擎方向发展，一旦你有了 Tekton，你就有了 Tekton 所拥有的一切。当时，我在这个项目中找不到任何现成的权限，访问控制是 Harness 平台的一个支柱。</p><p>最后，我启动了 Harness 平台，很快就成功了。</p><figure class="w-richtext-figure-type- "/><p>这在一定程度上要归功于 Harness CD 抽象模型，在这个模型中，装载移动部件很容易，装配管道也很快。</p><figure class="w-richtext-figure-type- "/><p>相比之下，下面是基本 Tekton 管道所需的布线。</p><h2>我的泰克顿台阶</h2><p>##Tekton 命令<br/><br/># Install tek ton<br/>ku bectl apply-filename https://storage . Google APIs . com/tek ton-releases/pipeline/latest/release . YAML<br/><br/># Monitor Installation<br/>ku bectl get pods-namespace tek ton-pipelines-watch<br/><br/># Config Map for S3-tek ton-storage . YAML<br/>API version:v1<br/>kind:Secret<br/>metadata:<br/>name:tek ton-metadata <br/>https _ Validate _ certificates = True<br/>-<br/>API version:v1<br/>kind:CONFIG Map<br/>metadata:<br/>name:CONFIG-artifact-bucket<br/>namespace:Tekton-pipelines<br/>data:<br/>location:S3://Tekton storage<br/>bucket . service . account . secret . name:Tekton-storage<br/>bucket . service . account . key:BOTO-CONFIG<br/>bucket . service . <br/>#创建任务-nginx-Task . YAML<br/>API version:tekton.dev/v1beta1<br/>种类:任务<br/>元数据:<br/>名称:nginx-task <br/>规格:<br/>步骤:名称:第一张<br/>图片:nginx<br/>T58】#应用任务<br/> kubectl 应用-f nginx-Task . YAML<br/><br/>#描述任务<br/> tkn 任务描述 nginx-任务 <br/><br/>#验证任务运行<br/> tkn 任务运行描述 nginx-任务运行<br/> tkn 任务运行日志 nginx-任务运行<br/><br/>#将任务包装在管道中-Pipeline . YAML<br/>API 版本:tekton.dev/v1beta1<br/>种类:管道<br/>元数据:<br/>名称:nginx-管道<br/>规格:<br/>任务:<br/> -名称:nginx-管道-任务<br/>任务 <br/>名称:nginx-Pipeline<br/><br/>#应用管道运行<br/>ku bectl Apply-f Pipeline-Run . YAML<br/><br/>#获取管道日志<br/> tkn 管道运行日志 nginx-Pipeline-Run-1-f<br/><br/>#获取管道计划<br/> tkn 管道运行描述 nginx-Pipeline-Run-1<br/><br/><br/># # # # #助手方法<br/>#创建 EKS 集群<br/> <br/>-nodes-min 1 \<br/>-nodes-max 5 \<br/>-node-ami auto<br/><br/># Delete Cluster<br/>eks CTL Delete Cluster-name = The-tek tons-region = us-east-1<br/><br/># Add K8s Dashboard<br/>kubectl apply-f https://raw . githubusercontent . com/kubernetes/Dashboard/v 2 . 0 . 0-rc6/AIO /登录</p><h2>马具平台，你的信心引擎</h2><p>Harness 平台是专门构建的，以基于约定的方式接受广泛的工作负载和信心建立步骤。Harness 平台允许平台以一种易于消费的方式编排许多方法，从而可以增强您的持续交付目标。</p><p>能够查看几个工具，如<a href="https://harness.io/blog/spinnaker-vs-harness-filming-my-journey/" target="_blank"> Spinnaker </a>、<a href="https://blog.harness.io/blog/continuous-delivery/argo-flux-vs-harness-filming-my-journey/" target="_blank"> Argo </a>，以及现在的 Tekton，这些工具需要大量的工程专业知识。在<a href="https://www.infoq.com/news/2020/03/reimagining-cicd-pipelines/" target="_blank"> DeliverConf </a>，最近的一次谈话谈到了作曲的需要；当你需要的时候，将你的管道分解成你所需要的，这也是代码繁重的解决方案所暗示的。其中的难点在于将您的可部署性和基础设施耦合起来，以便在正确的时间拥有正确的组件来执行部署。这非常类似于设计您正在部署的实际软件；管理旅程中的功能。</p><p>我们对线束平台采取了不同的方法。我们已经开发了一个易于使用的界面，作为基于约定的部署和部署模式的记录系统。今天就报名参加<a href="https://app.harness.io/auth/#/signup" target="_blank">线束试用</a>吧，把自己从为自己的平台搭建平台中解放出来。</p><p>干杯，</p><p>-拉维<br/></p></div></div>    
</body>
</html>