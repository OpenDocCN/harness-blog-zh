# 利用云计算降低成本管理|利用

> 原文：<https://www.harness.io/blog/shifting-down-with-cloud-cost-management>

利用云成本管理-使工程和开发运维团队能够主动管理和优化云成本。

## **持续交付加速开发速度&云迁移**

在过去的三年里，Harness 已经帮助 NCR、OpenBank 和 McAfee master[Continuous Delivery](https://harness.io/blog/what-is-continuous-delivery/)(CD)等客户将其整体应用迁移到公共云中运行的微服务。

过去的部署由 IT 运营或专门的发布团队管理。如今，这一责任已经“转移”到使用 Harness 等自助式 CD 平台的工程团队，工程师可以按需部署到公共云。

随着开发速度的提高和上市时间的缩短，客户面临的下一个重大挑战是云支出。鸭嘴集团的云经济学家科里·奎因(Corey Quinn)很好地总结了这一点。

在去年的 AWS re:Invent 上，来自 AWS 云经济团队[的 Abiadde Adedoyin 在她的云财务会议](https://www.youtube.com/watch?v=ChupgIbZr5Q)上指出，“35%的云支出是浪费”。

现在想想你上一次的云账单，除以 3，那就是 AWS 认为的浪费。一个相当发人深省的想法。

## **云消费者缺乏基本的成本可见性**

作为云消费者，工程团队需要了解他们对云支出的影响，以便高效地请求和管理云资源。

如今，这些团队中的大部分都是 100%地对能够访问云成本数据的团队做出反应——支付账单的团队(财务/ [财务运营](https://www.finops.org/what-is-finops/))或者管理、保护和治理云基础设施的团队(云卓越中心、云工程)。

简而言之，工程和开发运维团队无法自助访问云成本数据。以下是自助服务在工程团队的其他领域的一些例子:

*   **APM(性能)** -自助访问 AppDynamics，Datadog &新遗迹
*   **日志分析(质量)** -自助访问 Splunk，弹性&相扑逻辑
*   **事件管理(可用性)** -自助访问 page duty&ever bridge
*   **云支出(成本)** -无法自助访问工具，必须手动标记基础架构

就像工程师优化性能或质量一样，有了成本可见性，他们更有可能优化云成本，而不必让首席财务官每 30 天就患一次冠心病。

## **引入线束云成本管理**

我们构建了一个[云成本管理软件](https://harness.io/platform/cloud-cost-management/)来支持工程和开发团队，使他们能够主动管理和优化云成本，允许财务团队将云成本的责任“转移”给使用云资源的人。

简而言之，这就是为什么利用云成本管理可以使组织“向下转移”:

### **完整的开发者上下文&可见性**

这意味着工程师可以自助查看其应用、微服务、集群和环境的真实成本。他们不受有限的基础架构或云服务世界观的约束，并在管理云成本时获得所需的背景信息。

工程师还可以获得这种可见性，而无需手动标记云基础架构和制造不必要的麻烦。例如，下面的屏幕截图显示了微服务的云成本。

### **Kubernetes&AWS ECS 集群**的根本成本分析

工程师还可以深入研究他们的容器编排，查看集群、名称空间、工作负载、节点和单元的实际利用、闲置和未分配成本。同样，不需要标记。可以将此视为云资源消耗和未消耗的 x 射线，因此工程师可以主动调整和优化他们的集群，以减少云支出。

这个视图对于那些想知道他们的“请求资源”有多少被实际利用、闲置和未分配的工程师来说非常有用。仅仅因为工程师在其清单中请求 16 个 CPU 和 256GB RAM，并不意味着应用程序或服务实际上正在使用它。您可以在上面的屏幕截图中看到，只有 33%的集群资源得到了利用。

工程师还可以识别集群上可能不需要的僵尸命名空间或工作负载，从而轻松清理成本。

### **每小时时间粒度**

云提供商和传统工具的标准是通过每日或每月的时间窗口来报告云成本。Harness Cloud Cost Management 在每小时时间窗口方面更进了一步，因此工程师可以真正了解云资源的使用情况和成本趋势。将成本聚合到每日或每月窗口中意味着异常峰值可能会被忽略，并被平均值混合。

### **将云事件与云成本相关联**

工程师还需要对可能导致成本飙升的云事件有情境意识。新的应用程序或服务部署、修改的资源清单(例如，副本更改、计算规格更改)以及水平 Pod 自动扩展(HPA)或节点自动扩展的激活都是影响云消耗和成本的事件。

例如，在下面的屏幕截图中，您可以看到所有相关事件都与集群的云支出和峰值重叠并相关联。可以单击事件并在下面的窗格中查看详细信息，从而详细了解环境中发生了哪些变化(在本例中，有人将 Kubernetes 副本数量从 2 个更改为 3 个)。

### **持续交付(1) +云成本管理(1) = 3**

通过将云成本管理集成到我们的 CD 平台，工程师现在可以在几秒钟内访问其应用、微服务和集群的云成本可见性。工程师不需要另一个工具或登录；他们只需进行部署，并获得关于其部署或更改如何消耗云资源和成本的每小时反馈。他们不必等待数周或一个月，等待另一个团队来强调成本高峰，他们可以在当天获得成本反馈并采取行动，从而帮助组织消除云浪费并减少云支出。

除了上述独特的功能，云成本管理还提供了您在任何云成本解决方案中都期望的标准功能:

*   对 AWS、GCP 和 Azure 的多云支持
*   非集群成本的可见性(例如 EC2、S3、RDS、ELB、CloudWatch、...)
*   执行仪表板
*   预算和警报
*   历史报告、摘要和数据导出
*   松弛时间和电子邮件集成

利用云成本管理在几秒钟内完成安装，因此很容易上手。无论您是否是现有的 Harness CD 客户，您的团队都可以在同一天启动并运行，获得对其云成本的独特可见性。

### **吃我们的狗粮，喝我们的香槟**

当我们的公共云运营成本为每年 120 万美元时，Harness 最近“降级”了。几个月后，我们为我们的工程团队提供了云成本管理。结果呢？我们将公共云年度支出减少了 40%，至 70 万美元，这证明了来自 AWS 的 35%的统计数据是真实的，如果有的话，有点保守。

## **云成本管理不是一次性解决方案**

持续交付的采用意味着工程团队持续部署到公共云。每一项改变都有可能改变应用或服务消耗云资源的方式，并最终改变云成本。公共云上的每个新应用或服务也有可能被其所有者过度调配。

将云成本的责任“转移”给工程师有助于组织降低云成本，这样做有助于消除组织每年产生的 35%的云支出浪费。

立即申请您的工具[云成本管理](https://harness.io/platform/cloud-cost-management/)演示。