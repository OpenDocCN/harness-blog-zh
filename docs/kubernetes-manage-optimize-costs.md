# Kubernetes 成本管理:为什么要管理和优化成本？装具

> 原文：<https://www.harness.io/blog/kubernetes-manage-optimize-costs>

让我们深入了解为什么审查我们的云账单并控制成本变得越来越重要，以及为什么 Kubernetes 的成本尤其会导致账单休克。

云计算的出现使我们能够比以往任何时候都更快地开发和运输，但我们在云上的花费比我们预期的要多得多。有了 Kubernetes 的支持，管理您的基础设施使用情况的经理正成为云成本管理的重要一环。让我们深入了解为什么审查我们的云账单并控制成本变得越来越重要，以及为什么 Kubernetes 的成本尤其会导致账单休克。

*这篇文章摘自我们的电子书《Kubernetes 的成本管理策略》。如果你喜欢你看到的内容，坚持到最后，我们会为你链接完整的电子书。它是免费的——最棒的是，没有栅门。*

### 为什么要管理和优化成本？

答案很简单:这和你看好自己的钱是一个道理。你不想扔掉钱，你想从你所花的钱中获得最大的价值。

企业按照这个简单的原则运营，并希望尽可能降低成本。云基础设施是企业运营的必要条件，但这并不意味着可以投入大量资金。当你买食物时，那是因为它是必需品。但是，在其他条件都相同的情况下，如果旁边有一个香蕉卖 1 美元，你会希望 T1 花 1.35 美元买一个吗？撇开奇怪的杂货店类比不谈，当你知道你不需要的时候，你不想在某样东西上多花 35%。云成本是相同的，但平均而言，35%的云支出完全是浪费。

好的一面是，就像你可以有一个 1 美元的香蕉，有一点能见度，知道节省看起来像什么，你不仅可以抑制不必要的支出，而且还可以扩展到能够预测随着时间的推移你所有的香蕉将花费多少。

### 云成本与 Kubernetes 成本

但是这和 Kubernetes 有什么关系呢？运行 Kubernetes 的成本是您总体云支出的一个子集，但也是该支出的一个重要驱动因素。作为开源技术，Kubernetes 实际上是完全免费使用的。Kubernetes 带来的成本是在 Kubernetes 管理您的基础设施时消耗的云资源，例如启动计算实例。Kubernetes 使使用和管理更多云资源变得更加容易，从而加速了云支出。

正如云资源本身有成本管理策略一样，您也可以使用类似的策略来管理和优化您的 Kubernetes 成本。最后，您将看到 Kubernetes 的成本管理利用了许多相同的方法，以及如何将相同的思想应用于您的 Kubernetes 成本。

### 问题从何而来？

这是云和 Kubernetes 成本非常相似的第一个方面:其核心是 DevOps 范式的兴起。DevOps 绝不是一件坏事——事实上，这是您能够比以往任何时候都更快地行动并向客户交付创新的原因。作为这种软件交付效率的一部分，Kubernetes 在开发和部署中的使用将一直存在，因为它简化了应用程序的部署、管理和扩展。

Kubernetes 的强大之处在于能够接受一个明确的需求，并自由地增减资源需求。这种需求是由开发人员定义的，他们倾向于高估资源需求，这样就不会出问题。直觉上，开发人员(以及开发运维人员)的目标是最大化应用性能的核心指标(这偶然导致了 APM 工具的兴起)。他们在流量高峰期间保持应用程序运行方面犯了错误，但这需要在下游花费大量资金。因此，云成本管理——以及作为副产品的 Kubernetes 成本管理——诞生了。

然而，重要的是要认识到开发人员并不是这里的全部问题。事实上，您希望让开发人员能够自由创新，快速构建、测试和部署代码。同时，你必须认识到开发人员是实现成本效率的关键人物，就像他们是软件交付和性能的关键人物一样。因此，关键是让开发人员能够在不增加额外工作的情况下提高成本效率，就像你在交付和性能方面所做的那样，不是吗？

至关重要的是，成本效益不仅仅是开发和运营团队的职能。为了实现真正的成本效益，授权给开发人员和运营团队与授权给组织的多个级别(包括工程团队、运营团队、财务团队和高管)同样重要。通过这种方式，您可以创建和实现协作式云成本管理文化，将整个组织带入共同目标、成本可见性、提高效率的机会以及有效的容量规划能力。

在 Harness，我们相信这种协作式云成本管理方法，从工程师开始。我们发现，提供这种可见性是工程师提高成本效率的最大障碍之一。就像 APM 工具提供了提高性能所需的可见性一样，Harness 提供了工程师识别关键机会并采取行动以最小化成本所需的可见性。

## 结论

看看 Kubernetes 是如何工作的，就很容易理解为什么使用它时云成本会增加，以及为什么在 Kubernetes 中管理成本的学习曲线如此之难。了解如何优化成本非常重要，因为意外过度配置资源非常容易。但是有一些策略可以帮助降低(甚至完全消除)Kubernetes 带来的成本急剧增加，并最终以最少的工程努力持续管理它们。通过阅读我们的免费电子书[Kubernetes](https://harness.io/learn/ebooks/ebook-cost-management-kubernetes/)的成本管理策略，找到这些策略以及更多。我们甚至不会问你的电子邮件地址！