# Campspot 将断电风险降低了 78% |线束

> 原文：<https://www.harness.io/blog/campspot-reduces-outage-risk>

Campspot 转向利用可靠的部署，降低停机风险。

**关于**

Campspot crafts 为度假村业主提供预订软件，为他们的客户提供完美的露营体验。他们是一个由积极上进的人组成的团队，利用他们的才能解决棘手的问题并构建经过测试的软件。

Campspot 成立于 2015 年初，希望与体现其持续学习、创新和尊重合作文化的人一起成长。他们由一起工作的聪明创新的个人组成。每一个人都用经过验证的技能、独创性和创造力为他们的产品增加价值，他们在教学和学习的循环中扩展这些品质。

**AWS 代码部署！=多端口应用**

Campspot 最初使用 AWS Code Deploy 部署其所有应用程序，但随着公司规模的扩大，Code Deploy 并没有随之扩展。Campspot 开始为其应用程序添加多个端口，Code Deploy 的蓝绿色部署没有对此结构的本机支持。该团队唯一的选择是添加自定义脚本化工作区层来部署更新。这些定制脚本在短期内解决了问题，但从长期来看却带来了三个问题:复杂性、大量的故障排除工作以及缓慢的手动回滚。

部署过程从简单到复杂。新开发人员不得不通读冗长的维基描述来学习如何部署。*点击此按钮，然后导航到此处并点击此按钮，然后返回并点击另一个按钮*。在这个过程中经常会出错。

“这不是我们开发人员的错，这个工具太笨重了。首先，他们甚至不应该需要访问 AWS 控制台来完成部署。"

> *Kristin Smith，DevOps 服务团队负责人*

这种复杂性意味着 Campspot 的应用程序每周只能在半夜部署一次。开发人员厌倦了熬夜部署他们的软件。

“当与 B2C 客户打交道时，尽快为他们提供功能和修复非常重要——我们需要能够在代码准备好时进行部署。”

> *Kristin Smith，DevOps 服务团队负责人*

这种复杂性意味着 DevOps 团队花费大量时间对失败的部署进行故障排除。该团队每周都会收到三到四次关于失败部署的 pings。每次 ping 都会导致一个小时的工作时间损失，这让开发人员和 DevOps 团队都很沮丧。

“最初的架构师事后非常后悔编写了这个定制解决方案。他知道他可以使用不同的工具，这样就可以省去很多麻烦。”

> *Kristin Smith，DevOps 服务团队负责人*

定制脚本代码部署解决方案最令人担忧的问题是停机风险。回滚大约需要 45 分钟才能解决，而且错误经常会被忽视几个小时。Campspot 每两周都会遇到一些问题。这最终导致了 2021 年夏天的连续停电。这些中断每次持续 15 分钟，对用户造成很大干扰。

这是最后一根稻草。Campspot 需要一种更好、更安全的部署方式。

**一致性和安全性**

Campspot 转向利用可靠的部署，降低停机风险。

导致如此多开发人员困惑的复杂性不过是过去的纪念品。团队现在可以每天部署，不必担心只在晚上部署。开发人员不必阅读维基笔记的页面，他们只需用 Harness 按下一个按钮。

DevOps 团队腾出时间从事其他任务关键型项目，开发人员不再需要等待 DevOps 团队解决所有部署问题。

但是，以下示例展示了 Campspot 的最大改进:

“上周四是一场完美风暴。我们的开发人员不小心将一个非常糟糕的循环发布到了产品中。这个 P1 问题会导致 500 个错误。但是有人在他们的 APM 控制台中发现了这个问题。然后，他们利用 Harness 在问题影响到任何客户之前进行了回滚。”

> *Kristin Smith，DevOps 服务团队负责人*

现在，Campspot 回滚需要 10 分钟，每次节省 35 分钟。

使用 Harness，Campspot 能够更快、更安全地部署。我们称之为胜利。