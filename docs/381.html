<html>
<head>
<title>Introducing AutoStopping for RDS | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>RDS |线束自动停止简介</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/autostopping-for-rds#0001-01-01">https://www.harness.io/blog/autostopping-for-rds#0001-01-01</a></blockquote><div><p>利用智能云自动停止规则帮助管理闲置的云资源。今天，我们正在扩展自动停止功能，以包括对RDS的支持。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>闲置资源是云账单的主要来源之一。EC2实例、Kubernetes工作负载和RDS等数据库等计算资源按运行的每分钟计费，而不管它们是否被主动使用。因此，在这些资源没有为任何流量服务的时候，它们只是增加了你的浪费。这种浪费性的支出增加了运营成本，却没有增加任何价值，并阻止您将这些资金投资于业务增长。生产前账户是此类成本的主要来源，其中资源大部分时间处于非活动状态，仅在开发人员部署或测试时使用。</p><p>这就是驾驭云成本管理将帮助你的地方。智能云自动停止是Harness CCM中的一项独特功能，可以在不改变基础架构的情况下回收浪费的预算。自动停止可以在没有检测到资源流量时停止<a href="https://harness.io/blog/idle-resources/" target="_blank">空闲资源</a>，并在收到流量时自动启动。使用此功能的客户会在其生产前环境中看到大量节约！</p><p>向您的云帐户添加<a href="https://harness.io/blog/cloud-cost-management/autostopping-rules-kubernetes/" target="_blank">自动停止规则</a>的主要好处是:</p><ul role="list"><li><strong>自动节省:</strong>自动停止可以在主要资源空闲时自动关闭主要资源和相关资源，从而最大限度地节省资源。例如:运行web服务器的EC2实例依赖于RDS数据库。</li><li><strong>减少开发人员的工作量</strong>:无需维护和运行额外的脚本来启动/停止资源。</li><li><strong>最小化空闲资源的数量:</strong>与最小资源计数为1的自动缩放不同，Harness AutoStopping可以将最小资源减少到零，从而节省更多资源。</li></ul><p>自动停止目前支持EC2实例、ECS和Kubernetes。在此次发布中，我们现在增加了对RDS自动停止的支持。</p><p>Amazon RDS是最流行的托管数据库服务之一。促使我们优先支持RDS自动停止的趋势是:</p><ul role="list"><li>RDS数据库因其简单性和可伸缩性而被越来越多的人采用。</li><li>用于存储来自运行在EC2/EKS/ECS、cron/批处理作业甚至无服务器功能上的web应用程序的数据。</li><li>RDS成本可能会快速增长，即使数据库没有被频繁使用。</li></ul><p>在下一节中，我们将介绍目前支持RDS自动停止的各种用例。</p><h2><strong>使用RDS的自动停止规则</strong></h2><p>您可以使用RDS的自动停止功能创建三种规则。</p><p><strong> 1-具有RDS依赖性的EC2规则</strong>–这非常适合有web服务器或应用服务器连接到RDS数据库以访问/存储数据的用例。</p><figure class="w-richtext-figure-type- "/><p>在这种情况下，如果没有到应用服务器(EC2实例)的流量，自动停止规则将停止应用服务器及其连接的RDS数据库。一旦应用服务器收到流量，规则将首先启动RDS实例，然后启动EC2实例。这为两种情况都节省了大量成本。</p><p>只需创建一个EC2自动停止规则并添加一个RDS规则作为依赖项，就可以实现这一点。</p><p><strong> 2-仅RDS规则—</strong>这适用于RDS数据库用于存储结果或直接从后台作业/Cron/批处理作业访问数据的用例。这些作业可以在Lambda函数、AWS批处理或任何自定义Cron作业中运行。</p><figure class="w-richtext-figure-type- "/><p>在这种情况下，如果在预设的时间内没有检测到从后台作业到RDS数据库的流量，RDS实例将被关闭。此外，一旦检测到数据库的流量，RDS实例将自动启动。</p><p><strong> 3- RDS固定计划规则</strong><strong>–</strong>这适用于RDS数据库需要运行一段固定时间的情况。当资源被配置为按照固定的计划运行或停止时，它不受该时间段内的活动或空闲的影响。例如:您可能需要数据库仅在每天上午8点到下午5点的办公时间内处于活动状态。</p><p>现在让我们看看如何通过5个简单的步骤来配置这些规则。</p><h2><strong>如何设置RDS的自动停止规则</strong></h2><p>RDS自动停止规则的设置过程非常简单。</p><ol role="list"><li>首先，选择要启用规则的AWS帐户。</li></ol><figure class="w-richtext-figure-type- "/><ol start="2" role="list"><li>使用名称和空闲时间定义自动停止规则(如果未检测到流量，RDS将在该时间后停止)。</li></ol><figure class="w-richtext-figure-type- "/><ol start="3" role="list"><li>选择RDS实例，并从其中一个AWS区域添加数据库。</li></ol><figure class="w-richtext-figure-type- "/><ol start="4" role="list"><li>(可选)添加对另一个规则的依赖关系或创建固定计划。</li></ol><figure class="w-richtext-figure-type- "/><ol start="5" role="list"><li>单击下一步，检查并保存。就是这样！您正在节省大量成本。</li></ol><h2><strong>结论</strong></h2><p>专注于减少云支出和提高成本效率的努力会对组织的底线产生重大影响。这些节省下来的钱可以用来发展你的企业，并投入到生产中去。</p><p>自动化闲置资源管理是在云中实现成本节约的最简单方法之一。Harness CCM使您开始成本优化之旅变得非常容易。自动停止可以通过动态和固定的计划来帮助优化您的生产前环境。<a href="https://harness.io/products/cloud-cost/" target="_blank">报名免费试用</a>亲身体验！</p></div></div>    
</body>
</html>