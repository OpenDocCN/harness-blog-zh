# 吉托普斯:德沃普斯街区的新成员！装具

> 原文：<https://www.harness.io/blog/gitops-new-kid-devops-block>

GitOps:真理的唯一来源，as-code 的传播者，CI/CD 自动化的带来者。点击此处了解 GitOps！

多年来，软件开发方法已经从瀑布模型，到敏捷，再到我们今天所说的 DevOps。尽管这些方法主要集中在文化方面，但它们都有强大的工具和技术支持，使工作比以前更加简单。正如 Docker 和 Kubernetes 通过简化组织的容器化来促进 DevOps 的采用一样，我们现在正在见证 GitOps 获得牵引力，但 Git 是这种方法的核心。

本文将探讨 GitOps:为什么使用它？它是如何工作的？

## 为什么是 GitOps？

如今，许多企业都在采用这种新的基础设施和应用版本管理方法。GitOps 帮助工程团队更快地响应问题，更快地进行修复，从而实现更敏捷的部署。一个显著的好处是可以通过历史记录跟踪所有的更改，这使得调试和回滚更加容易。它还允许您更快地进行更改，并通过让其他人知道您在部署过程中正在做什么来改善协作。此外，如果出现问题，部署很容易逆转。

有了 GitOps，如果你不确定或者有些东西不工作，你就不必通过复杂的日志来调试问题；你可以简单地回到你的提交历史来清楚地看到一切，也可以回滚到以前已知的稳定版本。

GitOps 通过在交付管道的中心利用 Git 降低了一些复杂性。开发人员可以利用他们的 Git 命令知识，而不是学习一个新的闪亮工具。

## 它是如何工作的？

许多组织努力发布新特性，因为复杂的发布过程会增加停机时间并影响开发人员的士气。部署数百个需要几个小时才能部署一夜的特性也无济于事——GitOps 是一种管理此类部署的方法，它自动完成所需的繁重工作，而不会发生意外。

GitOps 的中心思想是将项目代码保存在 Git repo(应用程序代码、文件、依赖项、清单等)中。)并将 repo 的状态与 Kubernetes 集群的状态同步。为了成功实现这一点，代理会跟踪清单文件的更改，或者每当开发人员推出新代码时进行跟踪。代理可以看到发生了什么变化，并将其同步以匹配预期/期望的状态。

GitOps 有两种工作模式——推和拉。基于推送的方法是指您的 CI/CD 工具将变更推送到生产环境中。基于拉的方法要求在每个集群中安装一个代理。它会跟踪变更，并在与所需配置不匹配时将它们拉入。FluxCD、 [Argo CD](https://harness.io/blog/continuous-delivery/argo-cd-alternatives/) 和 [JenkinsX](https://harness.io/blog/continuous-delivery/jenkins-x-alternatives/) 是开创 GitOps 空间的三大平台。

让我们假设您有一个包含所有应用程序代码和正确配置的 CI 管道的 Git 存储库。当开发人员向 GitHub 推送新代码时，它会得到验证，CI 服务器会通过运行指定的测试来检查和构建代码，以查看是否一切正常。接下来，创建一个容器映像并将其推送到映像注册中心。Git 操作符获取/挑选新的变更，并扫描它以查看当前状态和期望状态是否匹配。如果当前状态和期望状态不匹配，那么它将被提供以保持期望状态。最后，部署开始了。

## GitOps vs DevOps:有什么区别？

DevOps 和 GitOps 都致力于简化核心软件的部署，但它们在操作方式上有所不同。让我们看看他们是如何相互比较的。

*   GitOps 符合 DevOps 的自动化原则。它有助于公司经常快速地增量部署软件。
*   DevOps 专注于打破开发和运营之间的孤岛，而 GitOps 则专注于智能和自动化的运营。
*   DevOps 通过基于推送的方法促进 CI/CD 自动化，而 GitOps 主要通过基于拉取的方法促进持续交付。
*   DevOps 涉及声明性和命令性的部署方法，而 GitOps 支持声明性 IaC。
*   GitOps 将重点放在 Git 上，将其作为一个突出的工具。相比之下，DevOps 并不专注于工具。相反，它侧重于文化方面，以促进开发和运营之间的协作。
*   GitOps 更倾向于以开发人员为中心，因为它通过使用 Git 和 Kubernetes 等工具简化了部署。相比之下，开发运维不能用任何特定的工具来描述，因为它是整个组织的方法论。
*   DevOps 的范围不仅仅局限于 CI/CD 和软件交付的正确性。相比之下，GitOps 的主要焦点是持续地以正确的方式交付软件。

## 结论

当看 GitOps 时，很明显它有许多优点。它帮助开发人员和 DevOps 工程师自动化软件交付过程。它通过将软件从开发转移到测试、试运行，并最终转移到生产来实现这一点。开发人员已经喜欢上了这种方法，看起来 GitOps 将在云原生空间继续流行。

GitOps 目前令人担忧的一点是，它缺乏成熟的端到端工具/平台，因此组织可以将其作为标准方法使用。因此，为了让它成为新的现实，Harness 最近推出了 Harness GitOps，它集成了高度复杂的 CI 和 CD 功能。自己试试:[驾驭 GitOps](https://harness.io/gitops-beta/) ！