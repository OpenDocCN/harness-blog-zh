# 如何使用版本控制系统来交付更好的|工具

> 原文：<https://www.harness.io/blog/version-control-systems>

版本控制改进了开发人员一起开发应用程序的方式。在这篇博文中，学习如何使用 VCS 和 Git 来更好地交付。

本周，我们介绍了名为 [Deliver Better](https://www.deliver-better.com/) 的学习社区。顾名思义，这是一个学习网站，面向所有对提升软件交付感兴趣的人。希望为工程师、领导者和任何与软件交付有利害关系的人创建一个学习社区，以引起共鸣并找到有助于更好交付的内容。我们目前公开呼吁分享关于更好交付的学习内容。[点击此处](https://www.deliver-better.com/contribute)立即注册并投稿！

本着交付更好的精神，今天，我们将讨论版本控制系统以及它如何扩展到软件交付。

源代码管理，也称为版本控制，允许开发人员管理和使用他们的软件代码。该工具为开发人员在代码库的不同部分上工作、协作和交付新版本提供了好处。正确的源代码管理可以防止不可逆的代码变更，并且最终有助于改进开发人员一起开发应用程序的方式。

## 版本控制系统指南

版本控制系统(VCS)是提供版本控制的工具，允许还原、跟踪和纠正软件代码。把 VCS 想象成你修改代码的时间线。一个分支代表这个时间线。在最基本的 VCS 工作流中，有一个主分支叫做**主分支**。

通过进行所谓的**提交**，你可以在时间线内前进。它们是时间线内的点，包含上传或**推**到存储库的当前源代码的副本。存储库或 **repo** 将您的版本控制代码作为项目保存。

一个关键的收获是引入更多的**分支**,这些分支从主分支的进展点产生。开发特性有一个分支是很常见的。开发人员正在开发他们产品的 1.0 版本的开发功能，以开发并更改代码库，而不影响主分支。开发人员将他们的更改提交并推送到工作分支，该工作分支是主分支代码的副本。一旦他们完成了所述工作的开发，他们可以将他们的分支变更合并回主干，或者更确切地说是*主*分支。

[A Visual Representation of Branching](https://gitbookdown.site/branching-git-branch.html)

使用 VCS 的最佳实践是始终用代码的干净工作版本维护主分支。开发人员下载一个包含代码分支的存储库，默认分支是 master。理想情况下，他们不应该花时间去寻找一个不同的分支，并把它拉下来，在他们的机器上本地构建应用程序。对于需要多个存储库和分支来运行应用程序实例的应用程序来说，这个工作流是复杂的。

另一种常见的做法是在主分支中标记代码版本。那么发布可以与特定的标签相关联。任何有权访问您的存储库的人都可以查找那个标签并看到代码。您还可以运行命令来获得分支之间的差异或对单个分支的提交。VCS 跟踪代码库中谁在何时何地做了修改。

总的来说，开发人员在他们的机器上开发代码，向版本 1.0 提交他们的进展。一旦他们准备好存储他们所有的开发进度，他们就将这些变更推送到存储库中的一个分支。另一个开发人员可以复制该工作，从稳定的 1.0 版本的代码中分支出来，并在他们的机器上对 1.1 版本进行更多的代码更改。随着应用程序的增长和团队规模的扩大，他们能够跟踪源代码的变更和修订。

## **git flow 和分支策略指南**

[Git](https://git-scm.com/) 是一个流行的版本控制系统工具，许多其他开发者工具如 IDEs 帮助开发者使用 Git 管理他们的源代码。此外，使用 Git 的策略也出现了，比如 GitFlow。Gitflow 是一种分支策略。它变得流行是因为它是管理有许多贡献者的大型项目(比如开源项目)的好方法。

A Visual Representation of Gitflow

以下是 Vincent Driessen 介绍 GitFlow 的原始帖子的摘要:

*   单个存储库有两个主要分支，**开发**和**主**。
*   主分支持有准备用于产品发布的代码。
*   开发分支持有开发代码。一旦分支上的开发稳定并准备好发布，变更将被合并回主版本并被标记。
*   开发人员将检验开发分支并创建**特性分支**，以便将他们的开发合并回开发分支。
*   要部署的发布也将属于**一个发布分支**，它将合并到主分支中。
*   如果产品发布有任何问题，**热修复分支**从主分支分支出来，接受变更并合并回开发和主分支。
*   在获得批准合并回开发或主分支之前，您必须创建一个提取请求。

这就是 Gitflow 的简要概述。

当你开始一个项目时，保持这种结构是一个挑战。它甚至会减慢你的软件开发。合并回主分支的拉请求模型意味着 Gitflow 需要多级批准才能发布。简单性对于绿地开发和高效团队的快速发展是非常好的。

基于主干的开发和 GitHub 流是可供选择的分支策略。这里的主要要点是，VCS 的工作流程不是一刀切的。选择一种方法，并根据需要进行优化/调整。

## **这不全是关于分支的**

源代码管理过程并没有否定软件开发的“最佳实践”。也不能保证有效性。以下是与 VCS 合作时需要考虑的一些事项。

*   评估项目 t。确定你对 VCS 的使用如何与项目和团队保持一致。快速迭代有多重要？你是在维持还是开始一个项目？团队的软件交付表现如何？变更失败率高吗？
*   有 VCS 规则。为团队**设定一些关于如何以及何时提交**的实践。显示提交消息的示例。建立您希望团队如何设计提交消息的方法，使其信息丰富且一致。考虑一下每天至少承诺一次是否有意义。
*   **确定存储在存储库中的内容。**找到适合你的生态系统的结构。您应该将工作区配置或基础设施作为代码或其他相关文件保存在哪里？
*   最后，考虑**将您的 VCS 工作流程与您的软件交付**相集成。考虑标记候选发布版本的节奏以保持一致性。在 Harness，我们每天都在交付产品，因此我们的敏捷流程针对这种节奏进行扩展和规划。瞄准你的 sprint 故事和交付的接受标准。功能任务应该有完成标准。使用 VCS 是触发软件交付管道的一个好方法。然而，使用 VCS 并不能保证您永远不会看到任何破坏性的代码变更被合并到主分支中。开发人员仍然应该在他们的环境中构建和测试他们的更改！

更好地交付的一个主要组成部分是与团队中的其他人一起工作。版本控制系统支持有效的代码修订和版本控制。使用你对 VCS 的讨论来讨论开发人员如何有效地发布稳定版本的代码。如果你想了解更多关于 VCS 如何使用软件交付的信息，请查看我们的[文档](https://docs.harness.io/category/goyudf2aoh-harness-gitops?gclid=EAIaIQobChMIoOip1uqD6AIVED0MCh3q6wu5EAAYASAAEgLXRPD_BwE)关于使用 GitOps with Harness！