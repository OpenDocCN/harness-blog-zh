# 功能标志|线束的断路开关和其他操作用例

> 原文：<https://www.harness.io/blog/kill-switches>

我们支持线束功能标志中的永久标志，随着我们对该功能的发展，我们希望团队能够看到将控件永久连接到您的产品中的价值，这些控件可以在您的任何环境中立即用作断路开关。

如果你最近才接触到特性标志，你可能不知道特性标志作为一个概念已经存在了很长时间，并且可以很容易地被看作是应用配置系统的一种进化。

正因为如此，功能标志最少使用但最强大的用例之一[可以是 ops 和 SREs 团队。许多人从未想过这种潜力，但它可能是特性标志最能改变你的工程组织的一种方式。](https://harness.io/blog/feature-flag-use-cases/)

## 不仅仅是前端和用户的变化！

当考虑特性标志时，重要的是要马上说它们不局限于面向客户的变化和前端服务。在 Harness，我们的服务器 SDK 支持所有主要的后端语言，我们使用功能标志进行重构，帮助消除技术债务，并推出 API 更改——等等。

*Available SDKs.*

## 应用程序配置

考虑与 ops 相关的功能标志的一种方法是将其视为应用配置层。你可能想要关闭和打开你的应用程序，或者向上和向下拨号的主要杠杆是什么？

功能标志不一定要在一段固定的时间后从代码中去掉。我们支持线束功能标志中的永久标志，随着我们对该功能的发展，我们希望团队能够看到将控件永久连接到您的产品中的价值，这些控件可以在您的任何环境中立即用作断路开关。

功能标志仪表板可以很容易地成为 ops 仪表板，具有关闭备份系统的按钮、特定区域的功能、基于负载的特定功能或您可能想要的任何其他 kill switch 或 override 功能。

## 两个示例场景

让我们看两个真实世界的例子来帮助说明这个想法:

### 断路开关的场景#1

在以前的工作中，我们有需要从短期缓存进入存储的日志数据，所以我们有一个系统来收集和存储它们。在高峰负荷或其他不稳定时期(特别是上游有 AWS)，我们经常会看到这种存储变得非常昂贵或非常不可靠。因此，我们会在这些期间关闭该服务，但这是手动的，并且涉及一系列 AWS 命令和数据库更改，以便稍后禁用和重新启用。通过将它连接到一个特性标志，我们能够以一种更加轻量级、可见和易于管理的方式立即关闭和打开这个特性。

### 断路开关的场景#2

如果您在具有不同数据法律的多个地区运行您的应用程序，或者某些租户(想想政府或金融客户)有特殊的规定，那么在一个地方显示一个按钮而在另一个地方却没有，这可能会很混乱。将关键功能作为永久功能标志连接起来，您可以轻松地为所有北美用户打开某些功能，但不能为欧洲用户打开，因为欧洲用户可能有不同的数据法律标准，或者仅在高合规性集群中禁用它，因为它可能会影响客户的 SOC2 需求。您可以将所有这些控制从复杂的应用程序代码中移除。或者，您可以运行多个应用程序变体，并使用标志来使每个人都容易看到和审计这些关键控制。

## 运行手册

如果您以前从未将特性标志用于这些目的，一个合理的问题是，“我该从哪里开始呢？”

查看您团队的运营手册可能会有所帮助。如果你没有操作手册，有没有一个地方保存不常见或罕见的事件报告？从那里开始。

看看这些场景是否可以由一个标志(或一系列标志)控制。关闭一个标志比炮轰 AWS 并以这种方式做出改变更容易、更安全、更可控、更可见——或者不得不创建一个新的 PR，并匆忙合并和部署。

审核这些过程，寻找将事情转移到标志的机会，可能会给您带来一两个快速的成功，您可以在此基础上进一步发展。

## 结论

在测试、更安全地部署、推出变更和降低风险方面，flags 的力量非常重要。然而，我们认为团队没有充分考虑标志如何转变您执行操作的能力，并支持您的应用程序的各种配置和可用性需求。我们希望看到这种变化！

如果您有任何关于针对这些类型的需求使用功能标志的示例、问题或反馈，请联系我们！我们很乐意帮助你。

与此同时，请随意下载我们在[功能标志](https://harness.io/learn/ebooks/ebook-feature-flags-101/)上的免费、无闸门电子书，以了解关于该主题的更多信息。