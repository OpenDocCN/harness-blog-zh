<html>
<head>
<title>How to Use Ephemeral Environments to Test and Scale Your Deployments | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何使用短暂的环境来测试和扩展您的部署|利用</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/ephemeral-environments-test-and-scale-deployments#0001-01-01">https://www.harness.io/blog/ephemeral-environments-test-and-scale-deployments#0001-01-01</a></blockquote><div><p>在本教程中，我们将讨论什么是短暂环境，它们如何工作，以及如何配置它们。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>当今的 DevOps 世界的特点是围绕开发人员体验和生产力的令人兴奋的新方法和工具。手动测试和部署过去需要几天才能完成的日子已经一去不复返了。这些新工具自动化并简化了软件开发流程。通常，无论何时创建任何应用程序，它都会进入一个持续集成(CI)工具或平台，通过各种框架测试代码。如果测试通过，代码将被部署。</p><p>然而，如果您的过程和工具冗长且配置复杂，那么提高速度是困难的。这就是为什么易用性对于每个评估任何新工具的开发人员来说都是不容置疑的。开发人员喜欢 CI 工具，它不仅易于设置，而且可以扩展以测试他们的应用程序。配置基础架构和其他相关任务令人望而生畏且耗时，占用了部署资源。</p><p>这就是所谓的短暂环境的概念的由来。短暂的环境可以用来更快地测试您的应用程序，方法是创建短暂的环境实例，并在工作完成后自动销毁。在本教程中，我们将讨论什么是短暂环境，它们如何工作，以及如何配置它们。</p><h2>什么是短暂的环境？</h2><p>短暂的环境是工程和开发团队快速有效地协作和测试新特性的绝佳方式。它们为运行测试和预览特性提供了一个临时的、隔离的环境，而不用担心做出任何可能影响生产系统的永久性更改。这允许快速迭代和开发，而不需要进行长期的变更。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>通过配置短期环境，您可以定制环境以满足特定需求和偏好，如首选操作系统、服务器数量或内存和存储类型。一旦建立了环境，您就可以利用该环境在您的应用程序上运行测试和实验。</p><p>在短暂的环境中运行应用程序相对简单。所有必要的文件和配置将被打包到一个可部署的工件中。然后可以将它部署到短暂的环境中，并快速启动，从而实现快速的应用程序开发和测试。</p><p>该过程通常是自动化的，允许连续部署，并且在必要时可以轻松回滚环境。此外，可以将该流程配置为在部署完成之前运行某些测试或其他检查。这有助于确保应用程序按预期运行，并且没有错误或问题。</p><h2>短暂环境的优势</h2><p>总的来说，短暂的环境为快速测试和预览新特性提供了一个健壮的、随需应变的平台。让我们深入了解一下它们相对于传统静态或共享暂存环境的一些独特优势。</p><h3>异步协作</h3><p>短暂的环境使得团队更容易异步协作。当团队分布在不同的时区时，这尤其有用。建立一个短暂的环境允许团队共享他们的工作并在项目上协作，而不必同时工作。它们还通常用于预览功能，因为团队可以快速启动新环境来测试新想法，而不会影响现有的服务。</p><h3>成本效率</h3><p>短暂的环境具有成本效益，设置简单，并且可以在需要时销毁和重新创建，这使它们成为跨多个项目协作的团队的绝佳选择。它们为开发人员提供了临时环境，可以有效地用于测试和实验，并在实验完成后销毁。开发者不需要担心直接从云提供商那里运行资源会增加额外的成本。</p><h3>敏捷灵活</h3><p>这种短暂的环境比传统环境更加敏捷和灵活，允许开发人员根据他们需要的具体规范快速构建应用程序的实例。这使得部署和测试更改变得更加容易，而无需等待构建和部署新的应用程序版本。此外，短暂的环境允许团队快速扩展其应用程序以满足用户的需求，并通过自动关闭不再需要的实例来降低运营成本。最后，短暂的环境还提供了更高的安全性和可靠性，因为它们与其他实例完全隔离，并在特定时期后自动销毁。</p><h2>如何使用 Harness 创建一个短暂的环境</h2><p>使用 Harness，您可以自动设置和配置短暂的环境。只需点击一个按钮，您就会看到一个可供利用的环境。Harness 提供托管虚拟机(VM)来运行您的构建，因此您可以测试和构建您的代码，而不用担心设置任何东西。Harness 可以提供基础设施，因此您可以专注于开发优秀的软件。</p><p>首先注册<a href="https://app.harness.io/auth/#/signup/"> <strong>驾驭免费账号</strong> </a>并创建项目<strong>选择 CI 模块</strong>。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>点击<strong>开始</strong>创建您的管道。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>连接您的<strong>代码库</strong>。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>(我正在使用这个<a href="https://github.com/pavanbelagatti/Simple-Node-App">简单节点应用</a>存储库。你可以在本教程中使用它。它有一个简单的测试用例。)</p><p>默认情况下，在执行步骤中为您配置了一个简单的<strong> Echo 欢迎消息</strong>。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>如果您点击<strong>回显欢迎消息</strong>步骤，您将看到配置。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>现在您有了测试我们的应用程序的短暂环境。</p><p>如果您单击<strong>基础架构选项卡</strong>，您可以看到选项:虚拟机和 Kubernetes。</p><p>我们将选择虚拟机作为我们的选择，因为我们将使用它们作为基础架构来测试和构建我们的应用程序。您可以从一系列可用的操作系统中进行选择，如 Linux、macOS 和 Windows。我们在这里选择了 Linux 作为我们的教程。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>您可以单击“继续”并保存管道。</p><p>当您保存并执行这个管道时，您将看到打印出<strong> Welcome to Harness CI </strong>的输出。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>您可以编辑管道以在执行下添加'<strong>运行测试</strong>'步骤。我们将看到如何使用短暂环境来配置运行步骤。</p><p>添加一个步骤并选择“<strong>运行</strong>步骤。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>按如下方式配置运行步骤:</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>此时，您的管道如下所示:</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>现在，保存并运行管道。您可以看到，默认的<strong> <em>回显欢迎消息</em> </strong>和新添加的<strong> <em>运行测试</em> </strong>步骤都成功执行。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>我们现在可以利用多种环境来添加更多的测试，并对我们的应用程序进行实验。</p><h3>在短暂的环境中更快地构建和测试</h3><p>组织需要找到加快软件部署过程的方法，以便在当今竞争激烈的软件市场中竞争，而这样做需要通过向开发人员提供必要的工具和知识来使他们的生活更加轻松。使用短暂的环境是一种最佳实践，可以确保快速测试和部署您的应用程序，而不必担心底层基础设施及其设置。在 Harness 上执行管道时，您的构建在包含所需设置的虚拟机上运行，因此您可以立即开始构建和测试您的应用程序。</p><p><a href="https://www.harness.io/products/continuous-integration">了解更多关于线束 CI </a>、<a href="https://app.harness.io/auth/#/signup/?module=ci">的信息，今天就免费试用</a>，查看<a href="https://developer.harness.io/">线束开发中心</a>获取更多产品教程。</p></div></div>    
</body>
</html>