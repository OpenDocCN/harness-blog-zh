# 宣布:功能管理|线束的中继代理服务

> 原文：<https://www.harness.io/blog/introducing-relay-proxy-feature-flags>

用于特征管理的中继代理服务在这里！告别大规模安全管理功能可用性的压力。

我们很高兴地宣布引入我们的马具特征标志的中继代理服务。功能标志的用户现在可以使用代理来位于他们的应用程序和工具之间，允许空气间隙环境，并为利用功能标志的任务关键型应用程序提供额外的缓存和弹性。

## 使用外部工具维护高可用性和安全性

每当团队使用供应商服务时，他们都会关注安全性和可靠性。毕竟，如果您使用诸如利用特性标志之类的东西来管理产品中的特性展示和特性可用性，您会希望确保最小的风险。对于像特性管理这样的东西，它的使用已经从核心工程团队扩展到业务的其他部分，如产品、销售、客户成功和市场营销，解决这些问题变得更加迫切。

让我们把可靠性和可用性作为第一个要解决的问题。在外部 API 成为一件事情之前，对于开发团队来说，忽视这个概念是很常见的，比如说，“为什么我要把别人的停机时间加到我自己的停机时间里？”你为什么要这么做？从那时起，软件交付已经走了很长的路，团队更加渴望使用外部工具来加速他们的开发——同时确保任何时候的高可用性。特别是对于任务关键型应用程序，任何新服务，无论是内部还是外部的，都必须保证正常运行时间。

硬币的另一面是安全性，这对于企业级组织来说至关重要。对于这些组织来说，在内部和外部之间设置防火墙并不罕见。对于这些组织来说，希望最大限度地减少与外部世界的开放连接也并不罕见——当你看到公司的技术堆栈有多大时，这是一个显而易见的考虑因素。您能想象每个外部 API 或工具至少有一个开放的连接，甚至更多吗？事实上，每一个新的外部连接都会成倍地增加开放连接的数量。这些开放连接中的每一个都会带来安全风险，并且还会产生另一个组织无法控制的接入点。

对于大规模或计划扩大规模的组织来说，最重要的是尽可能控制对内部资源的访问，并最大限度地提高可用性。在功能标志的世界中，这具有额外的意义。当这些领域出现问题时，特征标志世界会发生什么？

*   客户收到了错误的功能，或者没有收到更改。
*   内部团队成员不能更改标志配置。
*   团队不能验证他们从旗帜评估中收到的数据。
*   大量未被使用但会产生成本或风险的开放连接。

## 创建单一安全网以满足关键要求

为了解决这些问题，我们为线束特征标志构建了中继代理。中继代理接受了上面要解决的所有需求和问题，并优雅地解决了它们，同时保持了使用功能管理系统的好处。

## 为什么要中继代理？

最终，这项服务解决了两件事:安全性和可用性。通过部署中继代理，线束特征标志的用户可以实现以下功能:

*   **气隙部署:**如果您没有(或不允许)外部访问您的应用程序，您可以在您的网络中部署代理。本地应用程序直接连接到代理，代理可以从外部访问远程功能标记服务来同步配置。
*   **离线模式:**这与气隙模式相同，只是代理没有连接到互联网。在这种情况下，必须使用配置文件从外部加载配置。配置文件用于将您的程序链接到代理。
*   **高可用性/可靠性:**特征标志服务极其可靠。如果发生重大故障，我们将故障转移到故障转移群集。但是，在网络完全中断的情况下，中继代理可以确保您的应用程序即使在重启后也能继续运行。

通过部署代理服务，用户突然发现自己能够最大限度地减少要利用的开放连接的数量，并把自己从“如果出现中断，这对我的客户会有什么影响？”的困扰中解脱出来代理服务的使用确保了 Harness 客户能够满足他们对特性管理服务的安全性和可用性要求——所有的好处，几乎没有任何风险。

## 它是如何工作的？

虽然其价值很大，但中继代理的工作方式实际上非常简单。它存在于开发者使用的 SDK 和托管的 Harness 特性标志服务之间。启动时，代理服务将从功能标志服务加载必要的数据，以确保即使网络连接断开，一切都完全正常。

您在这里可以看到，用户现在可以限制自己使用一个出站连接，而不是传统上要求的每个 SDK 一个。它还充当一种配置存储或缓存，系统将使用它来创建正确的输出。现在，用户可以创建自己的安全网，并随时从自己的个人缓存中工作，而不必依赖于 Harness 服务(这显然会在上游和下游都得到更新)。

## 如何开始

如果您已经是一个 Harness Feature Flags 用户，那么您会想要阅读中继代理的[文档](https://ngdocs.harness.io/article/q0kvq8nd2o-relay-proxy)，其中将详细描述它是什么、它如何工作，以及如何在您自己的系统中部署代理服务。

如果你还没有注册使用 Harness，但想开始使用，你可以很容易地注册一个[免费试用](https://app.harness.io/auth/#/signup/)，看看代理服务的运行。快乐发展！