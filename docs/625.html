<html>
<head>
<title>Java Bootstrap: Dropwizard vs. Spring Boot | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Java Bootstrap:drop wizard vs . Spring Boot | Harness</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/java-bootstrap-dropwizard-vs-spring-boot#0001-01-01">https://www.harness.io/blog/java-bootstrap-dropwizard-vs-spring-boot#0001-01-01</a></blockquote><div><p>如何在尽可能短的时间内启动一个生产就绪的Java应用程序。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>我不是一个喜欢早起的人，所以有时需要一段时间才能得到“所有系统都准备好了”的提示。直到不久前，Java应用程序也是如此，但与闹钟上的贪睡功能不同，我们在这里讨论的解决方案实际上更有意义。有了像Dropwizard、Spring Boot、Groovy的Grails和Scala的Play这样的现代开源框架！您可以在几分钟内从头开始构建一个生产就绪的应用程序。即使你不是一个早起的人。即使你不喜欢巫师帽。在这篇文章中，我们将讨论基于轻量级Java的框架与Dropwizard和Spring Boot的异同。</p><p>嘶！无论你决定使用Dropwizard还是Spring Boot，确保你拥有保持应用质量所需的一切。OverOps跟踪软件质量，并在软件交付生命周期的所有阶段为所有错误和减速提供可操作的代码级洞察。</p><h2>权衡:选择的自由与速度的需求</h2><p>无论你选择哪种框架，你都要牺牲一些选择的自由，因为Dropwizard和Spring boot都非常固执己见，并且坚信约定胜于配置。有多强？在我们所做的并排比较中，您会发现每个第三方库都加入了不同的风格。生产级应用程序所需的大部分(如果不是全部)核心功能都是现成的或作为集成提供的。</p><p>这种牺牲的好处是速度，尽管摆弄新的库和定制自己的完美环境有时很有趣。当你需要快速做一些事情并开始运转时，你最好将这些决策委托给别人，并摆脱随之而来的复杂性。这并不完全是蓝色药丸对红色药丸的场景:当您开始运行时，如果需要，您很可能能够定制和调整它。现在只要把你最喜欢的构建工具，不管是Gradle还是Maven，指向drowizard &amp; Spring Boot，你就可以开始了。</p><p>让我们深入研究并发现每个框架的哪些方面会使您受到限制，哪些方面可以更加灵活。</p><p>剧透警告:我们在OverOps这里面临类似的困境，并决定使用Dropwizard为企业提供OverOps的内部版本。但是曾经被视为Dropwizard默认(也是唯一)的选择，让我们打破了对Spring boot和令人疲惫的XML配置的偏见。</p><h2>Dropwizard vs. Spring Boot:谁支持你？</h2><p>生产级应用依赖于许多组件，每个框架都为我们做出了选择。让一个RESTful web应用起飞的所有武器都摆在这张桌子上，左边是戴着巫师帽的Dropwizard，右边是穿着绿色短裤的Spring Boot。核心的开箱即用库和插件用颜色分开，Spring的内部依赖项用白色标记。</p><p>好了，现在我们对这片土地有了更好的了解，让我们看看它到底告诉了我们什么。我还建议仔细看看每一个框架，因为所有的东西都是开源的，你可以在GitHub上愉快地查看:这里是Dropwizard源文件，这里是Spring Boot。</p><h3>弹簧依赖关系</h3><p>就像电视上说的那样，Spring Boot专注于春季应用。因此，如果您想进入Spring生态系统或者已经熟悉它，并且需要建立一个快速的应用程序，这可能是一个不错的选择。REST支持和DevOps特性(我们很快会谈到，如指标和健康检查)基于Spring框架的核心，而DropWizard将其REST支持放在Jersey中。这几乎是Spring Boot让你陷入困境的唯一方面，尽管它在其他方面更灵活(编辑:JAX-RS支持是在1.2版添加到Spring的，也可以用于Jersey。谢谢皮特。)</p><h3>HTTP服务器</h3><p>在这里我们可以看到Spring Boot是如何变得更加灵活的。Dropwizard采用了比Spring Boot更极端的约定胜于配置的方法，并且完全基于Jetty，而Spring Boot默认采用了Tomcat的嵌入式版本，但是如果你更喜欢Jetty甚至RedHat的Undertow，你就有办法了。</p><h3>记录</h3><p>这是关于配置问题的相同约定的另一个例子，Dropwizard在v0.4中从log4j切换到Logback。我猜随着log4j2最近的GA发布，这可能会发生变化(编辑:看起来不是这样，请查看评论部分)。在Spring Boot方面，如果我们需要日志记录，我们需要在Logback、log4j和log4j2之间做出选择。顺便说一下，如果您正在使用Logback，您可以查看我们运行的这个基准测试，以比较不同日志记录方法的性能。</p><h3>依赖注入</h3><p>两个框架之间的主要区别是依赖注入支持。正如你们中的一些人所知道的，Spring的核心是内置的依赖注入支持，而Dropwizard不是现成的，你必须选择一个支持它的社区集成。一个流行的选择是使用Google的Guice，并使用一个社区主导的集成。</p><h3>测试–Fest vs . ham crest</h3><p>两个框架都有专门的测试模块，dropwizard-testing和spring-boot-starter-test，包括JUnit和Mockito依赖关系。Spring Boot自然也使用Spring Test，这里的主要区别在于matcher对象的形状，检查不同的对象是否匹配相同的模式。Dropwizard偏爱FEST matchers(已经不开发了)(编辑:最新0.8版本移至AssertJ)Spring Boot去了Hamcrest。</p><h3>没有运营就没有发展</h3><p>为了赢得生产级应用程序的称号，每个框架的核心特性都包括对指标、健康检查和任务的支持。简而言之，度量允许您跟踪统计数据，如内存使用情况和执行代码中的区域所花费的时间。健康检查是一种在旅途中进行测试的方式，可以回答诸如“这个插座还开着吗?”之类的问题。还是数据库连接是活动的？通过任务支持，您可以安排维护操作或定期任务。</p><p>Dropwizard metrics library本身就很受欢迎，你可以将它添加到任何项目中，甚至可以与Spring Boot的metrics一起使用，以深入了解你的代码在生产中做了什么。一个很酷的特性是向Graphite或Ganglia等服务以及20多个可用的集成进行报告。Dropwizard指标也提供健康检查，任务作为框架的一部分实现。在Spring Boot方面，框架使用Spring的核心特性来支持它的Ops角度。</p><p>更新(2018年3月13日):从Spring Boot 2.0开始，Micrometer作为应用度量门面被引入(就像SLF4J一样，但用于度量)。</p><h2>关于无容器化的说明</h2><p>促成Dropwizard创建的关键驱动因素是无容器Java HTTP服务器，几年后Spring Boot也紧随其后。与独立容器不同，您可以像在应用程序中添加任何其他库依赖项一样简单地添加HTTP服务器。简单明了，易于更新，你不需要处理任何WAR文件。XML配置保持在最低限度。至于部署，Dropwizard和Spring Boot都利用fat JARs将所有jar和它们的依赖项打包到一个文件中，使得使用快速的一行程序进行部署更加容易。</p><h2>社区和发布周期</h2><p>Dropwizard最初是由Coda Hale在2011年末发布的，当时他还在Yammer。从那时起，它通过了大约20个版本，目前是0.8版本，作为现代Java应用程序的指南，享有巨大的社区支持。不利的一面是，在过去每隔几个月发布一次之后，新版本的发布速度正在放缓。在最新的0.8版本中，我们主要看到第三方版本的更新和小的修复。Dropwizard目前支持Java 7和更高版本，要在Java 8上使用它，您可以查看这个部分更新以享受它的一些好处和新功能(或者如果您出于某种原因不喜欢joda-time)。</p><p>(编辑:此处提供了Dropwizard模块的完整列表)。</p><p>今天，你可以看到来自Jochen Schalanda(编辑:和0.8团队)的大部分提交，有超过160名个人贡献者和数十个社区支持的集成，如Datasift的drowizard-extra。在可用的Dropwizard集成中，还包括了Spring支持。还有一件事你一定要看看，就是这里的官方用户组。</p><p>随着Pivotal支持的Spring Boot在2014年以1.0版本加入游戏，有超过40个官方集成(Starter POMs)到几乎任何你能想到的第三方库。这包括从日志到社交API集成的任何东西。这里值得一提的一个新Spring Boot项目是JHipster，它是Spring Boot和Angular公司的约曼发电机。</p><p>从根本上说，你可以说Dropwizard周围有一个更大的社区，Spring Boot享有更好的官方和结构化支持，以及Spring现有的用户基础。</p><h2>结论</h2><p>1.如果你想进入春季生态系统，那么选择Spring Boot可能是显而易见的。它不仅仅是一个引导RESTful Java应用程序的方法，它还作为Spring的网关，集成了数十种服务。也许这里真正的问题是你是否应该开始寻找/回到春天？这可能是另一个需要讨论的话题。否则，Dropwizard将最适合您的需求。</p><p>2.这里的第二个问题是你对依赖注入的依赖程度如何？如果Guice是你的选择，那么使用Dropwizard和一个社区集成将是一个简单的解决办法，而不是像Spring那样进行依赖注入。</p><p>3.最后但并非最不重要的一点是，看一看并列比较，如果您自己从头开始构建一个应用程序，您会选择哪个框架？请记住默认的选择，因为花费更多的时间来配置这个引导有点背叛了它的原因。</p><p>我希望你已经发现这个比较有用，我很高兴听到你对它的评论，以及让你选择一个而不是另一个的因素。</p></div></div>    
</body>
</html>