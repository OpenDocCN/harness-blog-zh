# 宣布标志管道，以实现功能标志治理和日常管理的自动化|利用

> 原文：<https://www.harness.io/blog/flag-pipelines-to-automate-feature-flag-governance-and-daily-management>

Harness 正在扩展如何使用管道，推出了一个新概念，标志管道，以自动化功能标志治理和日常管理。

当我们推出 Harness 功能标志时，我们很高兴有机会利用 Harness 平台上的其他功能来创造比其部件总和更好的价值。我们做的第一件事是[为特性标志添加对特性发布管道](https://docs.harness.io/article/4r53zx73pv-build-feature-flag-pipeline)的支持，这使用户能够自动化发布工作流和策略实施。

今天，我们将通过推出新概念[标记管道](https://docs.harness.io/article/sjzsn4etz9-default-pipeline-ff)来扩展管道的使用方式。管道总是让您构建强大的工作流和自动化来完成带有特性标志的发布，现在您可以在每次标志更改时自动运行管道来实施治理和控制。没错——标志可以有单独的管道，每次标志状态改变时都会运行。这是一个游戏规则的改变者，它自动化了标志的日常使用，并确保每一个变化都符合组织标准。

本质上，您现在可以保证任何时候标志的状态发生变化，它都会经历一个预定义的工作流。这可能很简单，比如每次切换敏感功能时都需要获得批准。或者，也可能是更复杂的事情，例如要求批准、更新吉拉和 ServiceNow，以及向客户支持和经理发送通知。

## 日常旗帜生命周期中的治理

标志管道允许您构建一个简单的管道，并将其分配给一个标志。从那时起，无论标志如何变化，每次标志发生变化时，管道都会自动运行。这意味着无论您是通过 UI、API 更改它，还是通过 Git 更新 YAML，您都会看到这条管道被触发。

当您的团队想要做以下事情时，这非常有用:

*   要求经理或项目经理批准生产中的任何标志变更
*   每次标志更改时发送一条松弛消息
*   更新用于跟踪功能开发步骤的吉拉票证
*   每次标志更改时，执行与标志关联的自定义脚本

### 手动过程错过了特征标志的要点

通常，您会使用带有特性标志的管道来构建自动化的发布工作流，例如每 23 小时增加一个标志给 10%的受众。并且您仍然可以为您的一次性或者特别建模的发布场景这样做。标记管道让您可以自动执行您希望每次都发生的事情，而不仅仅是在特定的一次性场景中。

对于团队和更广泛的组织来说，这一功能增强提供了对如何处理和管理日常功能标志的更广泛的控制。以前，用户必须创建一个组织流程，要求所有用户在每次需要更改标志时运行指定的管道。这带来了一些问题:

1.  必须为每个切换创建单独的管线
2.  每个人都必须接受使用管道而不是标志切换的培训
3.  用户体验变得一塌糊涂，因为 UI 一半都用不了
4.  用户仍然可以手动或通过代码更改标志切换，并绕过管道

这并不是说团队没有尝试以正确的方式做这些事情，而是事情发生了变化，人员和流程发生了变化，并且为了一些应该简单的事情而遵循许多额外的步骤是不方便的。相反，如果用户可以以更符合他们实际需求的方式使用标志，并且标志更改的发布过程是自动的，会怎么样呢？通过翻转脚本，开发人员不会变慢，并且业务部门确保事情每次都以正确的方式完成。

## 如何使用特征标志管线

‍

要设置您的标记管道，只需选择任意标记，然后选择新的“标记管道”选项卡。从那里，您可以选择或创建想要使用的管道。

由于标记管道是针对您每次都要执行的工作流子集的，因此并非所有管道都可以用作标记管道。标志管道必须:

*   没有持续集成/持续开发(CI/CD)步骤
*   只有一个标志更改，而不是多个
*   将标记步骤设置为运行时输入

一旦您有了合适的管道，并在标志中的标志管道设置中选择了它，就万事俱备了。现在，每当该环境中的标志发生变化时，该管道将自动运行。

在[线束文档](https://docs.harness.io/article/sjzsn4etz9-default-pipeline-ff)中找到更多关于其工作原理的详细信息。

## 线束特征标志入门

标志管道继续我们的工作，追求将特性标志变成软件交付过程中真正的一部分。允许对功能标志进行更复杂的控制，为您的组织带来了更好的治理和功能标志自动化。这是在软件交付中将特性标志发展成一个关键业务流程的一大进步。

准备好开始了吗？[申请试玩](https://harness.io/demo/feature-flag)或[永久免费注册](https://app.harness.io/auth/#/signup/?module=cf)。我们将在未来继续扩展这一点，并且[希望得到您的反馈](mailto:ethan.jones@harness.io)，告诉我们您希望这个故事如何发展。

快乐发展！