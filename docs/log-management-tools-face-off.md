# 日志管理工具对决:Splunk vs . log stash vs . Sumo Logic | Harness

> 原文：<https://www.harness.io/blog/log-management-tools-face-off>

看看领先的日志管理工具。

领先的日志管理工具之间的主要权衡是什么，以及如何选择适合自己的工具？

我不知道你怎么想，但是对我来说，日志文件就像是生产环境中的兔子。你看向别处一秒钟，突然它们繁殖了。写入日志文件每天会占用数 GB 的数据，所有这些数据都是非结构化的，可能来自多台机器和多个来源。这就是日志管理工具的用武之地。

当然，决定使用日志管理工具只是第一步。接下来你必须决定你想用哪一个。这可能是一个相当大的决定。根据您选择的工具，您可能必须在整个代码中编织它，或者自己设置和安装整个程序。无论哪种方式，改变这些工具的成本都是巨大的。

话虽如此，让我们来看看并比较一下这一领域的一些工具。今天，我将比较 [Logstash](http://logstash.net/) 、 [Splunk](http://www.splunk.com/) 和[相扑逻辑](https://www.sumologic.com/)。还有更多值得考虑的工具，例如 [Loggly](http://loggly.com/) ，但是这三个工具很好地代表了不同的可用类型。

## 入门指南

重要的事情先来。这些工具都是关于什么的？我们今天看到的三个工具涵盖了内部部署、SaaS 和开源模型。这三个工具都旨在帮助您管理和分析日志文件。它们都适用于大多数操作系统，并且可以处理多种日志文件格式。与往常一样，在部署之前，值得仔细检查以确保您选择的工具将与您的数据的特定风格一起工作，而不会有太大的困难。

Splunk: Splunk 是日志管理工具领域的大玩家。它是最专注于企业的工具，作为内部模型工作。使用 Splunk，您可以获得最多的功能和最多的集成，但这需要最高的价格。为了跟上日志管理环境的发展，他们还为中小型企业提供了 SaaS 版本和更便宜的轻量级版本。在这篇文章中，我将重点介绍他们的主要产品。

Sumo Logic: Sumo Logic 最初试图成为 SaaS 版的 Splunk。随着它们的成熟，它们已经走上了自己的路，但作为它们的开端，它们是功能最丰富、最面向企业的 SaaS 日志管理工具之一。

Logstash: Logstash 是一个开源的日志管理工具，最常与 ElasticSearch 和 Kibana 一起作为 ELK 堆栈的一部分使用。在 ELK 堆栈中，Logstash 扮演着日志主力的角色，为存储、搜索和分析日志文件创建了一个集中的管道。它使用内置的过滤器、输入和输出，以及一系列插件，为您的日志提供强大的功能。

**底线:**内部部署、SaaS 和开源都出现在这篇文章中。这些工具都是为同样的目的设计的，即日志管理，但是它们以不同的方式完成这项任务。

## 装置

这些工具的安装和设置非常不同。内部部署、SaaS 和开源——这些都包括在内。

**Splunk:** Splunk Enterprise 是一种本地模式，这意味着您将在本地进行设置。安装 Splunk 会在您的主机上放置一个进程，作为分布式服务器来访问、处理和索引流数据。根据您的操作系统，可能会安装更多的进程来控制、监控和配置 Splunk 的某些元素。由于 Splunk 是内部部署的，因此您需要规划所需的硬件和空间容量。

**Sumo Logic:** Sumo Logic 是一个 SaaS 模型，这意味着您将建立一个与 Sumo Logic 云的通信。Sumo Logic 为其收集器提供了两个选项——托管和安装。托管收集器不需要本地安装，直接由 Sumo Logic 托管。对于托管收集器，您需要有 AWS 并添加一个 S3 或 HTTP 源来将数据上传到收集器。对于已安装的收集器，您需要将其安装在环境中的本地机器上。一旦这样做了，您将需要配置收集日志并将其发送到 Sumo Logic 的源。安装的收集器可以使用 SSH、Syslog 和脚本等资源。Sumo 逻辑作为多租户设计工作，这有助于防止容量和扩展限制，因为它允许对单个收集器使用多个日志源。

Logstash: Logstash 是开源的，这意味着您将在自己的系统上设置所有这些。需要注意的一点是，Logstash 需要 Java 运行时来安装。安装 Logstash 需要下载二进制文件，并在本地系统上将其解包。一般来说，建议将 Elasticsearch 作为存储日志的后端。设置好之后，您需要配置您想要的输入、过滤器和输出。开源意味着您需要提供您需要的硬件和空间，但是就开源工具而言，Logstash 是一个相当简单的安装过程。

**底线:**这些工具的安装和设置有很大的不同，正如你所料，一个是本地的，一个是 SaaS，一个是开源的。你喜欢哪一个取决于你喜欢的工具类型。需要考虑的一些因素包括:您是否希望保持环境的完整性，以及您是否希望自己管理容量和硬件。

## 特征

这两种工具有很多相似之处，但是有些不同之处可能对您很重要。一旦您决定了您希望您的日志管理工具能够完成什么，您就可以更快地选择适合您的工具。

Splunk: Splunk 可能是目前功能最丰富的日志管理工具。Splunk 的搜索和图表工具功能丰富，通过它的用户界面或应用编程接口，你几乎可以获得所有的数据，而且它具有基于高可用性和可扩展性的广泛功能，非常适合作为企业工具。安全性是广泛的，它可以处理大量的机器数据。

Sumo 逻辑:就 SaaS 日志管理工具而言，Sumo 逻辑是功能最丰富的。由于 Sumo Logic 最初是 SaaS 版的 Splunk，所以它有很多类似的功能。它充满了减少、搜索和绘制大量数据的特性。Sumo Logic 的主要吸引力之一是能够建立基线，并在事件发生后关键指标发生变化时主动通知您，例如新版本推出或违规尝试。

Logstash: Logstash 非常适合集中和统一您的数据。它可以解析不同格式的数据，并将它们汇聚成一种通用格式，供您的分析工具使用。由于它的开源性质，很容易将其扩展到定制日志格式或为定制数据源添加插件。就其本身而言，它在前端或后端方面没有提供太多，这就是为什么 ELK stack 是一个缩写。

**底线:**就功能而言，Splunk 独占鳌头。在大型企业之外，您可能不需要 Splunk 提供的大量功能，在这种情况下，Sumo Logic 可能会涵盖您。Logstash 的开源特性让您可以在自己的开发和社区之间最大程度地控制使用该工具可以做什么。

## 仪表板和用法

选择工具时的另一个考虑因素是易用性，坦率地说，是它是否好看。本节介绍这三种工具的仪表板和用法。

**Splunk:** Splunk 让您能够创建和管理自己的仪表板。它们提供了一系列数据可视化选项，如表格、图表和事件列表。默认情况下，仪表板是使用简单的 XML 创建的，但是如果您想变得更有趣，也可以使用扩展。在 Splunk 中，您可以查看特定页面或构建一个包含不同测量值的多个面板的仪表板。仪表板可以用 XML 代码构建，也可以通过 Splunk 仪表板编辑器构建。

**Sumo Logic:** Sumo Logic 也使用基于面板的仪表板系统。它们提供实时数据，但在仪表板中可以看到的查询类型有一定的限制。创建面板非常简单明了。大多数信息都以图表的方式呈现。

Logstash: 就其本身而言，Logstash 根本没有给你仪表板。Logstash 让您可以灵活地决定在哪里以及如何输出数据。作为 ELK 堆栈的一部分，Kibana 通常被用作前端报告和可视化工具，但是也有许多其他可视化和度量工具的现有输出选项，例如 Graphite、Librato 和 DataDog。

**底线:**如果你还没有使用一个单独的可视化&度量工具，那么选择 Logstash 意味着你很快也会添加一个。Splunk 以 XML 或拖放方式为您提供灵活的仪表板和可视化平台。Sumo Logic 还为您提供了一个基于面板的仪表板，重点是实时数据。

## 集成和插件

选择工具时，一个重要的考虑因素是它与您现有的工作流和工具生态系统的集成程度。对于日志管理工具，您需要确保该工具能够处理日志数据的格式，并且能够与您的环境同步。

Splunk: Splunk 全是他们的插件，有 600 多个可用。他们中的许多人关注 Splunk 的 IT 运营、安全性和合规性以及实用程序。有了这么多插件，您很可能能够使用 Splunk 理解任何格式的日志数据。

**Sumo Logic:** Sumo Logic 拥有针对特定大型工具的应用，包括开发自动化工具、云平台、OS 平台以及合规和安全工具。Sumo Logic 涵盖了主要的工具，但是如果你使用的是更小或者更晦涩的东西，他们不会有为它设计的应用程序。

**Logstash:** 作为一款开源工具，Logstash 拥有一个持续增长的插件环境。截至今天，有超过 160 个插件可用，其中许多来自社区。由于该工具的开源性质，这些插件的文档和设计非常清晰，如果您愿意投入工作，您可以随心所欲地更改它们。

**底线:**如果你的环境由更大的可用工具和平台组成，那么这三者都将有可用的插件和集成，但随着你开始变得更小和更模糊，Splunk 将会大放异彩。

## 定价

当然不能忘记定价。有了这三个工具，这里就有了真正的差异，可以对您的决策的业务方面产生很大的影响。正是在这里，模型之间的差异显现出来。

Splunk 非常贵，现实世界的应用需要几万美元。虽然规模较大，但 Splunk 有批量折扣，这使其与其他工具的定价更加一致。Sumo Logic 通过 SaaS 模型工作，但通过线性定价模型，它可以在大规模上等于 Splunk 的成本。Logstash 是开源的，这当然意味着工具本身是免费的，尽管你需要安装和运行它的设备不是免费的。

## 文档和社区

也许你是一个在使用工具时能够完全自给自足的人，在这种情况下，这一部分对你来说并不重要。对于我们其他人来说，当我们遇到困难或需要帮助时，好的文档和活跃的社区会是一个很大的帮助。本节将介绍这三种工具在这方面的表现。

**Splunk:** Splunk 拥有[优秀的文档](http://docs.splunk.com/Documentation/Splunk)。信息呈现清晰，组织有序，甚至有一个下拉菜单，让您可以查看任何版本的文档，因此您可以确保您正在阅读的内容是为您正在使用的 Splunk 版本编写的。在社区方面，他们有一个基于论坛的社区问答部分，看起来非常活跃

**相扑逻辑:**相扑逻辑[支援区](https://support.sumologic.com/home)相当差。它很难导航，没有很好的组织，而且经常显得陈旧。他们确实有一个社区部分，你可以在那里提问，但这也令人困惑。有一个独立的服务部分，提供了更多的传统文档，但很难找到(没有网站链接)，而且比其他工具更简单。他们在这个地区绝对排第三。

log stash:log stash 的[文档是集中的并且相当广泛。大部分入门和插件文档都很好，但是有些页面与页面之间不一致，开源工具可能会出现这种情况。如果你想深入其中，你可以获得大量的信息来指导你做任何你想做的事情。在社区方面，有一个邮件列表和 IRC 频道，您可以在那里提问、报告错误或请求功能。](http://logstash.net/docs/1.4.2/)

**底线:**这两种工具在这方面有一些真正的不同。Splunk 在文档和社区方面做得非常好，Logstash 提供了一个坚实的基础，Sumo Logic…并没有过多关注这一领域。

## 超越您的日志管理工具

无论您使用哪种工具，筛选大量的日志文件都是一项繁重的工作，而且成本很高。最重要的是，将所有数据写入日志文件会降低应用程序的性能和开销。因此，另一种方法是减少写入日志文件的数量，并减少对日志文件进行故障排除的依赖。一种不牺牲故障排除能力的方法是利用服务可靠性管理。

服务可靠性管理在 JVM 级别工作，为您的错误捕获完整的代码和可变数据，而不依赖于日志文件。减少写入和筛选日志文件的次数，同时获得可操作的信息来修复错误。

## 结论

当然，除了我在这里介绍的之外，还有更多日志管理工具可供选择，但是这里提供了一个很好的例子，展示了这个领域中可用的主要工具类型。在这三种工具之间进行选择可以归结为几个因素。其中一个主要因素是您熟悉的部署模式。

内部部署、SaaS 和开源都有不同的优缺点，需要仔细检查您的需求和环境。根据你想要的控制力和你愿意付出的努力，你会更倾向于这种或那种类型。其他因素包括成本、可扩展性和不同工具的额外功能。这不完全是赢家通吃的情况。

“两个人进来，一个人离开”的 Thunderdome 式的失败在这里是不可能的，但是根据您的环境的具体情况，这些工具(或其他日志管理选项)中的一个可能是最适合您的。如果有一个开发工具的 Thunderdome 你会使用哪个工具？