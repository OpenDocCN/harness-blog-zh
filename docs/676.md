# SLO 管理简介|线束

> 原文：<https://www.harness.io/blog/introduction-service-level-objective-slo-management>

在本文中，我们将讨论服务水平目标(SLO)管理，以及如何使用服务水平目标是站点可靠性管理的关键组成部分。

站点可靠性工程(SRE)团队的主要职责之一是确保应用程序的可靠性，或者确保应用程序对于最终用户来说是可用的，并且按预期运行。衡量应用程序可靠性的一种方法是通过服务水平目标(SLO)。

在软件交付的世界中，在快速交付新的软件特性和提供客户需要时可以依赖的应用程序服务之间存在着永无止境的斗争。现在，it 和开发团队都有责任[支持软件交付最佳实践](https://harness.io/blog/best-practices-software-delivery),尽量减少对客户的干扰。SLO 管理旨在平衡软件速度和可靠性需求。在本文中，我们将讨论 SLO 管理，以及如何使用服务水平目标是站点可靠性管理的一个关键组成部分。

## 服务水平术语

SLO 管理层有自己的一套术语和缩略语，了解这些术语和缩略语很重要。

### 服务水平目标(SLO)

服务水平目标(SLO)是组织旨在向其客户或用户提供的服务的目标水平。有效的 SLO 确保组织向其客户提供高水平的服务并满足业务目标。具体来说，这些是组织内与应用程序服务的可靠性相关的目标。内部 SLO 不在组织外部传达，不具有法律约束力。

### SLO 管理

服务水平目标(SLO)管理包括设置和维护目标服务水平，以及监控和测量实际系统性能，以确保其符合目标水平。管理可能涉及设置正常运行时间、响应时间、错误率和其他性能指标的目标。然后，SRE 团队监控和分析这些指标，以识别和解决任何可能出现的问题。

### 服务水平指示器(SLI)

服务水平指示器(SLIs)提供了对服务健康状况的洞察。它是用于指示是否满足特定服务级别指标的核心指标。

### 服务水平协议

服务水平协议(SLA)是由业务和法律团队传达给客户的法律协议，解释预期服务未能达到承诺目标时的影响。例如，对于系统可用性，如果正常运行时间低于承诺的水平，服务提供商可能要向付费客户支付罚款或罚金。

### 误差预算

错误预算是一种工具，它帮助 SRE 和开发团队协同工作，通过确保实现可靠性目标来控制‌release 速度。误差预算是对 SLO 违规的补偿，在您的客户受到影响之前，它可以在您的服务的特定时间范围内累积。当你不断改变你的系统时，失败是不可避免的。因此，将失败正常化为过程的一部分有助于团队平衡创新和违反 SLA 的风险。

## SLA 和 SLO 目标之间的关系

SLA 和 SLO 之间不一定有直接的关系，但是经常有。许多可靠性团队基于现有的 SLA 来设置他们的 SLO，作为一个快速简单的起点。例如，如果服务的 SLA 是 99.9%的可用性，那么同一服务的良好 SLO 可能是 99.95%。SLO 比 SLA 更加严格，因为 SLO 应该足够严格，以抢先帮助团队避免违反 SLA。

## 如何定义和管理服务水平目标和服务水平指标

### 设置 SLIs

可靠性目标必须考虑业务需求。SLI 指标将由您的监控或可观察性解决方案提供。SLIs 应该反映核心应用程序或特定服务的客户体验，而不一定是每个单独的服务。太多的指标只会阻碍你的团队专注的能力。

常见的 sli 包括四个黄金信号:延迟、可用性、吞吐量和错误率。您应该考虑如何实现这些。例如，可以对流经应用程序的所有事务或最重要事务的子集(例如登录、提交付款、添加到购物车等)。

您需要选择一个能够代表客户体验的指标，并为该指标定义一个阈值。

### 设置 SLO

SLO 定义是由可靠性团队推动的协作过程。SLO 充当决策制定的主要驱动力，使您能够在速度和可靠性之间找到正确的平衡。违反 SLO 可能会引发一些活动，这些活动最终会对工程施加压力，以在发布新功能之前稳定服务。

您的每个 sli 都将有一个关联的 SLO(每个 SLO 可能有多个 sli)。您定义的 SLO 是符合您在设置 SLI 时定义的阈值的请求的百分比。

### 计算服务水平目标

计算的 SLO =符合定义阈值的请求数/请求总数* 100

示例:

1 分钟内有 2454 个登录请求耗时不到 100 毫秒

1 分钟内总共有 2522 个登录请求

‍

计算出的 SLO = 2454/2522*100

计算出的 SLO = 1 分钟内的 97.3%

### 设置误差预算

误差预算是在规定的时间段内以分钟为单位来衡量的。例如，如果您的 SLO 设置为 99.5%，那么每周的相关误差预算(故障空间)为 50 分钟。一旦错误预算耗尽，团队应该停止部署新的特性，并专注于服务质量和可靠性。

总的来说，误差预算是一个有用的工具，它可以确保系统是可靠的，并且尽可能地为用户所用，同时还允许灵活地进行必要的更改和改进。

## 通知和警报:常见错误

如果您的环境中出现了可靠性问题，您希望了解这些问题。仔细考虑你想得到什么样的警告。过多或过少的警报可能意味着您的团队遗漏了一些重要的可靠性问题。

最重要的是知道什么时候可靠性目标没有达到，表明客户体验差。您可能不希望每月收到一次一分钟违规的警报，因为如果它只发生在这么短的时间内，对最终用户来说没有意义。

当 SLO 违规发生得太频繁时，误差预算消耗率上升，剩余误差预算减少。错误预算的减少是通过 Slack、电子邮件等发送通知的时间。

## 完美的 SLO 管理是不必要的(也不是想要的)

你可能想把 100%的可靠性作为目标，但是完美是不可能的。这仅仅意味着你选择不做任何生产上的改变，这绝对不是一个明智的商业决策。设定可测量的、具体的可靠性目标，允许适当的新功能交付率，将会带来满意的客户。找到这种平衡是创建您的企业需要竞争的软件体验的核心。

建立 SLO 和创建错误预算可能是一个漫长的旅程，但结果非常值得投资。准备好了解更多关于 SLO 管理的知识了吗？[请求演示](https://www.harness.io/demo/srm)[线束 SRE 解决方案](https://www.harness.io/products/service-reliability-management)的，服务可靠性管理。