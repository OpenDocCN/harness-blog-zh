<html>
<head>
<title>AppDynamics versus Dynatrace | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>AppDynamics与Dynatrace | Harness</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/appdynamics-dynatrace-enterprise-monitoring-giants#0001-01-01">https://www.harness.io/blog/appdynamics-dynatrace-enterprise-monitoring-giants#0001-01-01</a></blockquote><div><p>企业应用程序性能监控:AppDynamics和Dynatrace之间的实际比较。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>如果您要挑选两个出现在大多数企业APM(应用程序性能监控)评估候选名单上的工具，它将是AppDynamics和Dynatrace。</p><p>两人都不是一夜之间成为APM的领导者，而是通过不同的历程做到了这一点，尽管他们在Java诊断方面有着相似的基础。Dynatrace在2005年开始更多地是作为开发人员和QA测试人员的生产前性能工具，而AppDynamics在2008年成立，生产用例更侧重于运营和应用程序支持团队。今天，几乎两者都已经扩展到对方的领域，几乎涵盖了企业可能需要的所有性能监控用例。</p><p>在下面的文章中，我们将揭示“新话”(或营销用语)背后的真相，并帮助你理解每种工具提供了什么，以及哪一种最适合你。</p><p>嘶！担心应用程序性能？Harness在运行时持续分析应用程序，并针对软件交付生命周期中所有新的或不断增加的错误和减速提供可操作的代码级洞察。</p><h2>1.应用程序性能监控</h2><p>如果您想监控您的应用程序在生产环境中的表现和行为，有三种常见的方法可以获得内部视图:</p><ol role="list"><li>筛选万亿字节的日志文件。日志可以保存应用程序内部发生的每一个事件，无论是特定的事务、服务器请求还是代码本身的错误消息。在这些长文本文件中寻找出路通常是一项漫长而累人的任务，这是Splunk和ELK(elastic search-Logstash-ki Bana)等日志管理工具和解决方案的主要用例。</li><li>使用Graphite和Grafana向仪表板发送自定义指标。</li><li>使用基于代理的工具或APM来监控应用性能。工具可以是基于代理的，也可以是无代理的，可以提供不同的性能视角。Gartner将APM定义为五个核心组件，我们将基于这五个组件在本文中进行比较。</li></ol><p>在深入了解AppDynamics和Dynatrace之前，了解每个产品集背后的历史是很重要的，因为这两家供应商都经历了几次收购和多年的有机增长。</p><p>为了便于比较，我们决定使用Gartner的五个维度来评估AppDynamics和Dynatrace的核心本地APM产品。Dynatrace的APM还出现在一个名为Ruxit的独立SaaS产品中，这篇文章没有涉及到。</p><h2>2.特征</h2><h3>2.1.终端用户体验监控</h3><p>APM的第一个维度是终端用户体验监控(EUEM)。这个术语用于描述监控终端用户可能体验的多种方法。</p><h4>Dynatrace</h4><p>该公司将其EUEM功能分为3个产品:“用户体验管理”、“合成监控”和“数据中心RUM(真实用户监控)”。不要害怕这些名字，它们听起来具有爆炸性和扩展性，而它们只是从不同的角度监控用户体验。</p><p>第一个工具“用户体验管理”为移动应用程序提供了基于浏览器的JavaScript注入和SDK方法，可以跨不同的浏览器和设备捕获与用户请求和会话相关的指标。例如，您可以搜索特定的用户操作，以获得其性能/执行时间的历史记录。</p><p>“综合监控”服务显示来自世界各地的统计数据。它还有助于模拟测试执行、比较有问题的行为模式的性能、监控主机可用性和第三方服务，甚至模拟高流量。</p><p>“数据中心RUM”是最后一种解决方案，它通过嗅探传入的HTTP请求(和其他协议)来提供无代理的最终用户监控方法，因此它可以拼凑最终用户请求的延迟，而无需显式地检测网页或本机移动应用程序。</p><p>总结一下:JS注入/ SDKs，模拟不同地点的访客和网络活跃度。</p><h4>应用动力学</h4><p>“最终用户监控”类别还扩展为3种不同的产品:“浏览器真实用户”、“浏览器合成”和“移动实时”监控。简而言之，您将能够监控用户体验和交互，并从特定区域对您的性能进行基准测试。</p><p>“浏览器真实用户”是一种类似Dynatrace的JavaScript注入方法，它允许您从浏览器中捕捉最终用户的体验。您将能够在应用程序中再现用户的旅程，查看单个交易，并确定性能问题。</p><p>“浏览器合成”将全天候监控您的应用程序的可用性，并在全球范围内报告其延迟。与Dynatrace类似，它模拟来自浏览器的流量，以评估实际的最终用户体验。您也可以重新测试条件，以消除或确认错误结果。</p><p>“移动实时”是关于本地移动应用的，只在移动应用和设备之间提供相同的测量和选项。它允许对用户在应用崩溃前采取的步骤进行分类，查看跨服务的延迟以及错误，以便您能够识别和</p><p>一句话:通过对Gomez、Keynote、Adlex和organic growth的各种收购，Dynatrace在这一领域拥有广度和深度，但他们的产品不如AppDynamics现代和统一。例如，用户体验管理、合成监控和DC朗姆酒没有单一平台，而AppDynamics的产品不太成熟，但更易于使用和导航。</p><h3>2.2.运行时应用架构发现建模</h3><p>这可能是APM最酷的方面，您可以获得最终用户请求如何遍历许多应用程序运行时环境的实时拓扑图。例如，在微服务架构中，单个用户事务可能会触及数百个不同的组件和服务器，每一跳都有可能造成延迟。有了拓扑图，您应该能够了解应用程序的延迟花费在哪里。</p><p>Dynatrace和AppDynamics都具有类似的应用程序架构建模功能。</p><h3>2.3.用户定义的事务分析</h3><h4>Dynatrace</h4><p>用有限的堆栈跟踪(只包括最顶层的元素)捕获所有用户请求。这些配置文件被称为“PurePaths ”,它可视化了每个请求的过程。事务分析一直是Dynatrace的强项，他们是第一批跨异构运行时环境(例如混合JVM和CLR架构)跟踪事务的供应商之一。Dynatrace从给定的PurePath提供了多个下钻选项，因此可以从不同的角度对数据进行分割。</p><h4>应用动力学</h4><p>通过完整的堆栈跟踪捕获业务交易异常。在很多方面与Dynatrace相似，但可能更直观，不需要频繁地深入/旋转视图。其余的可用信息会自动呈现给你，因此在视觉上更容易理解和操作。</p><p>一句话:虽然从表面上看，两家公司都成功地剖析了业务交易，但他们的方式却大相径庭。这两种解决方案都可以捕获分布式环境中每个事务执行的响应时间。</p><p>Dynatrace将其代理设计为捕获每个事务执行的有限堆栈跟踪，而AppDynamics选择了异常诊断方法，这意味着只有当性能基线或阈值被突破时，才会捕获更完整的堆栈跟踪。根据您的监控用例和需求，每种方法都有其优缺点。</p><h3>2.4.组件深度监控</h3><h4>Dynatrace</h4><p>捕捉Java、Scala的堆栈跟踪和性能指标(如果你在Scala中使用Play framework，那你就不走运了)。NET、PHP、Node.js、C/C++、JavaScript、iOS和Android应用。结合使用字节码插装和线程采样，可以获得带有方法名的堆栈跟踪数据(如下所示)。如前所述，Dynatrace提供的堆栈跟踪数据不如AppDynamics提供的完整。这是因为Dynatrace为每个事务的执行收集堆栈跟踪数据，因此需要减少工具的使用，以便在生产中控制开销。</p><p>Dynatrace的外观和感觉与IDE非常相似，因此导航堆栈跟踪和指标更受用户驱动，这意味着您可以使用Dynatrace中的dashlets定制您想要的任何视图。</p><h4>应用动力学</h4><p>捕捉Java、Scala、.NET、PHP、Node.js、Python、C/C++、iOS和Android。你会注意到的第一个区别是AppDynamics数据以一种更进步/直观的方式布局，它在任何给定时间在屏幕上显示的数据也更少。您可以使用左侧导航来切换上下文，而不是右键单击数据。堆栈跟踪比Dynatrace提供的更丰富，但代价是您只能获得异常的数据。</p><p>一句话:这两个供应商在这一类别中的荣誉是公平的。这两个工具都是为提供堆栈跟踪/指标而构建的，这已成为一项核心能力，也是APM中一些其他老供应商(如IBM、HP、CA和Microsoft)的独特优势。</p><p>您会发现大多数常见平台(Java/)的代码诊断水平相似。NET)上运行，但是如果您运行的是PHP、Node等其他编程语言，那么有必要提前检查一下。JS和Python作为堆栈跟踪数据和指标会有所不同。</p><h3>2.5.分析学</h3><h4>Dynatrace</h4><p>Dynatrace 6.3中的新特性是PureLytics。PureLytics流经过优化，可以将数据实时发送到Elasticsearch进行分析，包括用户访问和操作，Kibana的仪表板位于顶部。</p><h4>应用动力学</h4><p>AppDynamics还有另一款名为“日志分析”的产品，这是一种索引和分析日志文件的新功能，类似于Splunk和ELK。它收集结构化和非结构化数据，显示应用程序问题，并实时呈现发生的错误。您可以搜索这些错误并创建自定义警报或仪表板，以了解如何操作。</p><p>一句话:AppDynamics提供了日志管理特性。</p><h2>3.如何解决你发现的错误</h2><p>虽然Dynatrace和AppDynamics都为您提供了性能监控功能，但当应用程序崩溃时，它们并不提供对运行时错误或异常的粒度支持。您将能够识别性能问题，了解加载业务事务、页面或请求需要多长时间，甚至体验您的用户正在经历的事情，但是在生产中您将获得的最低级别的粒度是花费延迟的类名和方法名。</p><p>许多使用APM工具的团队也选择将Harness添加到他们的监控堆栈中。结合使用这两种工具，您将能够识别错误，并查看与问题相关的源代码，以及问题发生时的确切变量状态。</p><p>Harness分析生产中的异常和日志错误，并将出错时的变量信息覆盖在事件堆栈跟踪中每个方法的实际源代码上。这将使您能够分析异常或日志错误，就像它发生时您在那里一样。</p><p>底线:无论您是否使用APM工具，找到每个错误的真正根源的唯一方法是获得其完整的源代码、堆栈和状态。如果您是Java或Scala开发人员，您应该尝试一下Harness。</p><h2>4.安装和易于部署</h2><h3>Dynatrace</h3><p>我们实际上对安装过程印象深刻，这是完全不言自明的。该公司为Windows、Linux和Mac OS提供了几种安装程序，它们包含了所有的东西，包括代理程序。您还可以在预配置的Docker容器中运行所有这些。</p><p>安装完成后，系统会要求您将代理与服务器连接起来，如果您需要帮助，系统会为您提供每个环境的视频指南。</p><p>在大规模环境中，您必须安装多个组件，以便Dynatrace可以扩展。例如，Dynatrace代理与收集器通信，然后收集器与中央Dynatrace服务器通信。随着代理数量的增加，您需要添加更多的收集器服务器。</p><h3>应用动力学</h3><p>注册该服务后，您会看到一个包含4个步骤的安装屏幕，没有其他信息。我们寻找下载套件或说明，但找不到它们。事实证明，AppDynamics需要一些时间来设置您的环境，您不能立即开始使用它。虽然这很有意义，但这并没有在主屏幕上解释，过了一个多小时，我们才收到我们的欢迎电子邮件和完整的仪表板。</p><p>AppDynamics架构的部署比Dynatrace简单，因为它只需要代理和一个称为控制器的中央管理服务器。AppDynamics收集和传输的数据比Dynatrace少得多，因此它不需要额外的收集器服务器来扩展。尽管它要求每台机器有一个额外的代理用于基础设施度量。</p><p>一句话:这两种工具安装和运行起来都相对简单。由于数据收集和传输的差异，AppDynamics对于更大的环境来说更容易和更便宜。</p><h2>5.仪表板和易用性</h2><h3>Dynatrace</h3><p>该公司提供了两个仪表板:一个本地桌面客户端(感觉像一个奇怪的Windows 2000版本)，和一个web仪表板。</p><p>web仪表板显示高级信息，包括用户体验和满意度、您的应用程序渠道(web或移动)以及当前正在运行的流程列表。</p><p>如果您发现一个问题或错误，并希望对其进行分析或获得更多相关信息，您必须切换到桌面仪表板。</p><h3>应用动力学</h3><p>好消息是AppDynamic不再使用基于Flash的仪表板了！有点坏的消息是，该公司仍然需要Flash支持，因为仪表板的一些部分仍然需要它来调整。您拥有一个完整、详细的基于web的控制面板，它提供了一个概览，以及一个深入查看所需信息的选项。</p><p>一句话:Dynatrace 2-dashboards-setup对一些人来说可能是一个麻烦，感觉有点过时，特别是如果我们想获得关于不同场景的更深入的信息，需要在两者之间切换。AppDynamics有一个跨所有产品/功能的统一UI，但仍有Flash元素存在。</p><h2>6.生态系统集成和插件</h2><h3>Dynatrace</h3><p>Dynatrace插件页面按类别显示，包括生态系统(Docker和SharePoint)、大数据(Splunk和Apache Cassandra)、通知(JIRA、PagerDuty)等等。然而，我们不确定这是因为缺乏设计还是因为列表相对较短，但是这个库对我们来说感觉很基本。</p><h3>应用动力学</h3><p>该公司为开发者提供了一个开放平台，允许他们将自己的插件添加到Exchange marketplace中。marketplace目前包含140个插件，你甚至可以发送请求来获得你需要的和找不到的插件。</p><p>一句话:我们总是支持基于社区的插件，这些插件由于社区而不断发展。</p><h2>7.定价</h2><p>两家公司都提供了一个评估期来试用专业版，然后降级到免费和精简版。如果你想知道专业版的实际价格，你必须努力工作才能找到答案。</p><h3>Dynatrace</h3><p>价格受许多因素的影响，如应用服务器、web服务器、用户会话和其他因素的数量。您必须与销售团队沟通，以获得合适的报价，因为Dynatrace网站上没有报价。其他来源的平均交易规模为每年订阅10，000美元。</p><h3>应用动力学</h3><p>该公司的免费计划为每个产品模块提供有限的代理单位和有限的数据保留。Pro定价发布在AppDynamics网站上，每台每年3600美元起(例如JVM/OS实例/进程)。如果你不是美国人，会出现一个不同的定价页面，没有确切的定价细节。</p><p>一句话:两家公司都提供免费计划，但在定价透明度方面有所不同。AppDynamics公布定价，Dynatrace不公布。然而，两家供应商都有多种产品，它们使用不同的指标进行定价，因此为这两种产品定价本身就很复杂，除非您与销售人员交谈。</p><h2>你应该选择谁？</h2><p>这两个工具已经存在了相当长的一段时间，尽管感觉AppDynamics是更相关的最新选择，而Dynatrace是旧的“遗留”选项。但是我们知道，我们不能通过一个APM工具的封面(或者网站，在这种情况下)来判断它。</p><p>每家公司都提供广泛的分析和分析工具，以便您能够了解您的用户正在经历什么，当然，还可以监控您的系统。因此，如果你在寻找一个明确的决定，你就没那么幸运了。</p><p>AppDynamics和Dynatrace提供了各种各样的特性，有些对您来说可能是理想的，有些可能是多余的。我们鼓励您使用两家公司的免费试用版，以便更好地了解您将要处理的问题，并看看哪个工具更适合您的堆栈。</p><p>‍</p></div></div>    
</body>
</html>