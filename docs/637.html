<html>
<head>
<title>Is Standard Java Logging Dead? | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>标准Java日志记录死了吗？装具</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/is-standard-java-logging-dead#0001-01-01">https://www.harness.io/blog/is-standard-java-logging-dead#0001-01-01</a></blockquote><div><p>在这篇文章中，我们将从另一个角度探索结果数据集，对数据集进行更多的阐释，并将重点放在标准java.util.logging级别的使用上</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>大写的日志级别会导致高水平的压力。如果我们用“哎呀”代替“错误”会怎么样？更严重的是，我们最近对GitHub的顶级Java项目及其使用的日志记录语句进行了大规模的数据处理，揭示了普通Java项目的日志级别分解。</p><p>在这篇文章中，我们将从另一个角度探索产生的数据集，更好地了解数据集，并将重点放在标准java.util.logging级别的使用上，而不是更流行的框架，如Log4j (+ Log4j 2)和Logback。</p><p>进来吧。</p><h2>见见玩家</h2><p>日志实用程序可以大致分为两类:日志外观和日志引擎。</p><p>至于日志外观，您几乎有两种选择:slf4j和Apache的commons-logging。实际上，5个Java项目中有4个选择使用slf4j。基于Github上2016年顶级Java库的数据。使用日志门面的动机非常明确和直接，是您选择的日志引擎之上的抽象——允许您在不改变实际代码和日志语句的情况下替换它。</p><p>至于日志引擎，最流行的选择是Logback，它是Log4j的一个进化版本，Log4j本身，以及它的新版本，因为它的开发被传递给了Apache Software Foundation，Log4j2。紧随其后的是Java的默认日志引擎java.util.logging，又名JUL。</p><h2>指指点点，骂人</h2><p>从表面上看，每个日志框架的日志级别的名称略有不同。</p><p>在slf4j与java.util.logging一起使用的极少数情况下，会发生以下映射:</p><p>最精细-&gt;跟踪</p><p>更精细-&gt;调试</p><p>精细-&gt;调试</p><p>信息-&gt;信息</p><p>警告-&gt;警告</p><p>严重-&gt;错误</p><p>这里要注意的另一件事是，Logback和java.util.logging没有致命的对等物。在这些错误名称后面，是简单的整数值，有助于控制正在运行的应用程序中的日志记录级别。每个库还包含OFF和ALL的值，这些值基本上将记录器级别设置为实际传输所有内容，或者什么都不传输。例如，将日志记录级别设置为WARN，将只记录WARN及以上的消息——这实际上是生产环境的默认设置。</p><h2>级别命名分解在实践中看起来如何？</h2><p>对于数据危机，我们将重点放在两种方法中至少有100条日志记录语句的顶级Java项目上。检查项目的数据集，我们发现只有4.4%的项目专门使用java.util.logging命名方案。</p><p>为了查看一般的java.util.logging项目，我们对其进行了过滤，只包括那些至少有100条语句的项目，这些语句来自与非JUL命名方案(警告和信息)不重叠的级别。</p><p>也就是说，看起来在这两种情况下，日志记录语句的⅔在生产中被禁用，因为在这种情况下只有WARN和above被激活。</p><p>有趣的事实:作为一个额外的数据点，我们也看了所有/关闭水平。结果只有8.6%的项目使用了这两种方法。</p><h2>我们是如何获得数据的？</h2><p>这项研究的起点是GitHub档案，以及它在Google BigQuery上的数据集。我们希望专注于合格的Java项目，排除android、样本项目和简单的测试人员。一个自然的选择是查看最受欢迎的项目，包括40万个顶级存储库的数据库。</p><p>我们最终得到了15，797个包含Java源文件的存储库，占初始数据集的4%。但并没有就此止步。考虑到日志记录语句的数量，我们决定只关注至少有100条不同语句的项目。数据集就在这里。</p><p>我们认为这是我们试图实现的目标的一个相当有代表性的例子。对于完整的演练和我们获取数据所采取的步骤，包括确切的SQL查询，请查看本文的最后一部分。</p><h2>最后的想法</h2><p>这篇文章强调java.util.logging实际上已经死了。大多数严肃的项目选择使用第三方日志框架。你在数据集中有没有发现其他我们可能遗漏的东西？你还有其他有趣的问题可以通过这个或者类似的数据来回答吗？</p></div></div>    
</body>
</html>