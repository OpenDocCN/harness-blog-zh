# 引入了对部署通知的寻呼责任支持

> 原文：<https://www.harness.io/blog/harness-introduces-pagerduty-support-for-real-time-deployment-notifications>

PagerDuty 是我们的客户要求最多的集成之一。现在，所有这些通知渠道都得到支持。

在过去的十年里，[page duty](https://www.pagerduty.comn)已经成为唤醒通知开发者和 DevOps 团队与他们的应用或服务相关的事件的事实标准。

就在一个多月前[该公司上市](https://www.forbes.com/sites/alexkonrad/2019/04/11/pagerdutys-ipo-values-it-at-18-billion--heres-why-it-had-doubters-early-on/#475eed4532b3)并引用了 11，000 名客户作为他们文件的一部分。
在 Harness，我们为开发人员提供自助部署能力，因此[持续交付](https://harness.io/platform/continuous-delivery/)和变更成为新的规范。

除了电子邮件、HipChat 和 Slack 通知，PagerDuty 是我们的客户要求最多的集成之一。现在，所有这些通知渠道都得到支持。

## 实时部署通知

一个线束**部署工作流**由许多**步骤**和**策略**构成。其中之一是**通知策略**，允许用户根据具体的执行**条件**和**范围**进行通知。

例如，一个 Harness 用户可以通知一个**部署工作流**或**金丝雀阶段**是否成功、失败或暂停。

让我们创建一个新的**通知策略**，并使用我们新的 PagerDuty 集成作为渠道。

## 创建通知策略

首先，让我们在 Harness 中编辑一个现有的**部署工作流**。

在下面截图的右上角，我们有一个名为“**通知策略”的部分**

让我们点击 **+添加通知策略**来定义我们的策略。

当我们的**工作流**失败时，上述策略将通知我们的**用户组**开发团队。

我们需要做的最后一件事是将 PagerDuty 集成到我们的开发团队**用户组**中。

## 将寻呼机工作与线束集成在一起

好消息——只需 30 秒就能把传呼机职责和安全带结合起来。

让我们通过转到
**利用>持续安全>访问管理>用户组**
来编辑我们的开发团队**用户组**

打开我们的开发团队**用户组后，**可以编辑其**通知设置** :

然后，我们需要做的就是从您希望映射的**账户/服务**中粘贴**页面责任整合密钥**。

您可以从 PagerDuty:
**配置>服务>服务详情>集成**
复制您的服务集成密钥

就是这样！我们的传呼机任务通知已经准备好了。我们现在只需要一个失败的部署....所以让我去杀只金丝雀什么的。

## 示例:失败的部署

下面是一个截图，显示了我们的部署工作流(生产 GCP 码头工作流)的一个实例，碰巧失败了。

几秒钟后，我的手机突然响起:

登录 PagerDuty 也证实了我们部署失败的事件:

请随意使用[免费试用线束](https://harness.io/try-continuous-delivery-as-a-service-for-free/)来测试我们新的寻呼机工作支持。
干杯，
史蒂夫。