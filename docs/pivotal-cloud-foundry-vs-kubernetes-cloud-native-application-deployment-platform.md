# pivotal Cloud Foundry vs . Kubernetes | Harness

> 原文：<https://www.harness.io/blog/pivotal-cloud-foundry-vs-kubernetes-cloud-native-application-deployment-platform>

在这篇文章中，我们将讨论两者之间的基本区别，什么时候最好使用一个而不是另一个，什么时候最好一起使用。

将 Pivotal 的 Cloud Foundry (PCF)和 Kubernetes (K8s)相互比较很有诱惑力，我们明白这一点。它们都是部署云原生应用的平台服务，它们都处理容器，这样的例子不胜枚举。

PCF 和 K8s 之间有很多功能重叠，但是理解它们之间的不同是很重要的。在这篇文章中，我们将讨论两者之间的基本区别，什么时候最好使用一个而不是另一个，什么时候最好一起使用。

## 什么是 PaaS？

2006 年，亚马逊推出了他们的亚马逊网络服务(AWS)公共云平台，一个新时代开始了。云原生应用的时代。但是在云上构建和运行应用程序意味着什么呢？如今，在 AWS 推出 10 多年后，云服务抽象有 3 个层次:基础设施即服务(IaaS)、平台即服务(PaaS)和软件即服务(SaaS)。

Amazon 弹性计算云(EC2)属于 IaaS 类别，它为用户提供了构建和部署应用程序所需的基本基础架构。下一个层次是 PaaS 产品，这将是本文的主题。PaaS 产品提供了更高级别的抽象，因此用户不会暴露于 O/S、中间件或运行时，只需要关心他或她自己的应用程序和数据。最后，SaaS 产品是由第三方平台构建和托管的应用程序，并通过互联网提供给用户。

## 云-原生服务模式比较

PaaS 是一个开发人员可以构建和部署应用程序的平台。这些产品提供了比 IaaS 产品更高的抽象级别，这意味着除了网络、存储和服务器，应用程序的操作系统、中间件和运行时都由 PaaS 管理。

在 PaaS 市场中，两个主要参与者是 Pivotal Cloud Foundry 和 Kubernetes。它们都是用于构建、部署和扩展应用程序的开源云 PaaS 产品。尽管这两个系统在功能上有很大的重叠，但它们为用户提供了非常不同的功能，并且各自更适合不同的环境。

### “应用程序”PaaS 与“容器”PaaS

Pivotal Cloud Foundry 和 Kubernetes 有许多相似的功能，如容器化、名称空间和身份验证，但它们部署云原生应用程序的总体方法有很大不同。

“应用程序”PaaS 和“容器”PaaS 之间的区别并不难理解。当我们谈论抽象时，我们可以简单地将 PaaS 级别分成两部分。一方面，我们有应用程序级别的平台抽象，构建和部署完全配置的应用程序；另一方面，我们有容器级别的平台抽象，将容器作为完整应用程序的一部分来构建和部署。

PCF 是“应用”PaaS 的一个例子，也称为 Cloud Foundry 应用运行时，Kubernetes 是“容器”PaaS(有时称为 CaaS)。

底线是，它不一定是一个“或”，它可以是一个“和”。问题不一定是你是否应该使用 Cloud Foundry 或 Kubernetes，问题是你什么时候可能需要其中一个或另一个。

由于几个关键的不同点，它们可以一起使用，在 Cloud Foundry Container 运行时(Pivotal 和 Google 之间的开源合作，稍后将详细介绍)中，它们可以以互补的方式进行演示。

## Pivotal 云铸造厂

Pivotal Cloud Foundry 是云原生应用程序开发的高级抽象。你给 PCF 一个应用，平台做剩下的。从理解应用程序的依赖性到容器的构建和扩展以及网络和路由的连接，它无所不包。

### 特征

在 Cloud Foundry 上运行的应用由 BOSH (PCF 的基础设施管理组件)部署、扩展和维护。它部署版本化的软件和虚拟机，然后在部署后监控应用程序。尽管 BOSH 的学习曲线被认为是相当高的，但是一旦掌握了它，就可以通过提高团队生产力来增加相当大的价值。

Pivotal Cloud Foundry 的更多基本功能包括:

*   云控制器指导应用部署
*   使用 Docker 映像和构建包进行部署
*   将所有传入流量自动路由到适当的组件
*   即时(垂直或水平)应用扩展
*   Cf CLI (PCF 命令行界面)
*   集群调度程序
*   负载平衡器和 DNS
*   “日志聚合器”——日志记录和指标聚合

### 安装和可用性

在开始 Pivotal Cloud Foundry 的安装流程之前，Pivotal 文档指导用户为 PCF 配置防火墙并建立 IaaS 用户角色指南。之后，安装由 web 用户界面指导。

### 最佳使用案例

Cloud Foundry 的平台是一个更高层次的抽象，因此它为用户提供了更高水平的生产力。然而，随着生产率的提高，在运行时可以定制的内容也受到了一定的限制。

PCF 是新应用、云原生应用和在构建包外运行良好的应用的理想选择。对于短生命周期和频繁发布的团队来说，PCF 提供了一个优秀的产品。

## 库伯内特斯

Kubernetes 是一个容器调度器或编排器。使用容器编排工具，用户可以自己创建和维护容器。对于许多团队来说，拥有这种灵活性和对应用程序的控制是首选。

开发人员需要创建容器，然后在将来维护它，而不是只关注应用程序，例如，当堆栈上的任何东西有更新时(新的 JVM 版本等)。).

(来源:x-team.com)库伯内特建筑

### 特征

Kubernetes 是一个成熟的容器编排器，与 Docker Swarm 和 Apache Mesos 在同一个市场上运行。在 Kubernetes 中，容器根据逻辑依赖关系被分组到一个个容器中，这样就可以在运行时轻松地伸缩。

Kubernetes 的更多基本功能包括:

*   全局控制的主节点(调度、API 服务器、数据中心)
*   具有运行容器单元所需服务的工作节点(虚拟机或物理机)
*   容器的自动缩放和容量管理
*   具有可更换组件和第三方插件的灵活架构
*   有状态持久层
*   Kubectl (Kubernetes 命令行界面)
*   活跃的 OSS 社区

### 安装和可用性

用户对 Kubernetes 的一个常见抱怨是设置过程的困难。首先，在开始实现 K8s 时，您必须提前计划，因为您必须提前定义您的节点，这可能非常耗时。最重要的是，Kubernetes 的设置因操作系统而异，当用户需要构建定制环境时，文档是不够的。除了所需的所有手动集成之外，甚至连考虑设置过程都会让您头疼。

一旦准备好使用，Kubernetes 就提供了市场上最成熟、最受欢迎的容器编排工具服务。它还有一个活跃的社区，为用户提供支持和资源。

### 最佳使用案例

Kubernetes 是 PaaS 世界中的一个低级抽象，意味着实现定制和构建容器的更大灵活性，以您希望的方式运行。不幸的是，这也意味着您的工程团队需要做更多的工作，并且生产力会降低。

当转移到任何新的系统或产品时，一个好的经验法则是使用最高级别的抽象来解决您的问题，而不会给工作负载带来任何不必要的限制。如果您需要更多的灵活性来进行定制，并且您愿意投入工作，请坚持使用 Kubernetes(或者查看下面的 Kubo)。

## 两全其美:Cloud Foundry 容器运行时

Cloud Foundry Container Runtime(CFCR)，以前称为 Kubo，基本上采用 Kubernetes 并在 BOSH(Cloud Foundry 的开源生命周期管理工具)之上运行。Pivotal 和 Kubernetes 的创建者 Google 合作的目标是创建“一种统一的方法来实例化、部署和管理高度可用的 Kubernetes 集群。”

CFCR 为用户提供了 Kubernetes 的定制能力和 BOSH 的部署和管理能力。

## 最后的想法

尝试对市场上不同的工具和服务进行一对一的比较是很有诱惑力的。那样做决定更容易。但有时，看似相互竞争的工具和服务实际上提供了互补的能力。

事实是，Pivotal Cloud Foundry 和 Kubernetes 有一些功能重叠，但它们服务于两个不同的目的。因此，为你选择合适的工具意味着更仔细地审视你需要它做什么，以及你打算如何使用它。为了两全其美。了解 Cloud Foundry 容器运行时。