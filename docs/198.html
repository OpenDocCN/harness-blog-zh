<html>
<head>
<title>Managing Reliability With SLOs and Error Budgets | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>通过SLO和错误预算管理可靠性|利用</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/slo-error-budgets#0001-01-01">https://www.harness.io/blog/slo-error-budgets#0001-01-01</a></blockquote><div><p>在本文中，我们将了解SLO和错误预算如何帮助管理可靠性——因为100%的可用性既复杂又昂贵。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>随着企业采用数字优先的方法，在不牺牲创新速度的情况下构建可靠的服务至关重要。“现在就要”的客户文化是新常态，它迫使公司设定不切实际的运输预期。您和您的客户必须对系统性能有相同的认识。确保您不会过度承诺或不充分实现目标，这是传播以可承受的预算构建具有可接受的用户体验的产品文化的第一步。</p><p>根据网站可靠性工程(SRE)原则(记录在谷歌SRE书中)，可靠性与产品成功成正比。因此，您必须使用三个服务级别指标来衡量其可靠性，这将在以下几节中详细讨论:</p><ul role="list"><li>服务水平指示器(SLI)</li><li>服务水平目标(SLO)</li><li>服务水平协议</li></ul><figure class="w-richtext-figure-type- "/><p>随着开发人员发布新功能并增强现有功能，未知因素可能会导致系统混乱。然而，这不应该妨碍你的创新质量和速度。输入误差预算，它作为一个指示器，根据剩余误差预算的数量，将开发工作导向创新或稳定。发明了“SRE”一词的谷歌工程副总裁本·特雷诺·斯洛斯将SRE概括为“当你要求一个软件工程师设计一个操作功能时会发生什么”</p><p>让我们来看看这些将如何帮助您的组织向前发展。</p><figure class="w-richtext-figure-type- "/><h2>什么是SLO和SLI？</h2><p>服务水平目标(SLO)是一个可靠性目标，用于定义我们对服务的预期行为。换句话说，SLO是对服务预期可靠性的目标衡量。例如，它可以帮助您确定服务可接受的停机时间、错误率或服务请求响应时间。但是为了理解什么是SLO，我们必须知道什么是SLI。</p><p>SLI，即服务水平指标，是一种提供服务健康状况的指标。这是用于表明是否达到SLO的核心指标。SLO在确定sre必须满足的可靠性目标方面起着至关重要的作用。他们帮助‌Site可靠性工程师通过确定测量什么和如何测量来衡量他们在实现这些目标时的成功。</p><p>此外，服务水平协议(SLA)是解释服务未能达到承诺目标时的影响的法律协议。例如，当一项服务有太多的中断从而导致可用性低于承诺水平时，服务提供商可能要支付罚款或罚金。</p><p>随着数字优势的增加，构建更具弹性和可靠性的服务的期望也在增加。客户已经习惯了高可用性的应用程序，这些应用程序功能稳定且易于使用。最终，平衡服务可靠性和功能交付速度成为公司面临的挑战。</p><p>100%的可靠性是一个不可能的目标，你可能会想设定这个目标。这仅仅意味着你选择不做任何生产上的改变，这绝对不是一个明智的商业决策。完美不是目标，但是设置可测量的和具体的可靠性目标，允许适当的新特性交付率，将会带来满意的客户。找到这种平衡是提供引人注目的软件体验并同时关注组织生存的核心。</p><p>经过深思熟虑的SLO是现实中可实现的可靠性目标，或者可以概括为客户体验的合理近似。定义SLO涉及多个利益相关方和不同团队的意见，这是一个由SRE团队推动的协作过程。SLO充当主要的决策驱动因素，让您发现速度和可靠性之间的正确平衡。违反SLO可能会引发一些活动，这些活动最终会对工程施加压力，以在发布新功能之前稳定服务。</p><p>计算SLO:</p><p>符合定义阈值的请求数</p><p>- X 100</p><p>请求总数</p><h2>什么是误差预算？</h2><p>误差预算本质上是对SLO违规的一种补偿，它可以在您的服务的特定时间范围内累积。在您的客户受到过度影响之前，这是不可靠性的可接受极限。当你不断改变你的系统时，失败是不可避免的。因此，将失败正常化为过程的一部分有助于团队平衡创新和违反SLA的风险。</p><p>为了提高服务的可靠性和性能，您必须能够做出重要的决策，例如团队应该在什么时候以及在多大程度上优先考虑新功能开发工作和系统稳定工作。</p><p>错误预算是一种工具，可以帮助团队承担可计算的风险，避免过分依赖可靠性。这个工具帮助SRE和开发团队协同工作，并通过确保满足SLO来控制‌release速度。剩余的大量错误预算表明，开发人员可以在没有重大风险的情况下开发新功能。一旦错误预算耗尽，团队应该停止部署新的特性，并专注于服务质量和可靠性。记录错误预算消耗有助于您确定每个工程团队的适当部署率。</p><h2>SLO和错误预算如何帮助管理可靠性？</h2><p>当您没有达到SLO目标并且剩余误差预算低于阈值(您可以定义阈值)时，明显的决策就开始了。最常见的途径包括停止新功能的发布，直到服务再次进入SLO，或者解决与可靠性相关的问题。定期检查您的SLO和错误预算可以确保您满足预期和可靠性要求。错误预算充当事件触发器，对受影响的业务服务进行无可指责的事后分析(根本原因分析)。</p><p>根据谷歌SRE图书的附录计算误差预算:</p><p>误差预算= 1–可用性SLO</p><p>例如，如果SLO是99.9%，那么要计算误差预算:</p><p>误差预算= 1–99.9% = 0.1% =每周违反SLO约10分钟或每季度约131分钟</p><p>这0.1%就是不可用性窗口。在用尽错误预算后，之前达成一致的错误预算策略有助于防止任何进一步的客户影响。当团队执行更多的测试时，新的发布被搁置。拥有一个健康和成熟的SLO和错误预算文化可以让你更好地衡量和讨论服务的可靠性需求。</p><p>注意:计划的维护窗口不应算作SLO违规，因此不应从误差预算中扣除。</p><figure class="w-richtext-figure-type- "/><h2>结论</h2><p>在分布式环境中，提供100%的可用性在技术上是复杂且昂贵的。建立SLO和创建错误预算可能是一个漫长的旅程，但结果非常值得投资。您将具备在潜在的影响客户的问题变成面向客户的问题之前发现它们所需的弹药。您必须持续监控服务中用户经常访问的关键路径。汇总这些数据有助于在发生违规或接近违规时确定警报和其他操作。</p><p>Harness创建了一个解决方案，让新人更容易开始使用SLIs、SLO和错误预算。该解决方案还帮助团队推进到实施SLO政策的阶段，以实现CI/CD管道内护栏的自动化。了解更多关于<a href="https://harness.io/products/service-reliability-management" target="_blank">线束SRM </a>、<a href="https://harness.io/products/platform" target="_blank">线束软件交付平台</a>的一部分，以及<a href="https://harness.io/demo/srm" target="_blank">今天请求演示</a>。</p></div></div>    
</body>
</html>