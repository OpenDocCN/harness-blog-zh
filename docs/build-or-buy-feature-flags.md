# 功能标志:我应该构建还是购买？装具

> 原文：<https://www.harness.io/blog/build-or-buy-feature-flags>

对于许多公司来说，功能标志工具首先是内部构建的。有时这意味着非常健壮的解决方案，建立在开源工具或现有的内部规则引擎之上——有时这意味着存储在 repo 或数据库的文件中的简单配置开关。

当许多团队意识到他们可能需要一个特性标志工具时，他们已经有了。对于许多公司来说，功能标志工具首先是内部构建的。有时这意味着非常健壮的解决方案，建立在开源工具或现有的内部规则引擎之上——有时这意味着存储在 repo 或数据库的文件中的简单配置开关。

这个旅程没有错，因为功能标志是一种工作方式，通常需要一些初始的清晰用例，然后，随着时间的推移，你会发现它们微妙地改变了你的产品团队的整个工作方式。不过，这些最初的用例看起来很简单，可以自己解决。

那么，什么时候该抛弃你现有的自制解决方案呢？您应该从构建解决方案开始吗？还是功能标志软件(比如[驾驭功能标志](https://harness.io/platform/feature-flags/))其实从第一天开始就比较好？让我们来看看。

## 你为什么想要特征标志？

在我们进入经典的构建与购买讨论之前，让我们快速回顾一下你可能已经考虑实现[特性标志](https://harness.io/blog/feature-flags/what-are-feature-flags/)的一些原因——或者看起来像特性标志但你可能还没有称之为特性标志的东西。

我应该先说，我不认为特性标志最初解决的个别问题实际上是使用它们时最强大的部分。随着时间的推移，使用特性标志的团队会变得更有效率。你会出货更多，担心更少，跨产品团队与队友沟通和规划更容易。一旦你习惯了特性标志，它确实是一种工作方式——但这不一定是你第一天要寻找的。

最初，团队使用旗帜有几个原因:

*   我们能不能用一种更简单的方式在我们的一些用户中测试这个新特性？
*   我们能让我们的项目经理更容易为新功能添加用户吗？
*   有没有什么方法可以让我们在生产中逐步推行变革？
*   有没有比不断部署和回滚更好的方法来测试变更或新特性的影响？

特性标志有助于解决所有这些问题，它允许您将部署与发布分开，允许您在标志背后工作，并在您准备好面对您可以定义的有限受众时照亮代码路径。

## 为什么内部团队想要建立一个特性标记工具

当团队遇到这些问题时，工程师们经常会说，“哦，我们只需创建一个配置文件就可以了。”一两年后，同样的团队将会有一个大杂烩式的特性标记工具来解决同时出现的任何用例，不管用什么方式，有最多空闲时间的人想要扩展系统来解决它。这很好！在你的普通工程团队中，有很多问题都是以完全相同的方式解决的。

然而，在某些时候，人们会问这样一个问题:“购买一个特性标志工具会更好吗？”考虑到我们出售一个特性标志工具，说是很容易的——但是也有一些很好的理由来构建你自己的解决方案。

### "大多数商业特征标志工具都是多余的."

你可能会觉得对于你的简单需求，你真的不会利用所有的功能标志工具。您的系统运行良好，您并没有真正看到您的组织进入供应商宣传的更复杂的工作流程。

### “我们可以让它做我们需要的事情。”

另一个重要的论点是定制工具解决了你的问题，而不是所有人的问题。您可以削减脂肪，定制体验，并确保您不会在您希望工具如何工作上妥协。

### “比较便宜。”或者，“是免费的。”

为什么要花钱买那些你花几天或几周时间就能搞定的东西呢？没有一个工程团队会发现自己有太多的钱花不完，所以你没有花在这里的钱可以花在别的地方。

## 为什么您应该考虑购买功能标记工具

我想说的第一件事是这些论点不错。对于某些语境下的某些团队，我们甚至不想反驳。构建还是购买是一个复杂的选择，事实上，到目前为止解决自己问题的团队可以有很好的体验。

但是，我们确实认为构建路径有一些相当大的问题，以及很多潜在的机会，走这条路线的团队放弃了这样做。

### 构建和维护特征标志平台的复杂性

像大多数内部解决的选择一样，您可以很容易地绘制一个图表，显示您的内部解决方案的 ROI 随着您的组织使用系统越多而减少。对于最初的几个标志和用户，您可以节省数千美元。

但是，当您有几十个或几百个标志、您想要限制访问的不同类型的用户、要管理的由标志产生的技术债务以及要为标志国服务的多个环境时，会发生什么呢？不知不觉中，您已经花费了大量时间来扩展您的解决方案，维护和运行它的成本和时间也在不断攀升。

商业特征标志解决方案，如 Harness，处理这些问题，并与致力于大规模安全和性能的团队一起处理它们。

### 恶化的经历

您对标志的使用越成熟，组织中使用它们的人越多，您对它们的易用性、快捷性和可靠性的要求就越高。糟糕的体验会限制和阻碍系统的使用。

对于内部构建的系统，随着复杂性的增加，体验几乎总是会下降，因为通常不可能证明创建真正伟大的开发人员和用户体验所需的时间和资源是合理的。

在 Harness，我们始终以开发者体验为中心。这是我们的设计师所做的，这是我们的工程师所做的，这是我们的项目经理所做的。一个即时加载的 flag 页面，而不是一个有延迟的页面，一个易于使用的设计，而不是阻止人们想要处理它，将会增加你的团队从 flags 和自主开发的解决方案中获得的 ROI(和速度)。

### 最佳实践和工作流程

工程团队依赖他们的工具的事情之一是帮助他们升级。工具可以做出明智的选择，从庞大的用户群中学习，并通过为客户带来工作流程中的最佳实践、良好习惯和创新来帮助加快所有客户的速度。同时，单个团队可能没有想到这些特性——但肯定会从中受益。

当您使用内部解决方案时，您可以解决您的问题，但是您不会利用关于如何有效地设计、构建和使用功能标志的行业范围的知识库来创建伟大的工程成果。这正是 Harness 在我们构建解决方案时所做的事情。

### 管理、治理和安全性

关于特性标志的一个奇怪的事情是，它们允许人们在产品中修改东西。对于真实用户来说。瞬间！

这可能会给不同的人敲响警钟。安全、管理、PMs 和其他人可能都不喜欢这种级别的访问，如果不小心的话，可能会将其视为威胁而不是超级大国。

有了 Harness，我们就能准确地设计出组织需要的特性来确保安全。这意味着 RBAC、审计日志、全球政策和模板、计划和批准工作流等等。大多数自主开发的解决方案没有这种功能，或者即使有，它们也是连接到您的各种业务系统的一堆中间件脚本。脚本需要不断地维护和改进，你需要说服每个人相信它。

## 在你建造或购买之前尝试

综上所述，真正的试金石应该是你的经历。[试用工具](https://harness.io/free-trial/)，考虑如果没有内部解决方案，你将如何复制其中的一些功能，或者如果有，开始尝试将成本分配给一些无形的开销因素，如时间、维护、安全性和可扩展性。

在大多数情况下，我们认为购买一个特性标志工具比构建一个更有意义。当存在不太健壮的商业工具时，或者当问题更加定制时，构建通常是一个更强的案例。对于功能标志来说，这些都不再是真的了。