# DevOps | Harness 中的可观察性与监控

> 原文：<https://www.harness.io/blog/observability-vs-monitoring>

可观察性和监控是密切相关的，所以如果你想构建可靠的系统，两者都需要。找出它们如此深奥的原因。

随着软件交付系统竞相从云迁移的数字化转型中获益，它们也充满了严重的复杂性、新的挑战和铺天盖地的数据噪音。当应用程序或服务的数量——在这些庞大的多云环境中——达到某个临界点时，您就无法跟踪什么在哪里运行以及它们的性能如何。持续检查这些海量的高速数据流以识别生产中已知和未知的问题至关重要。这正是可观察性和监控出现的时候。

首先，让我们先定义这两个术语，然后再深入研究本质。简单地说，监控是通过收集和分析数据来发现问题的任务，而可观察性是通过解决这些问题来实现的。可观察性有助于团队使用度量、日志和跟踪来理解跨多云环境的系统的内部状态。监控和可观察性提供了一种双管齐下的方法，有助于维护软件环境的性能和可靠性。

当在生产中运行软件时，监控和可观察性提供了必要的信息:

*   改善客户体验。
*   减少平均维修时间(MTTR)。
*   提高平均无故障时间(MTBF)。
*   提供客户期望的可靠性和可用性。

根据 Gartner 对软件交付世界变化速度的预测，“到 2024 年，30%实施分布式系统架构的企业将采用可观察性技术来提高数字业务服务性能，而 2020 年这一比例不到 10%。”

但是监控到底意味着什么呢？可观察性实际上能提供什么？

为了更好地理解可观察性/监控，让我们深入研究每个术语的细节。这将为您提供足够的信息，使您能够开始构建这些实践。

## DevOps 中的可观测性是什么？

复杂的现代基础设施包括分布式系统，如云、容器、微服务、无服务器以及这些技术的更多组合。由于系统的可用性和复杂性随着太多部件的交互而增加，分析问题和预测未来的问题变得很困难。

输入可观察性。可观察性是从外部输出(如日志、指标和跟踪)了解系统内部状态的能力。按照控制理论，可观性是可控性的数学对偶。它是一种技术解决方案，使用仪器收集见解，并探索事先未定义的模式和属性。通过评估软件系统生成的输出获得可操作的见解，使您能够对系统的健康状况得出有意义的结论。

可观测性侧重于三种遥测类型，即广为人知的可观测性支柱:

*   指标:这些是在一段时间间隔内测量的数值，具有粒度、带时间戳和不可变的应用程序事件记录等属性。系统指标更易于查询，并且可以保留更长时间。
*   日志:这些是在特定时间发生的事件的带时间戳的文本记录。它们有三种格式:纯文本、结构化和二进制。当系统出现混乱时，错误日志基本上是您首先要寻找的东西。
*   跟踪:这些表示用户请求通过整个分布式架构并返回给用户的端到端“旅程”。使用分布式跟踪，您可以跟踪整个系统的请求过程，并确定任何故障的原因。

Image source: [Xenonstack](https://www.xenonstack.com/)

简而言之，可观察性集中在评估一个系统如何在不干扰甚至不与之交互的情况下工作。如果操作正确，可观察性会带来一系列好处:

*   增强系统性能和运行状况的可见性。
*   以准确的洞察力发现和解决未知问题。
*   优化的工作流程减少了问题和中断。
*   通过将可观察性与 AIOps 机器学习和自动化功能相结合，基于系统行为/输出预测问题。
*   在软件开发过程的早期阶段捕捉并解决问题。
*   深入研究日志并检查堆栈跟踪错误。

您需要一个可观察的系统，以便在问题出现之前发现它们，以免破坏客户体验。早期识别和先发制人的解决方案有助于更好的决策和更快的反馈循环。

## 什么是好的观察工具？

可观察性系统使开发人员能够理解系统在任何时间点的内部状态。让我们看看好的可观测性解决方案提供了什么:

*   用户友好:良好的可观察性平台将提供业务多个领域的概览，这使得即使是最复杂的数据也易于阅读和解释。
*   系统的全面可见性:您可以通过易于理解的格式(例如仪表板)准确了解您的业务在任何时候都在发生什么，您可以快速理解。这样，你的企业就能更好地适应不断变化的市场环境。
*   交付业务价值:当您能够快速、细致地收集数据并分析对您的业务至关重要的关键指标时，您就知道应该将时间集中在何处来提高业绩。
*   实时、可操作的数据:通过对问题、其对‌customers 的影响以及如何解决问题的实时洞察，您很有可能获得更高的保留率和增加的收入。
*   支持现代技术:有效的工具从您的操作环境、堆栈和技术中收集可观察性数据，并为团队响应提供所需的上下文。

## DevOps 里有什么监控？

在推进新版本时，主动监控是发现在后台运行监控程序时遗漏的问题的一种方式。当然，由于不可预见的事件，系统故障在组织中时有发生。然而，监控的重点是最大程度地降低此类故障的频率。

简而言之，一个好的监控系统可以帮助 DevOps 团队识别问题并接收相关的警报。除了提高生产环境的可见性之外，监控工具还使您能够对此类问题做出快速响应，避免意外停机，实现战略性业务目标和性能目标。

虽然监控可能看似‌outdated，但这项技术对 DevOps 团队的成功至关重要。随着企业采用 DevOps 来加速应用程序开发过程，获得产品的全面和实时视角至关重要。监控工具提供了对应用运行状况、性能、使用模式以及生产输入的可见性。

在整个[软件开发生命周期](https://harness.io/blog/software-development-life-cycle/)中，从规划到开发、集成和测试、部署和运营，监控工具有助于自动化和扩展的度量和可见性。这反过来使您能够加强安全措施——威胁评估、根本原因分析、事件响应、计算机和数据库取证。简而言之，如果您能够及时地响应和解决它们，那么开发团队的可怕且昂贵的停机时间可以被最小化。

## 有哪些好的监控工具？

持续监控有助于深入了解您的 IT 基础架构，从而帮助您向客户提供一流的服务。让我们来看看一个好的监控工具提供了什么:

*   早期检测:定期和最新的扫描和监控使您能够提前纠正系统中的任何异常或差异。清楚地了解您的应用程序和基础架构的运行情况有助于在问题变成大问题之前发现它们。
*   实时警告:实时警告不仅提醒团队注意性能问题，还使他们能够快速解决可靠性问题。
*   识别威胁:持续监控您的系统对于识别安全威胁至关重要，否则可能会导致数据丢失、安全漏洞或其他漏洞。
*   提高可靠性:通过监控，您可以更好地了解系统中的哪些组件可能需要升级甚至更换。
*   成本效益:通过正确的监控，您可以预测即将出现的问题，并预测企业的停机时间。提前检测并解决问题可以防止客户不满意，并保护您的声誉。

## 可观察性与监控

可观察性和监控听起来有点相似，但不是一回事。尽管可观察性和监控通常可以互换使用，但它们并不是一回事。当某些东西运行不正常时，监控会通知您，可观察性会帮助您找出原因。

监测和可观察性存在于一种共生关系中，两者密不可分。事实上，实现可见性以发现异常并识别它们对您的服务的影响远远超出了人类的能力。没有观察也可以进行监控，但是这将大大削弱你快速分析和解决‌problems 的能力。

当你对你的系统做更多的改变时，就更有可能出现混乱。监控和可观测性工具确保你可以在‌development 速度增加时保持‌operational 稳定。系统的可观测性取决于:

*   系统的简单性
*   性能指标的表示
*   监控工具识别正确指标的能力

这些见解有助于确定系统的内部状态，尽管系统具有内在的复杂性。监控工具利用这些见解，并帮助您了解什么不起作用。虽然这是一个关于可观察性和监控的常见概念，但事实是没有监控就没有可观察性。

## 结论

任何企业的最终目标都是构建具有高正常运行时间的弹性系统和现代应用程序。与整体架构时代的情况不同，复杂的分布式系统使得实现应用程序的完全可见性变得更加困难。

在运行生产软件时，发现异常并识别其最终影响可能是一项超出人类能力的任务。可观察性和监控是密切相关的，所以如果你想构建可靠的系统，两者都需要。由可观察性和监视提供的双管齐下的方法让您抓住公牛的角。尽管系统很复杂，但这种组合提供了关于系统内部状态的准确见解。

我们希望您在[仪表板](https://harness.io/blog/dashboarding-data-visualization/)上继续阅读这篇文章。它可以给你一些收集数据的好主意。