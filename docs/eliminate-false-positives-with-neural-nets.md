# 如何利用神经网络消除误报

> 原文：<https://www.harness.io/blog/eliminate-false-positives-with-neural-nets>

我们一直在分析应用程序日志事件，以帮助客户检测异常并验证他们的生产部署。

## 利用 Harness 分析应用程序日志数据

在过去的 10 个月里，在 [Harness](https://harness.io) ，我们一直在分析应用程序日志事件，以帮助客户检测异常并验证他们的生产部署。为此，我们的算法基于文本相似性和出现频率。Harness 为 Splunk、ELK、Sumologic 等流行的日志聚合工具提供了本机集成。

我们的算法是一种无监督的机器学习形式，我们使用传统的自然语言处理(NLP)标记器和基于词频的方法。

我们发现，与自然语言文本相比，日志事件包含相当多的噪声，这极大地影响了误报率。

请参见下面的示例:

红圈是算法根据文本相似度检测到的异常。在左侧查看它们各自的文本，差异可归因于帐户 id。

尽管这些消息在文本上是不同的(警报是为不同的帐户生成的)，但它们在上下文上是相似的；即它们都是在服务中的某种告警期间生成的。

## 神经网络有帮助吗？

最近我们一直在研究神经网络在文本分析中的能力。神经网络可以将可变大小的日志消息转换为高维空间中固定大小的向量。以下是与神经网络结果的对比:

左边的图表是我们上面展示的。两个灰色圆圈是与基线数据中的警报相关的消息。由于帐户 id 的不同，它们被分开显示。两个红圈也是警告信息，但被预测为异常。

右边的图表是神经网络预测的结果。两个灰色圆圈合并成一个单独的簇，两个红色圆圈替换为一个蓝色圆圈，表示它与下面的灰色圆圈相匹配。不错！

我们已经进行了一段时间的 A/B 实验，以了解神经网络如何影响假阳性，并已经看到了阳性结果。

以下是我们看到的一些结果/优势的示例:

右边的图表基于神经网络。现在，它应该是不言自明的了。

## 河这边都是绿色的吗？

使用神经网络分析上下文相似性也有缺点。首先，我们看到了假阴性率的轻微上升——这意味着，我们看到了我们检测异常的能力的一定程度的失败，因为环境并不总是容易辨别的。

房间里另一个明显的大象是性能。为了提供实时异常检测，我们必须训练神经网络，并将其用作实时预测解决方案，这本身就是一个有趣的挑战。

## 接下来去哪里？

我们认为，在特征标志控制下推出基于神经网络的解决方案来选择客户，我们处于良好的状态。有了他们的真实日志输入，我们可以很好地学习和训练我们的模型，并可以克服负面影响。在接下来的几个月里，我们将分享我们从实验和客户验证中学到的最新信息。

感谢阅读！

帕尔尼安·扎尔加姆、拉古·辛格和斯里拉姆·帕萨拉西

驾驭数据科学团队