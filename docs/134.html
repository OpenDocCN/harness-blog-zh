<html>
<head>
<title>Harness Delivers RBAC For Continuous Delivery | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>吊带提供持续输送的|吊带</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/harness-delivers-role-based-access-control#0001-01-01">https://www.harness.io/blog/harness-delivers-role-based-access-control#0001-01-01</a></blockquote><div><p>队友:“嘿，我们买的那个新工具的登录是什么？”你:“试试admin/admin”——没了！我们有RBAC。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>有过管理员/管理员登录信息综合症吗？这对于您的监控工具来说可能很好，但是对于连续交付来说就不行了。例如，开发人员/技术人员需要管理工具，开发人员需要自由部署，安全人员需要控制这种访问的能力，以便他们可以出于治理和法规遵从性原因审计部署。因此，基于角色的访问控制(RBAC)是企业CD的强制性要求。</p><p>大约在去年九月，我们和几个Harness客户坐下来讨论我们的<a href="https://harness.io/blog/continuously-delivering-for-harness-on-premises-customers/" target="_blank">内部版本</a>和RBAC。这是我们学到的。</p><h2>组织和团队的灵活建模</h2><p>每个企业、组织和应用都是不同的。团队之间的角色和职责也各不相同，尤其是在比较传统应用程序架构和云原生架构时。</p><p>例如，一个微服务架构通常有多个团队，每个团队独立开发和部署。因此，您需要在您的CD平台中对这些角色进行建模，以确保每个人都能以正确的许可和访问权限愉快地部署。一个典型的企业可能有几千个应用程序、微服务(和团队)。</p><p>在Harness中，用户属于一个或多个用户组:</p><figure class="w-richtext-figure-type- "/><p><br/>用户组由Harness管理员创建，并由权限和操作定义，这两者都可以分层和过滤。</p><h2>基于角色的访问控制粒度权限</h2><p>客户要求跨其部署管道的不同组件获得无限粒度的权限。</p><p>线束允许以下权限:</p><ul role="list"><li><strong>应用</strong> -服务的逻辑组</li><li><strong>服务</strong> -神器</li><li><strong>环境</strong> -基础设施</li><li><strong>触发器</strong> -执行管道/工作流的条件</li><li><strong>管道</strong> -一组阶段/工作流程</li><li><strong>工作流</strong>——将服务部署到环境中</li><li><strong>部署</strong> -管道/工作流的执行</li></ul><p>然后，可以将操作映射到上述每一项。</p><h2>通过基于角色的访问控制实现职责(操作)的完全分离</h2><p>不言而喻，您希望在您的CD平台和部署管道中控制谁可以做什么。</p><p>例如，您可能希望让您的DevOps团队管理部署管道(创建/更新/删除/读取)，但只允许开发人员部署和查看它们。此外，您可能希望向高管授予只读访问权限，以便他们能够了解您的整个部署管道。</p><p>这些是我们与客户商定的行动:</p><ul role="list"><li>Create</li><li>Update</li><li>删除</li><li>执行</li><li>阅读</li></ul><h2>限制云提供商和工具的使用</h2><p>没有访问您的云提供商(或内部基础架构)和DevOps工具的部署管道，连续交付就无法工作。</p><p>我们的许多客户面临的挑战是限制谁可以使用哪些云帐户和工具集。例如，您不希望数百人对所有应用程序/服务/环境使用同一个AWS帐户，并按照他们的意愿运行数千个计算节点。此外，企业还有Nexus、Jenkins、Splunk、ELK、AppDynamics等很多实例。</p><p>我们通过在应用程序和环境级别限制云和工具来解决这些需求:</p><figure class="w-richtext-figure-type- "/><p><br/> <br/>应用和环境也可以分层，因此许多应用/环境可以与单个云提供商或工具实例相关联。</p><h2>连续交付的基于角色的访问控制示例</h2><p>假设我们的组织中有以下团队:</p><ul role="list"><li><strong>devo PS</strong>——负责CI/CD工具和构建跨所有应用的部署管道(自动化)</li><li><strong>电子商务</strong> -负责开发和部署前端web应用程序</li><li><strong>支付</strong> -负责开发和部署支付微服务</li><li><strong>订单</strong> -负责开发&amp;部署订单微服务</li><li><strong>执行</strong>——负责电子商务的交付</li></ul><p>这里有一个3分钟的视频，介绍如何创建这些团队:<br/></p><figure class="w-richtext-align-center w-richtext-figure-type-image"/><p>在线束中，点击<strong>持续安全</strong>导航标题，选择<strong>用户和权限</strong>:</p><figure class="w-richtext-figure-type- "/><h2>让开发人员构建部署管道</h2><p>在Harness中使用基于角色的访问控制，我们可以创建一个拥有以下权限的DevOps用户组:</p><figure class="w-richtext-figure-type- "/><p><br/> <br/>在上面的截图中，我们的DevOps用户组被授予为所有应用程序、服务和环境构建(创建、更新、删除、读取)部署管道的权限，但是不能使用它们进行部署。部署许可被保留并授予每个开发团队，因此他们能够读取和执行由DevOps构建的部署管道。</p><h2>让开发使用部署管道进行部署</h2><p>例如，电子商务开发团队用户组如下所示:</p><figure class="w-richtext-figure-type- "/><p><br/> <br/>应用程序和服务仅被过滤为“电子商务”。动作也被限制为“执行”和“读取”，因此团队可以使用DevOps团队为他们构建的环境、工作流和管道进行部署。显然，利用权限和操作是灵活的，因此您可以根据自己的组织和团队的需要对它们进行个性化设置。</p><h2>让高管获得跨管道的洞察力</h2><p>最后，我们可以授予高管对所有“电子商务”应用/服务和部署管道的只读访问权限:</p><figure class="w-richtext-figure-type- "/><p><br/> <br/>这让高管们能够访问所有部署渠道的分析和报告。</p><h2>限制团队对云帐户和工具的访问</h2><p>除了基于角色的访问控制之外，我们将很快推出LDAP/AD/OKTA/SAML支持，这样您就可以对用户进行身份验证，并在您的公司目录和工具之间映射用户组。</p><p>请随意注册您的线束软件交付平台的<a href="https://app.harness.io/auth/#/signup" target="_blank">免费试用版</a>并尝试一下。</p><p>干杯，<br/>史蒂夫。<br/>@伯顿说</p></div></div>    
</body>
</html>