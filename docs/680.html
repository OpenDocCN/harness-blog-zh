<html>
<head>
<title>What is GItHub Actions? Features, Review, Pricing &amp; More | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>什么是GItHub Actions？功能、评论、定价及更多|利用</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/github-actions#0001-01-01">https://www.harness.io/blog/github-actions#0001-01-01</a></blockquote><div><p>如果你想知道GitHub Actions是什么，它如何帮助你进行软件交付，我们创建了这个介绍和指南来帮助你。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>如果你想知道GitHub Actions是什么，它如何帮助你进行软件交付，我们创建了这个介绍和指南来帮助你。</p><h2>什么是GitHub Actions？</h2><p>GitHub Actions是一个持续集成和持续交付(CI/CD)平台。它使用户能够自动化各种GitHub事件，比如克隆存储库、生成Docker映像和测试脚本。它将通过GitHub事件启动工作流，如推送、问题创建或新版本。例如，您可以创建一个工作流程，以便每当有人在您的存储库中创建新问题时，自动运行该工作流程来添加适当的标签；或者您可以开发一个工作流程，以便每当有人开始一个或多个作业时，设置环境变量。</p><p>在我们深入GitHub操作之前，如果您需要更多关于CI/CD的介绍性信息，以及这个主题如何适应软件开发实践，请查看我们的博客，解释<a href="https://harness.io/blog/devops/what-is-ci-cd/">什么是CI/CD </a>您可能也有兴趣阅读更多关于<a href="https://harness.io/blog/continuous-integration/what-is-continuous-integration/">什么是持续集成</a>以及CI 的<a href="https://harness.io/blog/continuous-integration/benefits-of-ci/">好处。</a></p><h2>GitHub操作功能</h2><p>GitHub Actions使您所有软件工作流程的自动化变得容易，因此您可以直接从GitHub构建、测试和部署您的代码。GitHub动作特性包括:</p><h3>基于YAML文件的工作流</h3><p>为了使用GitHub动作自动化开发工作流，用户使用工作流文件或YAML文件创建定义，并将这些文件存储在GitHub存储库中的。github/workflows目录。工作流运行有三种触发方式:通过外部事件、预定事件或GitHub存储库事件(如对GitHub存储库或问题创建的push或pull请求)。</p><h3>机密管理</h3><p>GitHub Actions提供了不同的方法来确定机密的范围:</p><ul role="list"><li>可以在全球组织范围内设置机密</li><li>不必在多个Git存储库中更新机密，它们可以在一个集中的地方进行处理</li><li>还可以限制秘密是否暴露给分叉的存储库</li></ul><h3>适用于Linux、MacOS、Windows、ARM和容器的托管运行程序</h3><p>如果你想使用GitHub托管运行器，GitHub Actions包含了多个操作系统的托管运行器，因此用户可以构建和测试各种各样的项目。GitHub Actions运行在一个VM上或者一个容器内部。在云中或本地的虚拟机上的虚拟环境中托管您自己的跑步者是可能的。</p><h3>作为SaaS和内部提供</h3><p>GitHub Actions过去只面向SaaS，但该公司在GitHub Enterprise Server 3.0或更高版本上为客户添加了一个本地版本。最新版本在您选择的操作系统上或数据中心环境中运行。根据我们的理解，虽然有一些小的限制，但是大多数操作都可以在本地版本上用于多种操作系统。</p><h3>广泛的语言支持</h3><p>GitHub Actions支持Node.js，Python，Java，Ruby，PHP，Go，Rust，。NET等等。用户可以在任何操作系统上用自己选择的语言构建、测试和部署应用程序。</p><h3>矩阵构建</h3><p>利用matrix工作流节省时间，该工作流可跨多个操作系统和运行时版本同时进行测试。</p><h3>多容器测试</h3><p>通过将一些docker-compose添加到工作流文件或YAML文件(YAML文件扩展名是),在工作流运行中测试您的web服务及其数据库。yml)。</p><h3>实时日志</h3><p>用户可以在GitHub Actions中看到他们的工作流实时运行。只需点击一下，即可复制突出显示特定行号的链接，以共享CI/CD故障。</p><h3>Dockerfile文件支持</h3><p>GitHub动作有Dockerfile支持。GitHub Actions可以将工件发布到GitHub包或另一个包托管提供者，如Docker Hub。用户还可以利用其他开发人员构建的操作。例如，有一个名为Check Ansible Ubuntu latest的操作可以让您在Docker容器中测试您的Ansible角色或剧本。<br/></p><h2>GitHub操作定价</h2><p>很多用户疑惑，GitHub Actions是免费的吗？GitHub Actions对公共库是免费的，但是私有库的运行时间有2000分钟的限制。付费计划提供更多的通话时间。如果客户超出了计划的分配分钟数，他们将根据跑步者平台按分钟计费。自托管runners是免费的，在GitHub Enterprise自托管版本中也提供了CI/CD功能。</p><p>根据GitHub网站，GitHub Actions CI定价如下:</p><blockquote><em>“GitHub Actions对公共存储库中的标准GitHub托管跑步者和自托管跑步者是免费的。对于私有存储库，每个GitHub帐户都会收到一定数量的免费分钟数和存储空间，供GitHub托管的跑步者使用，这取决于该帐户使用的产品。超出所含金额的任何使用都受支出限额控制。</em></blockquote><blockquote><em>如果您是按月付费的客户，您的帐户将有一个0美元(USD)的默认消费限额，这可以防止超出您的帐户金额的私人存储库的额外分钟数或存储空间的使用。如果您通过发票支付您的帐户，您的帐户将有一个无限的默认消费限额。</em></blockquote><blockquote><em>分钟数每月重置，而存储使用量则不会。"</em></blockquote><h2>GitHub行动回顾:利弊</h2><p>GitHub Actions提供了潜在用户在迁移到GitHub Actions之前应该了解的优点和缺点。</p><h3><strong>易用性</strong></h3><p>无论使用什么操作系统，用户都可以相当快地启动并运行GitHub Actions。假设用户已经有了一个GitHub repo，可以将第一个工作流添加到repo中并运行一个操作。然后，您可以快速运行您的第一个工作流。如果选择“自己设置工作流”选项，GitHub会创建一个main.yml文件，其中包含。github/workflows目录，其中包含您可以编辑的模板化工作流运行。</p><p>管理秘密是没有痛苦的:用户可以在组织级别以及回购级别设置秘密，这是相对灵活的。</p><p>一个更大的症结是数据在工作流之间传递的方式。这一开始可能有点棘手，肯定有一个学习曲线。当试图在动作和作业之间传递数据时，您会发现自己需要使用神秘的动作语法或direct。env文件插入，将每个作业的状态链接在一起。</p><p>像大多数CI/CD提供者一样，Github Actions有第三方操作，您可以将其用作半即插即用功能。一个任务是否已经被一个公开的GitHub操作解决，这可能是命中或错过的——否则，您需要自己编写。考虑到这一点，您会发现自己在使用GitHub操作时需要编写大量代码。</p><p>最后，由于GitHub Actions是一个相对较新的产品，它仍然没有任何好的报告和对给定回购之外发生的事情的监督。没有用时间线或本机部署跟踪来观察执行的高级概述，这是Harness提供给你的。</p><h3>有限自助服务</h3><p>GitHub Actions将基于您的存储库中的编程语言和框架推荐CI工作流，这很好，但远非真正的自助服务体验，尤其是如果您使用不同于GitHub的软件配置管理(SCM)工具。不知道配置管理是有好处的，因为GitHub Actions可以很好地监听发生在GitHub配置管理中的事件，而不是你选择的配置管理工具。用GitHub Actions进行测试并没有超出对创建的pull请求提供测试结果的范围。</p><h3>缺乏连续验证功能</h3><p>持续验证是在部署后监控应用程序异常的过程。</p><p>例如，持续验证可以发现延迟问题或5xx错误，并自动将应用回滚到以前的版本。持续验证的概念是尽可能快地捕捉错误——理想情况下，在客户注意到之前——并无缝转换回应用程序的前一版本。</p><p>GitHub marketplace中有一些GitHub操作的基本部署状态操作，但这些操作只能告诉您部署是否通过/失败，而不能告诉您部署后的情况。</p><p>似乎要完全了解部署，您需要在GitHub Actions中编写自己的操作来实现这一点。有集成到一些可观察性工具，如Lightstep，所以这是可以做到的-但必须使用GitHub API手动完成。</p><h3>需要手动编写脚本</h3><p>不幸的是，GitHub Actions确实需要大量的脚本。好的一面是，如果您确实需要编写一个动作，您可以将它发布为一个容器图像，这样您就可以用您想要的任何语言来编写它。</p><p>GitHub marketplace上也有一些预先编写好的动作，包括与大量工具的集成。预先编写的操作的一个例子是管理工作流运行的操作，它将检查相同的工作流是否已经从先前的提交开始运行，如果是，则等待它完成</p><p>然而，坏的一面是，虽然编写脚本并不是花费我们时间的最糟糕的方式，但它是可以用来发布代码的时间。这是辛劳。这需要你最聪明的工程师来维护，最终会占用宝贵的编码时间。</p><h3>金丝雀部署可能具有挑战性</h3><p>一位Azure用户整理了一份有用的<a href="https://blog.baeke.info/2021/01/11/kubernetes-canary-deployments-with-github-actions/">教程</a>，讲述如何使用GitHub Actions和Azure通过Linkerd进行金丝雀部署。这是可能的，但正如用户所说，“在更复杂的生产应用程序中，完全自动化并基于指标的端到端解决方案非常具有挑战性。[……]虽然我认为GitHub动作运行良好，但我不赞成从GitHub、Azure DevOps和类似的解决方案中驱动所有这些。没有足够的控制力。”</p><p>“你能做并不意味着你应该做”这句谚语在这里仍然适用。</p><h3>机密管理的局限性</h3><p>GitHub Actions没有针对机密管理的细粒度访问控制机制。此外，GitHub操作中的秘密是为CI/CD本机处理的——不能利用第三方，如HashiCorp Vault。</p><h3>缺少本机指标仪表板</h3><p>软件开发有四个关键指标:</p><ol role="list"><li>交付周期，或者说从代码被签入版本控制系统到它被部署到生产环境所花费的平均时间</li><li>部署频率，即在一段时间内部署到生产的次数</li><li>平均恢复时间(MTTR)或解决或回滚生产中的问题所需的时间</li><li>变更失败率，即生产变更失败的百分比</li></ol><p>这些指标是真正理解性能的核心概念之一。然而，GitHub Actions不提供本机指标仪表板。</p><p>这就结束了我们对GitHub Actions的回顾。如果你正在寻找更多关于<a href="https://harness.io/blog/continuous-integration/continuous-integration-tools/">最佳持续集成工具</a>的信息，我们有一个方便的指南。<br/>寻找真CI/CD？</p><p>如果您正在考虑将CI/CD解决方案添加到您的软件开发实践中，Harness将集成并编排您的整个软件堆栈。而且，它使用AI/ML来自动化和加速您的软件交付。</p><p>‍ <a href="https://app.harness.io/auth/#/signup">今天免费试用安全带</a>。</p></div></div>    
</body>
</html>