# 最佳软件部署工具|工具

> 原文：<https://www.harness.io/blog/software-deployment-tools>

当实现新的软件部署工具时，需要考虑很多事情。不同的公司/团队有不同的目标，如果你在做长期规划，你需要一个能随着你的成长而扩展的工具。

当实现新的软件部署工具时，需要考虑很多事情。不同的公司/团队有不同的目标，如果你在做长期规划，你需要一个能随着你的成长而扩展的工具。例如，它是否具有您在不久的将来需要的治理和安全功能，而且您知道一旦您的公司进行 SOC 2 合规性审计，这些功能也是必需的？考虑未来的建设是最重要的。

考虑到这一点，我们审查了一些软件部署工具，以帮助您的研究。在这篇博文中，我们将讨论付费和开源工具。选择正确的软件部署工具可能很难，希望我们可以让您和您的团队轻松一点！注意:这些工具没有按照任何优先顺序排列。

## 工具 1:线束

[Harness](https://harness.io/) 是一个现代软件交付平台，提供持续集成、持续部署、特性标志和[云成本管理](https://harness.io/platform/cloud-cost-management/)。

创建 Harness 持续集成是为了减少构建新工件的时间、精力和管理。该解决方案通过使用机器学习来优化构建过程中所需的测试数量，从而实现这一点。软件开发过程可能非常棘手，CI 不应该成为额外的担忧。

Harness 建立在持续交付的基础上，并且仍然是该公司的尖端产品之一。在治理方面，它凭借细粒度的 RBAC、完整的审计跟踪和专有的集成机密而独领风骚。同样值得一提的是，它的安装极其简单，大大缩短了价值实现的时间。

Harness Feature Flags 通过让开发人员、营销人员、经理和其他公司领导在生产中即时打开和关闭特性来帮助管理发布。这使得 A/B 测试变得容易，并且可以极大地提高部署速度。特性标志正迅速成为软件部署过程的关键部分。

Harness Cloud Cost Management 让用户能够即时了解他们选择的云服务的成本。它还允许用户自动控制或停止意外过度配置或处于运行状态的资源。

Harness 的伟大之处在于它的单点模式。团队可以自由选择线束模块，而无需购买整个平台。每一个线束产品的质量和功能都是独立的。

### 关键软件交付功能:

*   SaaS 或本地。
*   减少任务重复的机器学习。
*   提高安全性的高级治理。
*   现成的淡黄色和蓝绿色部署。
*   自动化部署验证。
*   失败部署的自动回滚。
*   从单个管道进行多云部署。

### 缺少软件交付功能:

*   尚未提供 OPA 支持(即将推出)。

## 工具 2:阿尔戈光盘

Argo CD 是一个开源的持续部署解决方案，提供 Kubernetes-first 支持。它遵循基于 Git 的工作流来自动化 Kubernetes 中的服务部署。作为 Kubernetes 控制器，它确保您的资源的当前状态与您期望的或指定的目标资源状态相匹配。可以在 GitHub 上的 argoproj 下找到。

Argo CD 利用了所谓的 Argo GitOps 引擎，这是一个实现核心 GitOps 功能的开源库，允许您管理、自动化、审计和了解您的软件部署生命周期。Argo CD 是目前最强大的软件部署工具之一。

### 关键软件部署功能:

*   将应用程序自动部署到指定的目标环境:用户可以利用 Argo CD 将任何需要的更改应用到他们的 Kubernetes 环境，例如舵图或应用程序部署。这使得用户可以轻松管理多个 Kubernetes 资源。
*   应用程序资源的健康状态分析:Argo CD 在直观地让用户了解应用程序的健康状态方面做得很好。它可以让你知道一个 pod 是否出现故障，是否需要修剪，或者它是否在正常状态下正常工作。Argo CD 还具有自动配置漂移检测和可视化。
*   提供应用程序活动实时视图的 Web 用户界面:Argo CD 有一个易于使用的用户界面，使用起来非常直观。这使得用户能够清楚地看到应用程序的实时状态和活动。

### 缺少软件部署功能:

*   管理 Argo CD:开源解决方案是一个很好的开始方式，但是随着技术的不断进步，它通常不适合软件交付解决方案。每个 Kubernetes 集群都需要安装 Argo CD，并且更新是自我管理的，因此团队需要为此任务投入资源。
*   治理:就 CI/CD 而言，安全性和治理非常重要。加密机密没有内置的 Argo CD 支持。RBAC 和单点登录也没有关联，因此解决方案的管理员必须控制访问和定义用户组，而不利用单点登录提供商提供的用户数据。
*   并非不可知:Argo CD 不支持非 Kubernetes 工作负载。在应用程序或服务部署后，用户可能还会面临自动化职责和需求的挑战。这包括验证和事件管理。在 Argo CD 中，回滚是手动的，并且可以审计 Argo 中所做的更改。由于 Argo 在 GitOps 模型上工作，所有的更改都提交给 git 存储库。这意味着您处理事件的行动手册可能需要包括额外的支持和集成，以自动化许多部署后活动。

## 工具 3: GoCD

GoCD 将自己描述为一个免费的开源 CI/CD 服务器，允许您轻松地对复杂的工作流进行建模和可视化。它提供端到端管道可视化、云原生部署、复杂工作流建模和高级可追溯性。

虽然这些特性对于创建良好的 CD 管道非常重要，但是如果与现代 CD 工具的基本功能以及其他可用的工具相比较，GoCD 最终成为目前市场上一般的软件部署工具之一。

### 关键软件部署功能:

*   端到端可视化:在单个视图中显示从构建到提交再到生产的整个路径，使用户能够跨作业导航、发现低效之处并优化流程。
*   云原生部署:简化常见云环境(如 Kubernetes、Docker 和 AWS)上的 CD 工作流。
*   复杂工作流建模:并行执行，依赖管理，CD 工作流建模结构。
*   先进的可追溯性:通过审计跟踪和差异排除管道故障。

### 缺少软件部署功能:

*   自动化蓝绿色和淡黄色部署。
*   针对安全性和合规性的高级治理。
*   自动化部署运行状况检查。
*   出现故障时自动回滚。

## 工具 4: Octopus 部署

Octopus Deploy 是一个用于管理发布和自动化部署的软件解决方案。此外，它还具有 runbook 自动化功能。从发布管理的角度来看，Octopus Deploy 有助于团队理解发布了什么版本以及它们被部署到了什么环境中。

关于部署自动化，Octopus Deploy 附带了 450 个模板。Octopus Deploy 在其部署管道中使用变量，因此您可以在开发、测试和生产环境中使用相同的过程。此外，Octopus Deploy 支持高级部署模式，包括滚动、蓝/绿、金丝雀和多租户。

Octopus Deploy 的最后一个主要功能是 runbook 自动化。使用此功能，可以自动执行日常维护和紧急事件恢复等操作任务。这些操作手册包括所有必要的权限，因此团队中的任何人都可以被授予执行操作手册的权限。

总的来说，Octopus Deploy 是可靠的软件部署工具之一，具有强大的功能集，支持现代和传统环境。和其他工具一样，Octopus Deploy 也有一些重要的功能没有实现。值得注意的是，自动化部署验证和自动化部署回滚完全缺失。关于 Octopus Deploy 的更多细节，你可以阅读我们关于最佳 Octopus Deploy 替代方案的文章。

### 关键软件部署功能:

*   SaaS 或本地。
*   超过 450 个自动化步骤模板。
*   自动化审批步骤。
*   高级部署模式。
*   专有机密管理器。

### 缺少软件部署功能:

*   复杂而冗长的自定义步骤配置，用于与 Hashicorp Vault 等流行的机密管理器集成。
*   没有自动部署验证。
*   部署失败后没有自动回滚。

## 工具 5: AWS 代码部署

[AWS CodeDeploy](https://aws.amazon.com/codedeploy/) 是一项完全托管的部署服务，可自动将软件部署到各种计算服务，如 Amazon EC2、AWS Fargate、AWS Lambda 和您的本地服务器。

如今，亚马逊似乎为几乎所有东西都提供了服务。他们有一个软件部署工具来确保您使用尽可能多的 AWS 服务是有道理的。根据 Amazon 的说法，AWS CodeDeploy 是平台和语言无关的，因此它可以与任何应用程序一起工作(尽管要求您的本地实例连接到 [AWS 公共端点](https://docs.aws.amazon.com/general/latest/gr/rande.html#codedeploy_region))。似乎也没有任何支持部署到其他云提供商，如 GCP 和 Azure，所以“平台不可知”的说法需要仔细考虑。

### 关键软件部署功能:

*   部署到 AWS 或数据中心。
*   滚动和蓝绿色部署模式。
*   与 EC2 自动缩放集成。

### 缺少软件部署功能:

*   仅限 SaaS，无本地版本。
*   没有多云部署。
*   没有先进的治理，包括 RBAC。
*   没有本地金丝雀部署。
*   没有高级部署定制。
*   没有自动回滚。

## 我们不推荐的工具

### 光盘:三角帆

Spinnaker 最初由网飞创建，是一个 CD 平台，只是有太多的问题需要我们推荐。我们在我们的 [Spinnaker Alternatives](https://harness.io/blog/continuous-delivery/spinnaker-alternatives/) 帖子中讨论了它们，但是概括一下:它只在内部部署，缺乏本地机密管理，不提供传统的应用程序支持，并且被称为设置和配置的“噩梦”。这似乎不值得努力。

### 传统 CI: Jenkins

Jenkins 是最著名的开源工具，用于持续集成和持续部署。因为它是一个开源自动化服务器，所有人都可以免费使用，并且有一个庞大的社区，这导致了额外的支持、文档和功能。这个持续集成服务器/工具是一个独立于平台的 Java 程序。它适用于大多数主流操作系统，如 Linux、Windows 和 MacOS。

我们通常将 Jenkins 放在这个列表中，因为它已经有十年的历史了，不是云原生的，并且坦率地说，它依赖太多插件来扩展它的功能。我们不愿意推荐一个如此依赖于额外扩展性的产品。它还被设计成一个持续集成工具，工程师必须依靠脚本来将其扩展到持续部署中。不值得。

### 现代 CI: GitLab

GitLab，最初是一个基于 Git 的源代码管理工具(像 GitHub 和 Bitbucket，供参考)，在他们的产品套件中引入了 CI/CD 解决方案。它们支持容器编排工具，如 Kubernetes 和 ECS，并且它们支持所有 3 个主要的云提供商(GCP、Azure、AWS)。在基础设施方面，GitLab 最近发布了一个 Terraform 集成。该平台还在其企业级计划中提供了良好的治理和法规遵从性特性。就语言而言，GitLab 的目标是支持每一种语言，无论新旧——包括 PHP、go、Ruby。NET、Java、JS 等等。

GitLab 自称是一个 CI/CD 平台，但是 CD 是通过用脚本扩展 CI 来实现的——它并不完全是真正意义上的“平台”。此外，使用该工具肯定需要一个学习过程。GitLab 没有任何部署验证功能，但可以与 Prometheus 等工具集成，用于监控和观察目的。GitLab 也缺乏本地机密管理功能，但集成了 HashiCorp Vault。

### 使用光盘 CI 工具的注意事项

我们不建议使用 CI 工具进行部署。GitLab 和 Jenkins 就是最好的例子。当你拿起一个本来是为 CI 设计的工具，把 CD 放在上面，你就严重地限制了自己，造成了不必要的痛苦。原因如下。

软件部署需要将许多不同的技能组合在一起才能获得成功，特别是对于 Canary 部署这样的高级部署模式。为了实现成功的 Canary 部署，必须供应基础架构、部署软件、更改网络路由规则以将一定比例的用户转移到新软件、验证新软件的运行状况和性能、定义并可能执行回滚流程等，直到新版本完全升级或回滚。CI 工具没有内置所有这些功能。相反，您必须手动定义每个步骤，这需要正确的知识、大量的时间，并且通常需要大量的试验和错误。为什么不使事情变得简单，并使用具有预定义模板并且已经知道如何执行所有这些步骤的软件部署工具呢？

同样的思考过程也可以应用于 CD 特有的特性，比如自动部署验证和自动回滚。CI 不是 CD。它们需要不同的功能集才能正确完成。

## 尝试更好的软件部署工具

您是否在寻找简单的自助式软件部署解决方案？Harness' [软件交付平台](https://harness.io/platform/)包含用于持续集成、持续交付、云成本管理和功能标志的模块！为什么[不安排一次带吊带的演示](https://harness.io/platform-demo-request-lp)，看看我们是否适合您的开发人员和工程团队？