<html>
<head>
<title>The Data is In: Harness CI is the Fastest on the Planet! | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>数据在:Harness CI是地球上最快的！装具</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/fastest-ci-tool#0001-01-01">https://www.harness.io/blog/fastest-ci-tool#0001-01-01</a></blockquote><div><p>新数据显示，Harness持续集成的构建速度比其他领先的CI工具快四倍，这验证了三个重要新功能增强的影响:缓存智能、测试智能(Harness CI独有的技术)和托管构建。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>当我在10年前开始无人机作为一个开源项目时，我对使用现有CI工具发布代码所花费的时间感到沮丧。这导致了糟糕的开发体验，我想解决这个问题。我的愿景是创建一个快速、简单、开放和安全的CI工具。我很高兴现在通过Harness CI实现了这一目标。</p><p>在宣布线束<a href="https://harness.io/products/continuous-integration">持续集成</a> (CI)模块的几个<a href="https://harness.io/blog/announcing-speed-enhancements-and-hosted-builds-for-harness-ci">新速度增强</a>之后，我很高兴地分享我们的测试数据，这些数据显示<strong>线束CI的构建速度比其他领先的CI解决方案快四倍</strong>。我们测试结果中显示的快速构建时间验证了三个重要新功能增强的影响:缓存智能、测试智能(Harness独有的技术)和托管构建，更重要的是，它们有助于创建出色的开发人员体验。</p><p>在Harness，我们理解开发人员对缓慢、不稳定的构建感到沮丧。我们的重点是为开发人员消除摩擦点，这样他们就可以专注于快速、高效、可靠和安全地编写代码并交付代码。Harness CI最新的速度增强功能就是对这一承诺的证明。</p><p>您可以在我们的<a href="https://harness.io/blog/announcing-speed-enhancements-and-hosted-builds-for-harness-ci">博客公告</a>中了解更多关于这些新功能增强的信息，或者在我们的<a href="https://harness.io/product-features/continuous-integration"> CI产品功能页面</a>上深入了解技术细节。在这篇博客中，我们将进一步了解这些令人印象深刻的新数据，以及Harness CI如何通过这些最新的创新为企业节省高达300%的基础设施成本。</p><h2>后面的数据快了四倍</h2><p>当我们查看最新CI功能增强的初始测试结果时，我们知道我们看到了前所未有的快速构建时间。我们也立即意识到，我们必须向开发人员展示我们可以帮助他们构建多快。</p><p>我们将测试设计为使用Harness CI、GitHub Actions和另一个流行的CI工具在Apache Kafka、Apache RocketMQ和Apache Zookeeper存储库中运行相同的构建。下图以分钟为单位显示了这些结果。<em>(注意，线束“最佳情况”的结果是在代码变化最小且没有运行测试用例的情况下获得的(例如，这是开源repo </em>  <em>中的</em> <a href="https://github.com/apache/kafka/pull/12688/commits"> <em>实际代码变化，其中确定要运行的测试用例非常少)。</em></a></p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>测试结果显示，Harness CI比最接近的竞争对手快2到5倍，比GitHub Actions快3到4倍。在某些情况下，Harness比GitHub动作快19到75倍。</p><h3>阿帕奇卡夫卡建造时代</h3><p><a href="https://kafka.apache.org/"> Apache Kafka </a>是一个流行的分布式活动流媒体平台，在GitHub 上拥有超过<a href="https://github.com/apache/kafka"> 23，500位明星。80%的财富100强公司也将其用于高性能数据管道、流分析、数据集成和任务关键型应用。</a></p><p>下面，您可以看到我们用Apache Kafka存储库记录的构建时结果。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>在50多次管道运行过程中:</p><ul role="list"><li>GitHub Actions在19分钟内完成了Kafka的构建</li><li>CI供应商2在15分钟内完成了Kafka构建</li><li>Harness平均用5分钟完成构建，最好的情况下构建时间为24秒</li></ul><p>由于Apache Kafka repo是一个非常大的项目，我们还使用它来展示我们的测试智能功能(市场上独一无二的产品)所节省的大量时间。使用机器学习(ML)，测试智能根据代码变化确定哪些测试是必要的。在我们的演示中，测试智能有效地将单元测试的数量从16，000减少到700。但这还不是全部——测试智能将必要的测试分开并并行运行。</p><p>在我们详细介绍了其他测试和我们使用的方法之后，我们将进一步了解测试智能是如何工作的以及那些结果。</p><h3>Apache RocketMQ</h3><p><a href="https://rocketmq.apache.org/"> Apache RocketMQ </a>是一个分布式消息和流媒体平台，在GitHub 上拥有超过<a href="https://github.com/apache/rocketmq"> 18，000颗星星，这使得构建事件驱动的应用程序更加容易。</a></p><p>下图显示了Apache RocketMQ存储库测试的构建时测试结果。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>在50多次管道运行过程中:</p><ul role="list"><li>GitHub Actions在19分钟内完成了RocketMQ的构建</li><li>CI供应商2在15分钟内完成了RocketMQ构建</li><li>Harness平均用3分18秒完成构建，最好的情况下构建时间为1分钟</li></ul><h3>阿帕奇动物园管理员</h3><p>Apache Zookeeper 在GitHub 上拥有超过<a href="https://github.com/apache/zookeeper"> 10，000颗星星，旨在使维护和协调分布式系统更加容易。</a></p><p>您可以在下面的图表中看到我们来自Apache Zookeeper库的构建时测试结果。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>在50多次管道运行过程中:</p><ul role="list"><li>GitHub Actions在19分钟内完成了动物园管理员的构建</li><li>CI供应商2在13分钟内完成了Zookeeper构建</li><li>Harness平均需要6分钟来完成构建，最好的情况下构建时间为15秒</li></ul><h2>测试方法</h2><p>我们选择测试这三个项目是因为它们在开源社区中的受欢迎程度，以及企业组织中开发团队的高采用率，包括Goldman Sachs、Target、Intuit、Cisco等等。由于我们使用开源项目，我们也有能力为每个构建复制相同的测试场景。</p><p>我们使用另一个流行的CI供应商GitHub Actions和Harness的免费产品运行这些项目的构建。性能数字是通过从每个存储库构建50多个拉请求来计算的。这允许我们使用<a href="https://github.com/apache/kafka/pull/12771">实际代码提交</a>到开源库进行测试，以便模拟开发人员每天遇到的真实用例。我们为每个构建运行使用了开箱即用的默认配置，而不是微调查询，因为我们知道开发人员在不需要进行额外修改时会有更好的体验。</p><p>您可以从下面Kafka存储库中运行的测试中看到实际pull请求的屏幕截图:</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><h2>缓存和测试速度数据</h2><p>Harness CI在这些测试中展示的速度结果是通过我们最新的功能增强实现的。让我们仔细看看这些不同的特性是如何影响测试结果的。</p><h3>缓存智能节省时间</h3><p>软件开发本质上是复杂的，在构建工具、包管理器等等之间有各种各样的依赖。所有这些复杂性增加了构建时间。开发人员并不总是记得手动打开缓存或指定所有必要的路径来为每个目录存储正确的数据。通过自动缓存众所周知的Java和Node.js目录，Cache Intelligence帮助开发人员减少了等待构建完成的时间，这意味着有更多的时间进行编码。</p><h3>Test Intelligence节省时间</h3><p>Harness CI独有的ML-powered Test Intelligence通过增加测试并发性节省了更多时间。Test Intelligence根据代码的变化来决定哪些测试子集是必要的，同时提供了选择哪些测试及其原因的可见性。在确定了所需的测试之后，这些测试同时运行，以便在不影响质量的情况下进一步加快构建时间。</p><p>下图详细描述了在同一个<a href="https://github.com/apache/kafka/pull/12771"> Kafka pull请求</a>中更改10个文件时Test Intelligence的性能提升。Test Intelligence只对这10个文件进行并行拆分和运行测试，而不是顺序运行它们。结果，Harness运行了大约700个与代码更改影响相关的测试，而GitHub Actions和其他CI工具运行了整个套件大约16，000个测试。</p><p>您可以看到Test Intelligence如何通过只运行必要的测试并并行运行它们来节省大量时间。借助Test Intelligence，Harness CI采用了一种独特的方法来加快构建时间，而不牺牲质量。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><h2>利用CI节省时间和成本</h2><p>在一个要求公司更快发展以保持竞争力的市场中，“它只是工作”对CI来说足够好的日子已经一去不复返了。</p><p>我们已经讨论了最近提高速度的改进，但在构建速度更快时也有成本节约。有了托管构建，公司不仅可以减轻托管基础设施的管理负担，还可以事半功倍。更快的构建意味着消耗的构建时间更少，占用的资源更少。</p><p>将Cache Intelligence和Test Intelligence与托管构建相结合，最终每年可为企业节省200-300%的基础设施成本。下图显示了这一节省，其中使用了一个Harness客户的实际使用数据，该数据用于表明他们将在Harness和每个其他CI供应商上花费多少时间和金钱。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><h3>测试方法</h3><p>这是我们根据真实的客户数据确定成本节约高达300%的方法。</p><p>我们的客户有90名软件工程师，他们每月使用Harness CI构建19，524次。为了保持这个速度，他们每年建造234，288次。目前，构建的平均时间是15分钟。我们估计每个开发人员每周的平均构建次数是11次。所有的评估都假设构建在Linux上运行。根据这个客户，一个月总共需要292，860分钟，一年需要3，514，320分钟。</p><p>接下来，我们将这些数字与两家CI供应商进行了比较。GitHub Actions每构建分钟花费0.008，CI Vendor 2每构建分钟花费0.0120。相对于GitHub Actions，Harness CI的价格具有竞争力，并且价格低于CI供应商2。</p><p>根据非常保守的估计，Harness CI的速度是两家供应商的两倍，每月成本为1，171美元，每年为14，057美元。CI供应商2的成本分别为每月2，343美元和每年28，115美元。GitHub Actions每月花费3514美元，每年花费42172美元。这比CI供应商2每年节省200%,比GitHub Actions每年节省300%。</p><h2>亲眼看看驾驭CI有多快</h2><p>就个人而言，我非常兴奋地分享这些更新。过去几年，CI创新仍有许多不足之处，但如今，随着运行构建的速度提高了四倍，游戏规则完全改变了。我的梦想是做一个简单、开放、快速、安全的CI系统，现在这个梦想变成了现实。我邀请您尝试<a href="https://github.com/harness-community/kafka/blob/trunk/.harness/README.md">这个样本</a>来重现结果并亲眼看看。</p><p>准备好开始构建全球最快的CI平台了吗？<a href="https://harness.io/products/continuous-integration">使用线束配置项免费开始使用</a>。</p><p>‍</p><p><em> Bradley Rydzewski是Harness的产品高级总监，也是无人机的创始人。</em></p></div></div>    
</body>
</html>