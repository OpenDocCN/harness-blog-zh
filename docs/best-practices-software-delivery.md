# 软件交付最佳实践|利用

> 原文：<https://www.harness.io/blog/best-practices-software-delivery>

在一个软件运行几乎一切的世界里，商业生存依赖于结合现代软件交付最佳实践。

马克·安德森有句名言“[软件正在吞噬世界](https://www.wsj.com/articles/SB10001424053111903480904576512250915629460)”，因为软件不再只是静态的网站和运行在你电脑上的几个程序。现代软件[管理你的汽车](https://spectrum.ieee.org/software-eating-car)，[让医疗保健更好](https://builtin.com/artificial-intelligence/machine-learning-healthcare)，甚至[在我的猫](https://www.litter-robot.com)之后打扫卫生。是的，最后一个不是电影中预测的未来，但我们在这里。我跑题了。这篇文章将有两个主要部分:现代软件交付，和软件交付最佳实践。让我们开始吧。

## 现代软件交付

随着软件成为日常生活的关键组成部分，发布周期必须更快，软件质量必须更高，安全(尤其是数据安全)不能是事后才想到的。每周都有关于这些方面失败的新闻，能够适应的企业将在这个新世界中茁壮成长。

对现代软件的这些需求是不可协商的，它迫使商业运作方式发生转变。历史悠久的技术组织正在彻底重新设计他们的[软件开发生命周期](https://harness.io/blog/software-development-life-cycle/)，以前 IT 是业务成本中心的公司正在投资软件，数百家有希望的初创公司涌入市场，希望用软件来应对从医疗保健到太空探索等各个领域一些持续时间最长的挑战。

这意味着每个人都需要改进他们交付软件的方式。仅仅五年前的最佳实践已经过时。技术变化、创新和市场变化让团队时刻保持警觉，以满足需求。向云迁移、数字化转型、DevOps、DevSecOps、chaos engineering——这只是近年来开发团队关注的一小部分。让我们来谈谈如何应对这些挑战，让世界变得更美好。

### 从目标开始

在深入研究数据或最佳实践之前，您需要了解成功是什么样的。根据客户群的需求，每个组织都有不同的目标。在 Harness，我们每年与数百家公司进行交流。我们发现，最常见的目标通常可以分为这四个类别中的一个或多个。通常，他们会击中所有人。

#### 速度

更快地交付软件几乎是我接触过的每个组织的首要考虑。市场变化很快，他们不能等待几周或几个月的时间来将变化送到客户手中。此外，长交付周期意味着更多的时间和金钱被投入到没有得到真实世界反馈的新功能上。

#### 管理

大多数组织都需要处理审计，无论是安全审计还是特定于行业的法规。当您意识到手动编译所有的审计数据是一种不随增长和速度而扩展的方法时，在您的软件交付过程的设计中包括对可追溯性、文档和日志的考虑减少了以后的麻烦。

#### 质量

并非每个组织都痴迷于速度、受到高度监管，或者具有需要优化才能扩展的工作负载。但是，质量是贯穿所有行业和实践的一个目标。比起好的体验，人们更容易记住不好的体验，所以质量必须融入软件开发的每一个方面，而不是在最终用户看到你的最新功能之前就完成。

#### 效率

效率通常与速度密切相关，但是当你加上上面提到的其他考虑因素时，缺乏效率通常会降低速度。将功能快速推向市场的过程通常涉及权衡，扩展这些过程会放大这种平衡行为的最坏影响。这些挑战可能包括人工劳动、云支出的成本考虑、维护等。

## 软件交付最佳实践

### 采取数据驱动的方法

一旦你知道你想要实现什么，开始寻找量化成功的方法。关于有效的软件交付和度量有一长串的文献，作者的选择是 Jez Humble，Gene Kim 和 Nicole Forsgren 的 [Accelerate](https://www.oreilly.com/library/view/accelerate/9781457191435/) 。Accelerate 的快速总结:高绩效组织有许多共同点，数据证明了这一点。顺便说一下，我们还有一篇关于[加速指标](https://harness.io/blog/dora-metrics/)的文章，您可能会感兴趣！

现实世界中制造的量化方法释放了更高水平的生产力，软件也不例外。虽然对于什么度量标准显示软件团队的生产力有激烈的争论，但是对于测量这些数据和努力改进过程是没有争议的。

### 使用敏捷方法

你用来评估和改进你的软件开发过程的同样的原则应该被应用到你的软件中。你快速迭代的可管理的、可测量的目标使你对你的客户反应更快。交付软件是一个持续的过程，反馈不应该留到最后。

交付新功能从规划可交付内容开始，您可以快速提供反馈。在征求反馈之前花几个月的时间构建一个产品会导致浪费，因为需求并不总是如预期的那样得到满足，角落案例不会浮出水面，并且不必要的糟糕权衡会产生技术债务。

根据你看到的数据，[大约 2/3 的组织正在实践敏捷](https://goremotely.net/blog/agile-adoption/)。因此，你很有可能已经是了。那么，如何才能提高这一水平呢？首先，关于这个话题，有很多[研究充分的文章。](https://hbr.org/2016/05/embracing-agile)

还有什么？很高兴你问了。进入卑微的[特征旗](https://harness.io/products/feature-flags/)。自主开发的系统已经存在很多年了，但是最近几年，它已经从一个狂野的西部黑客变成了一个成熟的工具生态系统，其用户群跨越了开发人员、开发运维团队和产品管理。特性标记工具允许您更快地迭代，在更小的提交中合并您的代码，并在生产中收集关于 alpha 和 beta 特性的反馈，而没有在生产中进行[测试所固有的风险](https://harness.io/blog/testing-in-production/)。

### 抛弃巨石

微服务在几年前达到了顶峰，但炒作是真实的。拥有松散耦合的不同服务允许团队更快更好地交付软件(事实上，我在这篇博客上谈到了从整体服务到微服务的旅程)。在微服务架构中，您的服务负责完成一个角色，不多也不少。其他服务和组织的其余部分不关心你如何实现他们需要的目标，只关心你及时、正确地完成它。

这种方法将软件开发团队从对特定语言、框架、部署策略和其他不适合每个服务的模式的承诺中解放出来。

### 源代码控制流程

你的代码就是你的产品。源代码控制下游的一切都将受到您在分支过程、代码审查和合并过程中做出的决策的影响。软件开发人员接触给定的代码库越多，合并冲突和其他逻辑问题的可能性就越大。

**评审流程** -在建立同行评审文化时要慎重。验证变更和提供反馈不是一件苦差事，而是一个质量关。它为新开发人员提供了一种学习机制。

**频繁合并**——避免长寿分支。合并冲突和缺乏适当的集成会降低交付速度，并且会影响质量。考虑使用[基于主干的开发](https://harness.io/blog/trunk-based-development/)作为一种策略来最小化生产的交付时间。

### 测试

不言而喻，健壮的测试是交付高质量软件的基石。在今年，大量的测试应用程序发生在交付的 QA 阶段并不罕见。作为左倾思想的一部分，编写和运行测试对于软件工程来说和编写应用程序源代码一样重要。

频繁的生产推动依赖于严格的测试制度。在开发过程中，您构建单元测试、集成测试(将不同的部分组合在一起)以及功能测试(验证最终用户体验是否符合预期)。

自动化测试的好处是显而易见的，尽管大规模采用它会带来新的挑战。主要是，它占用了越来越多的资源和时间。Harness 引入了[测试智能](https://harness.io/blog/test-intelligence/)来解决这个问题。

最后，生产中的测试不再是第三条轨道。当尝试新事物时，前面提到的特征标志已经改变了控制级别的范例。了解一个特性在野外是如何工作的，可以在正式发布之前进行更大的改进。

### 连续累计

持续集成过程允许多个开发人员为一个代码库做出贡献，同时维护一个一致的、经过良好测试的最终产品。你的构建过程应该包括单元测试、安全扫描、依赖管理、编译/构建和打包。

### 持续部署/持续交付/持续验证

长期以来，软件交付一直受到手工劳动、脚本编写和将代码投入生产的时间浪费的困扰。发布过程通常会涉及一长串任务，如供应基础设施、测试环境中的审查、QA 的签署/批准，以及最终部署到生产环境中。自动化软件交付使您的过程可重复和可持续，同时避免审计时的责任。现在是 2022 年，是时候抛弃交付的脚本了。现代的[软件交付工具](https://harness.io/blog/software-deployment-tools/)提供广泛的工具、集成和选项来自动化您的整个交付过程。

为了实现您的速度和质量目标，自动验证部署是必须的。这意味着不仅仅是验证你的应用启动，或者你的健康端点给你一个快速 HTTP 200。验证是将您的指标绑定到您的管道中，并在一段时间内评估您的应用程序的健康状况，以确保您不会错过部署后不久发生的不利事件。这是对您正常监控方案的补充，尽管 Harness 连续验证为您提供了一种在管道中使用这些现有工具的方法，以及 AI/ML 分析。

值得注意的是，虽然它与 CI 合作，但 CD 是一个正在解决的独特问题，我们已经在这个可爱的博客上花了很多笔墨来解释[什么是 CI 和 CD](https://harness.io/blog/what-is-ci-cd/) 的细微差别。

### 安全性

正如测试不是 QA 团队的唯一责任一样，安全性是每个人的责任。安全性从开发源代码开始，在包括工件管理在内的整个过程中被跟踪，并最终贯穿到对[环境的每一次部署中。](https://harness.io/blog/deployment-environments/)

任何组织都可以采取的基本措施包括要求在 CI/CD 管道中进行安全扫描、代码分析、管理 SBOMs(软件材料清单)以及在整个发布过程中实施设计良好的标准。

*Security built into the process makes it easier for developers to do the right things*

### 左移位

使用敏捷方法，反馈和响应是最重要的。左移的想法是将对最终产品每个关键方面的控制转移到软件团队手中。以安全性为例，想想如果团队在构建软件产品时意识到潜在的不安全代码或依赖性，而不是在他们可能已经转移到另一个计划之后，您的最终产品可能会更加安全。

如果团队在前期花费少量的时间来管理安全性、测试和代码的[基础设施，那么从长远来看，企业可以节省资源，让客户更加满意，并且更加敏捷地满足业务目标。](https://harness.io/blog/infrastructure-as-code/)

[Source](https://www.bmc.com/blogs/what-is-shift-left-shift-left-testing-explained/)

## 软件开发的有效管理

### 工具

软件开发的加速已经产生了许多伟大的工具来应对这些挑战。像 Jenkins 这样的开源项目为现代 CI/CD 解决方案铺平了道路，像 GitLab 这样的产品为版本控制带来了一流的 CI 体验，吉拉板是软件交付中的一个主要部分，以免我们忘记 Harness 将第一个现代 CD 解决方案推向市场。

软件开发的现代软件解决方案范围广泛，从最小可行产品(MVP)解决方案到白手套解决方案，以及完整的产品套件。在关于成本、构建与购买、开发人员体验等方面的争论中，总是有推有拉。最好的组织投资于适当的工具，因为每个开发人员致力于工具问题，而不是致力于客户问题。

### 文化

软件仍然是一个以人为本的行业，但是这经常会在技术、工具和趋势的风暴中迷失。软件是有家庭和工作之外的兴趣的人写的。要管理一个高效的团队，必须有一种尊重他人和他人时间的文化。此外，随着工作和机会的快速扩张，许多开发人员将会离开工作岗位，而不是处理有毒的文化、糟糕的经理或糟糕的开发工具/过程。在职业发展、团队建设上投入时间和资源，而不仅仅是在办公室里放下一张乒乓球桌和一个小桶，并听取反馈。

### 持续改进

也许这里最重要的一点是，这是一次旅程。没有一个组织能解决所有问题，不管他们雇佣了多少聪明和有创造力的人。将你的成功与整个行业、你的同行、最重要的是你自己进行比较。你的软件开发过程今天应该比昨天更好。

## 结束语

在 Harness，我们与各种各样的客户合作；从世界上最大的银行到早期创业公司的每个人。当我们与这些组织合作时，我们所做的很大一部分是帮助他们找到优化开发过程的正确方法，并使其符合他们的交付目标。成功的软件交付一部分是计划，一部分是文化，一部分是工具。

您的工具支持您的软件交付过程吗，或者它们减慢了您的速度吗？来和我们聊聊我们的[软件交付平台](https://harness.io/products/platform/)，无论你是在考虑持续集成、持续交付、特性标志还是其他。