# 打破持续交付生态系统|驾驭

> 原文：<https://www.harness.io/blog/continuous-delivery-ecosystem>

实现持续交付使我们能够实现 DevOps 生命周期，在其中我们可以持续交付价值，同时授权给团队，减少错误，并降低压力。

[持续交付(CD)](https://harness.io/blog/what-is-continuous-delivery/) 是关于我们交付的方式、地点、时间和内容。CD 适用于任何拥有软件服务的组织，它可用于加速其流程并实现开发运维的优势。

DevOps 是通过与人员、流程和技术合作持续交付价值的能力。这些组件的交集是开发运维的优势:

●作为代码管理的可靠基础设施
●频繁且缩短的上市时间
●提高软件质量和性能
●提高组织生产力
●更快地解决问题

DevOps 不仅仅是一个一劳永逸的交易，更是一种融合了包括自动化、跨职能敏捷团队和云解决方案在内的工作方式的思维模式。

## 持续交付行动手册

CD 涉及的不仅仅是[持续集成](https://harness.io/blog/what-is-continuous-integration/) (CI)。当使用 CI 时，开发团队主要关心可部署工件的生成。由版本控制系统管理的源代码变更将触发通常来自源代码的工件的构建和测试。在与 CD 跨职能交付团队合作时，考虑如何提供基础设施、如何管理变更批准、如何发布和回滚、如何验证、如何管理 [CI/CD 渠道](https://harness.io/blog/ci-cd-pipeline//)和安全性，以及如何深入了解交付指标。

通过 CD，我们还可以避免软件交付反模式，这种反模式会增加工程上的麻烦，并减缓组织实现开发运维优势的速度。一些反模式包括手动部署软件、长发布周期和手动环境管理。

通过结合工程领域和 IT 专业知识，我们克服了软件交付的挑战。然而，这种结合专业领域的任务需要与不同的人、流程和解决方案一起工作。为了实现企业可信的连续交付，我们需要在 CD 生态系统中导航。因此，让我们分享一个包含持续交付的主要组件的剧本。

### 基础设施供应

每个应用程序都在一些硬件上运行。基础架构配置是指为我们的部署和交付创建目标环境。围绕基础架构资源调配创建最佳实践的目的是限制直接和手动更改。

为了实现连续交付，您应该有一个如何提供基础设施的计划，例如使用基础设施作为代码。在您的行动手册中包括您希望如何部署和配置特定的环境和基础架构，以及如何管理服务器的未来升级和维护。

### 变更管理

组织拥有确保软件变更符合现有标准和要求的流程。变革管理指的是这些过程。在变更管理流程中，组织合并了一个变更管理委员会或一个流程，用于管理对特定环境部署的批准。

随着工件被提升到更高的环境中，对保证的需求也在增长。

变更管理流程是部署的障碍，甚至可能是手动流程。考虑您的连续交付过程如何包含部署的签署。关于部署的重要特征需要易于访问和跟踪，例如部署什么、谁部署服务以及服务部署在哪里。

### 确认

你不能改进你不能测量的东西。连续交付需要验证系统是否正常工作并符合预期。验证工具向所有软件交付涉众提供反馈，组织应该确保反馈是共同的责任。

在为部署开发验证过程时，考虑如何通过系统和应用程序代码来检测工具。有两种工具:显式和隐式工具将指示实现验证或可观察性解决方案所必需的工作。其次，确定数据存储计划。日志文件将存储在哪里以供以后分析？这些文件将存储多长时间？第三，考虑数据聚合。指标应该随着时间的推移而聚合。考虑如何可视化和呈现收集的数据的计划。最后，确定变更和事件通知。在什么情况和条件下，某人应该收到警报？谁应该接收所述通知？

### 发布策略和回滚

通过定义发布和回滚策略来降低部署的风险。发布部署有两种方法，要么发布一个服务来替换现有的服务，要么在保持旧版本服务运行的同时发布。一些发布策略包括滚动、蓝绿色或金丝雀部署。

发布部署的方式与回滚的方式相同。如果您保持旧版本的应用程序运行，并且部署失败，回滚策略应该是删除失败的版本。类似地，如果您替换现有的服务来进行部署，您将需要一个策略来将您的服务重新部署到一个已知的稳定版本。

### 管道管理

持续交付的一个核心原则是持续交付管道。管道允许交付团队重复发布，并向目标环境提供可靠性。其他原则包括自动化、自助服务和持续改进。管道是主要的特性，可以包括提到的所有其他交付实践，例如基础设施供应、变更管理、验证和发布。

所有管道应该是等幂的，这意味着运行一个部署管道不应该影响将来运行同一个管道。管道的任何故障都不应该影响未来的工作迭代。

讨论谁应该有权访问某些管道，并考虑通过管道部署的按钮功能。

### 审计和合规

安全是每个组织不可或缺的一部分，不能事后才想到。连续交付过程应该总是考虑谁、什么、何时、何地以及为什么。考虑如何利用您的持续交付解决方案来获取有关部署的信息。

同样，十年来出现的 DevSecOps 和机密管理解决方案和流程帮助组织实现了安全标准化，这就是为什么安全和机密管理对于正在部署的工程师来说并不困难。考虑机密管理最佳实践，并确定您的连续交付流程如何处理敏感信息。

## 快速交付的影响

实现持续交付使我们能够实现 DevOps 生命周期，在其中我们可以持续交付价值，同时授权给团队，减少错误，并降低压力。这篇博文分享了一个持续交付的剧本。查看我们的[持续交付即服务平台](https://harness.io/platform/continuous-delivery/)并注册演示或免费试用。

——-

这篇文章总结了上个月 DevOps Institute 的连续交付生态系统 SKILup 日的“连续交付剧本”会议。可以在这里看录音:[https://devopsinstitute . com/continuous-delivery-ecosystem-skil up-day/](https://devopsinstitute.com/continuous-delivery-ecosystem-skilup-day/)