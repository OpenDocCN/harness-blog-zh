# 你不做连续交付的 10 个迹象|线束

> 原文：<https://www.harness.io/blog/10-signs-you-dont-do-continuous-delivery>

虽然这些开发实践中的许多可能感觉很平常，但是如果你正在做这些，你实际上根本不是在做连续交付。

虽然这些开发实践中的许多可能感觉很平常，但是如果你正在做这些，你实际上根本不是在做连续交付。请继续阅读，了解可以帮助你的团队的 10 种技巧。

## **1。“发布”在“敏捷”会议期间详细计划**

连续交付(CD)并不意味着“全年复杂地计划 12 个版本。”持续部署是永无止境的、持续的、不间断的，等等。敏捷是开发团队在 10 年前渴望实现的，当时每月的发布周期被认为是有价值的。如今，日常生产部署已成为常态。在当今世界，所有与管理发布相关的计划、会议、批准、票据和一般政治实际上会降低您的速度或扼杀您的业务。

在 2022 年，当你所有的竞争对手都在开车的时候，你不会想骑着马。

## **2。您没有提交到主干**

分支、提交、合并、解决冲突——所有的任务都会让你慢下来。CD 的全部要点是使用并行工作的开发团队快速和频繁地交付和部署独立的软件组件。

如果构建、测试或部署管道失败，您应该停下来，了解发生了什么，修复它，并从中吸取教训。这是在生产中发生的，那么为什么在开发和测试期间不发生呢？致力于主干将推动正确的团队行为和 CD 所需的紧迫感。

## **3。修复构建/部署需要 30 多分钟**

部署管道的全部目的是在导致生产中断之前终止您的构建。当一个部署管道或测试失败时，它应该被视为一个“停止世界”的事件，在这个事件中，每个人都停下来，关注并修复构建，以便事情可以进展。如果您的生产[金丝雀](https://harness.io/blog/blue-green-canary-deployment-strategies/)或部署失败，您应该能够立即回滚或快速修复前滚。

我们今天练习快速回卷。Harness 发现的 bug 会在几分钟内修复，而不是几小时。有一次，早上 8:45 报告了一个错误，一名工程师在她上班的 Caltrain 旅程中几分钟后修复了这个错误。不久之后，另一名开发人员在使用智能手机骑 BART 时推出了修复程序。

## **4。部署管道需要数小时才能完成**

让我们想象你的新建筑或者神器是完美的。该工件通过您的所有部署管道阶段(开发、QA、阶段化)提升到生产中需要多长时间？一个小时？两个小时？六个小时？更久？

部署管道(和阶段)的反馈循环需要在几分钟内发生，而不是几小时。这可能需要更多的测试/工具/反馈自动化，因此您可以在整个部署过程中消除手动任务和批准。例如，如果一个管道阶段成功，它应该自动移动到下一个阶段，直到一个阶段失败。

## **5。您的部署很少在测试中失败**

如果 95%或 95%的部署在开发/QA/试运行中成功，那么一定是出了大问题。您的部署管道要么缺乏基本的测试覆盖，要么缺乏与现有工具集的集成。如果您已经在工具上投入了大量资金，为什么不整合并利用它们来洞察您的管道呢？

例如，我们的许多客户利用 APM (AppDynamics、New Relic、Dynatrace 等。)和日志分析(Splunk、ELK、Sumo Logic 等。)来帮助识别部署中的性能或质量退化。我们称之为连续验证。

## **6。需要一个村子来部署和调试**

完全有可能您已经自动化了您的部署过程。所谓自动化，我的意思是您已经将 20 个不同的人编写的部署脚本缝合在一起，他们在某个阶段调整和重构了几百行代码。

因此，当出现问题时，实际上需要一个村庄来调试和解决部署问题。我们有一个客户，他将他们以前的部署过程描述为“村里的练习”，需要 15 个人花 6 个小时来调试。

下次部署时，计算参与的人数，然后用这个数字乘以部署过程持续的时间。村庄部署既昂贵又耗时。

## **7。您有一个专门的部署/发布团队**

如果您有多个开发团队或产品团队，您最不需要的就是另一个团队来限制您所有的部署。票证、变更控制、批准、移交、文档等更多的活动会拖慢您的部署时间表。

如果一个部署/发布团队一天进行多次部署，而第一次部署出错了，那么他们很可能要花六个小时调试而不是部署，因此会成为其他部署管道的瓶颈。这只会降低您的团队满足客户需求的能力。

## **8。开发人员不部署/调试他们自己的代码**

大多数运作良好的 CI/CD 组织都让他们的 DevOps 团队构建部署管道，以便在部署期间使用。让我再说一遍:DevOps 管理工具/自动化/框架，开发人员使用这个平台即服务，因此他们可以部署自己的代码。在 Harness，我们称之为 CD 即服务。

当您让开发人员部署他们自己的代码时，自然会发生这样的事情:如果出现问题，他们最终会调试自己的代码。这是一件非常好的事情。如果代码在生产中失败，那么您需要正确的眼光、上下文和知识来快速排除故障。如果不能前滚，您还需要自动回滚的能力。

我们经常从客户那里听到，当部署失败时，部署/发布团队经常将 DevOps 或 SREs 团队拖入冲突。

## **9。您不知道部署的业务影响**

进行 CI/CD 的全部原因并不是为了在人员、技术和工具上花费大量金钱。你这样做是为了发展你的业务，让它更有竞争力。

组织采用 CI/CD，因此他们的应用程序和服务提供了比竞争对手更好的服务和体验。故事结束。

让我们想象一下，你每月花费 100 万美元为你的企业购买一项新服务，而你的团队负责日常生产部署。您知道这些部署对您的业务有哪些积极影响吗？更重要的是，您知道任何部署是否有负面影响吗？如果是，增加多少？正如温斯顿·丘吉尔所说，“不管是什么策略，偶尔看看结果总是好的。”

## **10。你以为 DevOps 是 CD**

不是的。DevOps 是一种文化或思维方式，而 CD 是一种实践或一套原则，团队遵循这些原则来安全、快速、可持续地交付软件。DevOps 文化使 CD 原则更容易实现，但它不会神奇地重新架构您的应用程序，以便更多的组件可以更频繁地部署在云中。

绝大多数 Harness 客户正在从“老式”单片应用程序迁移到云原生微服务。 [CI/CD](https://harness.io/blog/what-is-ci-cd/) 是帮助他们实现这一转变的核心计划。DevOps 是一个受欢迎的计划，但是它更多的是关于人、文化、透明度和跨团队的协作。这不是工具或技术的问题。

## 采用带线束的 CD

这是我们看到的表明组织没有正确利用 CD 的 10 个最常见的迹象。你还看到其他团队犯了哪些错误？

如果您想了解更多关于 Harness 如何帮助您的团队实现 CD 的信息，请立即注册免费演示！