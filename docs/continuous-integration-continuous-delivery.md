# 持续集成(CI)和持续交付(CD)有什么区别？装具

> 原文：<https://www.harness.io/blog/continuous-integration-continuous-delivery>

在这篇文章中，我们看一下持续集成和持续交付，以了解它们的区别和最佳实践。

DevOps、持续集成和持续交付……我们还能在一篇博文的第一句话中加入多少流行语呢？如果你在软件工程领域呆过一段时间，你可能会遇到这些术语。问题是有时这些术语可以互换使用，而事实上它们是独立的学科。

DevOps 是一个总括概念，用来描述加速和自动化软件开发和交付的计划。寻求采用 DevOps 实践的开发团队可能试图改进[软件开发生命周期](https://harness.io/blog/software-development-life-cycle/) (SDLC)，改进软件交付过程，或者减少完全需要的人工干预的数量。持续集成和持续交付是 DevOps 体系下的两种不同的方法。

## 什么是持续集成？

[持续集成](https://harness.io/blog/what-is-continuous-integration/)是一种 DevOps 实践，开发人员将他们的代码合并并集成到一个中央存储库中。之后，执行测试自动化和构建自动化。这些自动化构建可以由某个事件触发，比如代码更改、合并，或者定期触发。构建的最终结果是一个工件或者一个发布候选，持续集成的主要目标是构建和发布工件以供部署。

## 什么是持续交付？

[连续交付](https://harness.io/blog/what-is-continuous-delivery/)是将变更安全投入生产的自动化步骤。不同团队之间的版本可能会有很大的差异和不一致。单个团队通常有他们自己的需求，他们自己的工具，以及他们自己的发布时间表。遍历在大型组织中传播/支持变更或新特性所需的所有步骤和修改可能会令人望而生畏。连续交付将所有测试步骤、增量/环境部署和验证步骤整合在一起，以安全地将变更投入生产。CD 工具的最终目标是“按下按钮”将变更投入生产。顺便说一句，不要将持续交付与持续部署相混淆——如果您想寻找两者之间的区别，我们将在我们的[持续交付与持续部署](https://harness.io/blog/continuous-delivery-vs-continuous-deployment/)文章中对此进行探讨。

## CI 与 CD 的区别

CI 和 CD 携手并进，通常被混淆为同一件事，但这两个过程是完全独立的。持续集成(CI)使软件开发团队和工作流能够帮助更快地构建和测试代码。许多组织面临着快速交付创新和高质量产品的压力。使用代码包括开发、合并冲突、代码管理、测试，导致长的部署交付周期、不频繁的部署和高的变更失败率。解决方案是利用 CI 以自动化的方式集成开发变更，从而改进特性开发的节奏和过程。

另一方面，连续交付(CD)支持运营团队和工作流。目标是安全并重复地将工件交付到生产环境中。CD 流程有助于自动化运营服务，并涉及应用程序的发布、部署和监控。当一个工件被提升到生产或者更高的环境中时，验证过程就更加严格了。向测试过程和环境的每个阶段或工作流中添加额外的测试，允许团队在客户发现问题之前捕捉这些问题。

## 如何识别自己是否真的在做 CI/CD

将 CI 和 CD 这两个术语混为一谈会使组织误以为他们正在做这两者，而实际上他们大部分时间只是在运行持续集成的扩展。运行一个 CI 服务器，如 [Jenkins](https://harness.io/blog/best-jenkins-alternatives/) 或 Bamboo，通过自动化和管道集成代码变更，并不意味着 CD 已经到位。为了成功参与 CD，从部署到生产也必须是连续的。

## 持续集成和持续交付是如何协同工作的

今天，有一个焦点向左转移，以确保在软件交付过程的早期发现问题。CI 和 CD 协同工作，确保组织有能力和可见性来捕捉和修复缺陷/bug 以及潜在的生产故障或可能对业务有害的事件。CI/CD 管道充当自动化交付管道，模拟整个软件开发生命周期(SDLC ),否则很难理解、改进、共享和控制。

## 持续集成和持续交付的最佳实践

### CI 最佳实践

自动化构建必须很快。构建过程每天运行多次，触发器来自源代码存储库。等待结果的时间会像滚雪球一样，导致开发人员的生产力下降。

对构建和可部署打包的信心不同于对部署和后续发布的信心。为了避免持续集成过程负担过重，在哪里应用测试套件的策略是需要的。沙子上的一条线应该是持续集成处理以工件为中心的信心建立(例如，单元测试、集成测试和工件扫描)。考虑到其他工件和依赖性和/或应用程序基础设施的测试更适合连续交付过程。在构建被检入中央存储库并合并到主分支之后，将您的想法投入生产的下一步是提升/部署过程。

### CD 最佳实践

一个好的 CD 管道是快速、安全和可重复的。但是，对于持续交付，没有一种通用的方法。CD 解决方案需要灵活，以满足组织中不同团队的需求。

找到最适合您组织需求的发布策略也很重要。例如，一些公司完全满足于基本的滚动部署，但其他公司可能需要从蓝绿或淡黄色部署中获得更多安全性。

最难自动化的阶段之一是部署的验证。运行正常测试时，结果是二进制的——要么是通过的测试，要么是失败的测试。验证部署的应用程序是否成功会带来许多问题和需要检查的地方。特别是当实现一个带有几个增量部署的 canary 发布策略时，这种验证会一直发生，甚至应该在部署后进行。将来自不同监控、可观察性和性能管理解决方案的数据/关键指标关联起来可能会很繁琐——尤其是在尝试确定基线时。Harness 平台消除了这种情况下的猜测。

## 结论

Harness 平台允许您拥有一个完整的端到端 CI/CD 管道，因此您的代码更改可以以安全的方式到达生产环境。无论部署策略、确切的步骤或涉及的工具如何，Harness 都可以帮助您的开发团队和 DevOps 团队实现一个按钮式发布。

如果你想在 CI 和 CD 上做更多的阅读，有几本电子书我们可以给你推荐:[CI(无门控)的现代化持续集成](https://harness.io/learn/ebooks/modernizing-continuous-integration-ebook/)，CD(门控)的[流水线模式](https://harness.io/learn/ebooks/ebook-pipeline-patterns/)。

这篇博文由丹·拉姆和阿什莉·金合作撰写。