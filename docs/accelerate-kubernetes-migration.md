# 将 Kubernetes 迁移速度加快四个月| Harness

> 原文：<https://www.harness.io/blog/accelerate-kubernetes-migration>

如果没有 Harness，铸造网络将比他们的 Kubernetes 迁移计划落后 4 个月。

## 关于

Casting Networks，LLC 是一家前沿的娱乐技术公司，帮助演员找到优秀的角色，帮助行业专业人士找到优秀的人才。

## **迁移到 Kubernetes**

Casting Networks 的 DevOps 总监 Jeremy Malara 在将 Casting Networks 的传统 monolith 应用程序迁移到 Kubernetes 微服务时遇到了障碍。这一举措的目的是提高开发速度、削减成本和增加应用程序的稳定性。然而，随着这一计划的开始，很快就发现现有的部署管道不太适合这一迁移。

新的 Kubernetes 微服务很快成为瓶颈。Casting Network 的 Jenkins 管道“由成千上万行 bash 脚本组成”。这种复杂性意味着“部署一个微服务需要一整天的时间。”杰里米说。

詹金斯花了整整一天的时间安装了一个微服务，然后我意识到我还有 20 多个任务要做。用马具花了 10 分钟。

> Jeremy Malara | devo PS |选角网络总监

知识筒仓和部落知识造成了另一个迁移障碍。Casting Networks 的开发团队缺乏使用脚本和 Jenkins 管道构建微服务管道的经验和技能。杰瑞米的三个 SRE 团队是唯一有能力进行这种迁移的人。

Jeremy 明白，他使用 Jenkins Pipelines 的方法是脆弱的，不可扩展的，因此会妨碍他的团队完成 Kubernetes 迁移的能力。这促使他评估其他连续交付工具，以标准化 Casting Network 针对 Kubernetes 和微服务的部署流程。

## **标准化和扩展微服务管道**

在对商业和开源工具进行全面评估后，Jeremy 很快意识到利用持续交付即服务可以改变他的 Kubernetes 迁移。

利用管道模板可以实现标准且可重复的部署步骤，不再需要开发人员或专门的 sre 团队来编写每个管道的脚本。每个开发人员都有能力实例化管道模板，并使用自助服务模型触发部署。Harness 平台的简单性将有助于推动采用，并允许团队轻松地自行部署他们的微服务，从而减少瓶颈并提高开发速度。

一旦创建了线束部署管道模板，线束持续验证就可以嵌入到这些管道中，以自动化 QA 和 canary 部署，这样代码就可以在没有人工干预的情况下直接推向生产。Casting Network 的工程师“甚至不会考虑部署，他们只会让 Harness 负责这项工作。”

此外，Harness 中的集中式机密存储允许团队以安全和可扩展的方式跨部署管道管理和引用机密，同时确保法规遵从性。

杰里米确信他需要马具来启动他的 Kubernetes 迁移计划。

## 将部署和入职时间减少 95%

Jeremy 的团队在第一天使用 Harness 进行了第一次部署。部署工件的时间减少了 95%,从 12 分钟减少到 30 秒。部署单个微服务所需的时间缩短了 97%，从 1 天缩短到 10 分钟。由于实施了持续验证，变更失败率降低了 90%,从 20%降至仅 2%。

最重要的是，“如果没有挽具，铸造网络会在迁移过程中落后 4 个月。”Harness 帮助他们更快地实现业务目标。

如果没有马具，我们在库伯内特的迁徙会落后 4 个月。

> Jeremy Malara | devo PS |选角网络总监