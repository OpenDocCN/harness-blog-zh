<html>
<head>
<title>Start Deploying in 5 Minutes with a Delegate-first Approach‍ | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用代表优先的 Approach‍ |装具，在 5 分钟内开始部署</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/deploy-in-5-minutes-with-a-delegate-first-approach#0001-01-01">https://www.harness.io/blog/deploy-in-5-minutes-with-a-delegate-first-approach#0001-01-01</a></blockquote><div><p>我们很高兴地宣布，有一个新的委托优先的方法来管理管道。如果您刚刚开始使用 Harness 平台，您会发现这种方法有助于快速入门。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>我们很高兴地宣布，有一个新的委托优先的方法来管理管道。如果您刚刚开始使用 Harness 平台，您会发现这种方法有助于快速入门。现在，对于任何尝试 Harness 的人来说，入职流程都更加简单和流畅。</p><p>在您注册了 Harness 之后，这个面向初学者的教程将指导您完成在 Kubernetes 集群上设置代理的过程。</p><p>首先，让我们从解释为什么委托是一个必要的和基本的服务开始。</p><h2>为什么要设置委派？</h2><p>设置 Harness 首先要在您的目标基础设施(如 Kubernetes 集群、ECS 集群、EC2 子网或 Pivotal Cloud Foundry 空间)中安装至少一个 Harness 委托。</p><p>对于来自其他平台的人来说，代理类似于自主持的跑步者。一旦安装了您的委托，它将帮助您在管道创建或执行过程中通过 Harness Manager 执行您请求的任何任务。这些任务包括但不限于:</p><ul role="list"><li>通过连接器连接到 GitHub 或 Gitlab，获取存储库并在需要时进行更改</li><li>通过连接器连接到 DockerHub、JFrog 等工厂</li><li>连接到您的云提供商，如 GCP、Azure、AWS 等</li><li>向您的验证提供者和机密提供者验证和认证</li><li>作为持续集成管道的一部分运行代码测试和构建操作</li><li>将工件作为连续交付管道的一部分部署到您连接的基础设施中</li><li>当事情出错或成功时，便于通知 Slack、吉拉和其他应用程序</li></ul><p>因此，您可以看到，委托是 Harness 中任何操作的中心，为了利用上述特性，您的基础设施中需要一个委托。我们将从创建一名代表开始，但首先，您需要<a href="https://app.harness.io/auth/#/signup" target="_blank">注册使用</a>并满足以下先决条件:</p><ul role="list"><li>运行中的 Kubernetes 集群</li><li>在您的机器上安装并验证了 kubectl CLI </li></ul><h2>硬件要求</h2><p>您的 Kubernetes 集群应该为代理和剩余操作提供以下资源:</p><ul role="list"><li><strong>节点数</strong> : 2</li><li><strong>vcpu，内存，磁盘大小</strong>:2 vcpu，16 GB 内存，50GB 磁盘</li><li><strong>联网</strong>:线束连接到 app.harness.io、github.com、hub.docker.com 的出站 HTTPS(443)</li><li>需要具有在目标名称空间中创建实体的权限的 Kubernetes 服务帐户。权限集应该包括列表、获取、创建和删除权限。一般来说，集群管理权限或管理权限就足够了。</li></ul><h2>创建代理</h2><p>假设满足上述要求，并且您已经注册了 Harness 平台，您将从入门页面开始:</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>您可能还记得，安装代表是第一步，所以点击<strong>安装代表</strong>按钮，然后选择代表类型。本教程将侧重于安装 Kubernetes 代表，所以点击<strong> Kubernetes </strong>按钮，如下所示，以生成您的 YAML 清单。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>点击 Kubernetes 后，Harness 将为您创建一个定制清单和一些说明，所以让我们来完成每个步骤。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>第一步。将包含 Kubernetes 对象定义的 YAML 清单下载到本地机器上。要查看清单，您可以点击<strong>预览 YAML </strong>，或者在文本或代码编辑器中打开下载的文件。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>第二步。将您的清单应用到您的集群，以创建您的 Kubernetes 对象，并使您的代理能够从 Harness Manager 接受作业。您可以点击<strong>检查您是否可以连接到您的集群</strong>，了解如何获得您的的详细说明。本地的 kubeconfig 文件。</p><p>要安装，导航到通过终端下载您的代理文件的目录，并使用命令“ku bectl apply-f harness-Delegate . yml”开始创建您的代理。成功的输出将如下所示:</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>第三步。代理安装完成后，您将收到一条成功消息。这可能需要 5-10 分钟。当您看到绿色框时，恭喜您，您的代理安装完成！</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>‍</p><p>要更深入地了解您的代理创建的状态，您可以在您的终端上运行命令“kubectl get pods-n harness-Delegate-ng ”,并检查您的 Pods 的状态。</p><p>如果您运行命令来查看 Pod 状态，那么在您的终端上将会成功显示如下:</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><h2>后续步骤</h2><p>完成委托安装后，您现在可以通过“创建管道”来创建您的第一个管道，并开始增强您的软件开发过程。</p><p>要创建一个项目，用任何名称填充 name 字段，然后通过易于使用的可视化编辑器继续创建管道。作为一个简单的演示，您可以使用<a href="https://docs.harness.io/article/xsla71qg8t" target="_blank">滚动更新策略</a>在 Kubernetes 集群中部署一个公开的 NGINX Docker 映像和一个 Kubernetes 清单。</p><figure class="w-richtext-figure-type-image w-richtext-align-fullwidth"/><p>要了解更多关于代理的信息，您可以浏览<a href="https://docs.harness.io/article/2k7lnc7lvl-delegates-overview" target="_blank">代理文档</a>。</p><p>不要忘记<a href="https://harness.io/demo/" target="_blank">请求您的个性化线束演示</a>或<a href="https://app.harness.io/auth/#/signup/?module=cd" target="_blank">下载免费试用</a>。如果你有任何问题，<a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-1fpgkrr4j-0fEENRq7Ekg8ytD7Sz3WsQ" target="_blank">加入我们的社区松弛频道</a>，让你的问题得到解答！我们总是乐意帮忙。</p></div></div>    
</body>
</html>