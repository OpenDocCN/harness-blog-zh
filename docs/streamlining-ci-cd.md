# 简化 CI/CD 并优化 AWS 云支出|利用

> 原文：<https://www.harness.io/blog/streamlining-ci-cd>

云是一种基于消费的模式，要么效率极高，要么成本极高。以下是 Linedata 如何回答上述问题并降低云支出的。

当公司采用 DevOps 方法时，软件交付变得更加复杂，团队能够更频繁地部署。

当这种情况发生时…

你如何跟踪软件交付生命周期？

你如何管理和报告 Kubernetes？

您如何规划您的云支出？

云是一种基于消费的模式，要么效率极高，要么成本极高。以下是 Linedata 如何回答上述问题并降低云支出的。

**关于 Linedata**

Linedata 拥有 20 年的经验，在 50 个国家拥有 700 家客户，在 20 个办事处拥有 1100 名员工，为资产管理和信贷行业提供全球人性化的技术解决方案和服务，帮助他们的客户在最高水平上发展和运营。Linedata 总部位于法国，2020 年实现收入 1.61 亿欧元。

该公司正处于从整体服务到微服务的转变过程中，并且正在实施 DevOps 方法来提高效率。

**在线数据上的 devo PS**

许多公司试图通过创建负责 CI/CD、基础架构等的独立开发运维团队来实现开发运维。然而，这通常会产生一个永久性的集中团队，该团队必须对公司的管道进行维护和故障排除。如果这个团队没有得到适当的扩展，它很快就会成为整个组织的瓶颈。

Linedata 决定采取不同的方法。Linedata 没有强迫全球组织依赖一个集中的团队，而是创建了一个自助服务系统，允许团队自治。

他们基于谷歌开发的 SRE 模型。一个全球平台工程团队构建了安全的基础架构代码，可供组织中的其他所有人重用。自治团队使用并迭代这些模板，同时也向平台工程团队提供反馈。由于 Linedata 行业运营所需的高度合规性，自主团队并不完全自力更生。

Andrey 领导平台团队，是 DevOps 的内部宣传员。他帮助公司内不同的团队采用新技术。Andrey 利用的技术之一是作为代码的连续基础设施。

开发人员不应该自己开发和破坏基础设施。这是手工劳动/脚本，传统的脚本并不等同于持续交付。

因此，Andrey 利用模块化方法，每个团队都将模块作为自己流程的一部分。模块层叠在彼此之上，以处理部署所需的大量配置。这取代了将变量硬编码到管道中的需要。开发人员只需针对一个输出文件来创建他们的基础设施。默认情况下，他们创建的每个集群都有相同的配置，这样就提高了安全性。

Linedata 将这种程度的自动化定义为“制度化的成熟度”。自动化不仅仅在组织内部的几个小地方运行，而是遍及整个组织。

所有这一切都归功于马具和地形。

**FinOps**

Linedata 每天部署 150 到 200 次，相当于在过去 30 天内部署了大约 28，000 个实例。他们的开发人员动作非常快。但是代价是什么呢？

DevOps 的目标是快速高效。只是快速行驶可能会无意中导致高消费。看一眼 Twitter，你就能看到成百上千的开发者忘记关闭他们的环境，这使得云成本飙升。也许他们运行了一个 EC2 实例，但忘记了停止它，或者他们没有正确地确定资源的大小。

工程师们忘记返回并关闭资源，因为云是基于消费的，所以公司需要为此付费。

开发者担心速度。但是金融担心花费。

FinOps 是一种专注于速度和效率的云管理新模式。这反过来又会带来更高的投资回报率。它包括准确分配云支出、优化环境、合理调整资源规模以及关闭未使用的资源。

**总结**

借助这两种方法，Linedata 完全自动化了配置生命周期。他们所有的工程师都通过 Git 与 Harness 交互，一切都是可审计的，并且有一个持续的反馈循环。

从组织的角度来看，他们削减了大约 50%的云费用。