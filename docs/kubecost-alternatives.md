# 考虑云成本优化的 Kubecost 替代方案|利用

> 原文：<https://www.harness.io/blog/kubecost-alternatives>

寻找 Kubecost 替代品？我们会掩护你的。以下是帮助您优化成本的云成本管理工具列表。

为什么如此多的云购买者寻找能够动态监控和提供云基础设施可见性的工具？这有几个原因，其中最突出的是显著的成本影响。

虽然有各种工具可供团队使用，但正确的选择最终取决于公司的需求。随着公司围绕云成本责任推进其云管理战略和组织文化，使组织任何级别的团队都能轻松参与的工具变得越来越重要。

你在寻找 Kubecost 的替代品吗？我们解构了 Kubecost 备选方案，以便您可以权衡和评估所有可能的云成本管理工具。

## Kubecost 简介

在深入研究各种备选方案之前，让我们快速浏览一下 Kubecost。

Kubecost 为使用 Kubernetes 的团队提供实时成本可见性和洞察力，帮助您持续降低云成本。

*   Kubecost 允许您查看所有本地 Kubernetes 概念的分配支出。
*   统一成本监控—支持 AWS、GCP 和微软 Azure 的所有服务。
*   Kubecost 自动生成洞察，您可以使用这些洞察节省 30-50%或更多的基础设施支出，而不会暴露您的私人信息。
*   实时警报功能和重复报告。
*   基于开源平台构建。Kubecost 最初是一个开源项目，目标是让小型工程团队获得更好的成本可见性。因此，该解决方案与开源云原生生态系统紧密集成，例如 Kubernetes、Prometheus 和 Grafana。

你可以通过阅读来了解更多关于 Kubecost 的信息。

## Kubecost 定价

Kubecost 有三种不同的计划:团队、业务和企业，以优化您的云基础架构的成本。

**团队**:这是免费计划。该计划包括 1 个集群、无大小限制、15 天指标保留、成本监控、成本分配等。

**业务**:每月 449 美元的业务。该计划包括免费计划中的所有内容，加上无限集群、30 天指标保留、保存的报告、团队更新&通知、业务支持等等。

**企业**:这个你应该和销售团队谈。定价取决于您的要求和使用需求。

业务计划中的一切都包括在内，此外还有统一的多集群视图、无限制的指标保留、定制集成、SSO / SAML、专用企业支持等等。

用户数量没有限制，没有共享的基础设施数据，所有计划的核心软件都是开放的。

阅读[此处](https://www.kubecost.com/pricing)了解更多详情。

## Kubecost 建筑

以下是使用 [Kubecost Helm chart](http://docs.kubecost.com/install) 部署的主要组件，不包括某些企业组件，如持久存储:

1.  Kubecost 成本分析器 Pod
    a .前端-运行 Nginx 并处理路由到 Kubecost 后端+ Prometheus/Grafana。
    b. Kubecost 服务器 API 调用的后端。c. Cost-model -提供成本分配计算和指标，包括对 Prometheus 的读写。
2.  Prometheus
    a. Prometheus 服务器——成本健康指标的时序数据存储。
    b. Kube-state-metrics -提供 Kubernetes API 指标，例如资源请求。
    c .节点导出器——提供节点级利用率指标，以提供合适的规模建议和集群利用率[可选]。
    d . push gateway——为用户提供向 Prometheus 推送新指标的能力[可选]。
    e. Alertmanager -用于自定义警报[可选]。
3.  网络成本-用于收集网络指标的可选 DaemonSet([了解更多信息](https://github.com/kubecost/docs/blob/master/network-allocation.md))。
4.  Grafana -为 Kubecost 产品提供支持仪表板。

今天，Kubecost 的核心产品只需要组件 1、3a 和 3b 就可以运行。

查看此图中核心组件的概述:

### 企业架构概述

Kubecost 应用程序中最常见的持久存储实现是使用[灭霸](https://thanos.io/)。下面是所需组件的高级参考。关于每个灭霸组件的更多信息可在[这里](https://thanos.io/tip/components/)找到。

## 评定标准

如今，云成本管理已经成为所有云提供商的重要话题，也是所有软件公司的新要求。Gartner 预测，到 2020 年，公共云市场将增长到 2579 亿美元。这意味着公司预计将在公共云支出上总共浪费 908 亿美元。公共云提供商不太可能抱怨，但工程师和公司财务肯定会抱怨。

降低云成本的最明显、最有说服力的理由是尽可能降低云费用。本文将帮助您评估一些替代方案，这些方案可以帮助您克服在使用 Kubecost 时可能遇到的一些云成本管理问题。

在 Harness，我们发现云成本管理挑战主要属于以下三种使用情形。这篇文章是在牢记这些参数的情况下写的。这些使用案例还将帮助您确定组织的云成本控制策略。

**云成本治理**:应该围绕云成本设置护栏，从本质上创建确保成本处于控制之下的流程。

**云成本优化**:组织通常在云提供商身上花费过多，他们希望降低成本，只为他们需要/使用的东西付费。他们需要优化与云相关的成本。

**云成本透明**:从高管到开发人员，组织的每一层都应该有云成本的可见性。所有利益相关者都应该能够理解与其相关的环境中的云成本。

除了上面列出的使用案例，对多个云提供商的覆盖和支持也很重要。大多数企业现在在其环境中使用各种云提供商，使得云基础架构变得复杂。这种复杂的云基础架构使得确定整个环境的云使用成本变得更加困难。他们可能需要一个混合云成本管理系统来处理这种复杂性。

了解云成本有助于:

*   云迁移规划。
*   确定云超额容量。
*   了解云资源使用、容器成本。
*   任命成本中心经理。
*   避免代价高昂的云漏洞。
*   定义全面的云边界。
*   降低基础设施成本。
*   使用建议优化成本，这是使用云财务管理解决方案实现业务转型的重要支柱。

## 让我们探索 Kubecost 的替代方案

对下面列出的工具进行分类，找出最适合您跟踪云支出需求的工具。换句话说，云优化工具可以被称为云管理平台。这些工具的仪表板可以用作云优化门户。

## AWS 成本浏览器

AWS Cost Explorer 在直观的界面中提供了 AWS 云成本的高级概述。顾名思义，AWS Cost Explorer 只面向 AWS 云用户。

你可以很好地理解总成本。您可以快速创建自定义报告来分析成本和使用数据，从而降低 AWS 成本。其他可见性是可以实现的，但需要彻底的标记，并且该工具不是为非金融环境设计的。预测可以让您更好地了解未来的成本和使用情况，从而帮助您规划未来。

AWS Cost Explorer 界面中的免费服务。仅适用于 AWS—不包括 ECS 和 EKS 以外的 Kubernetes 费用。通过标记提供每小时的粒度和良好的可视性。像异常检测这样的附加服务不是本地包含的，需要额外付费。支持各种具有不同资源分配的生成代理。无法了解已利用、闲置或未分配的成本。允许用户设置预算和查看成本预测。标签是必需的。

## VMware 的云健康

CloudHealth 成立于 2012 年，于 2018 年被 VMware 收购，以继续建立在他们的云服务基础上。CloudHealth 专为财务团队设计，提供良好的治理和报告功能。这对财务团队来说是好事，但对工程团队来说不是好事。

**优点**如果严格遵守标签卫生要求，则具有良好的可视性。提供异常检测，但是用户必须手动识别异常尖峰。支持所有主要的云提供商和混合云用户。建议不包括 Kubernetes 资源。为自上而下的云成本管理构建的良好治理能力。不利于获得粒度或自下而上的可见性，过多地关注报告和治理——不适合该利基群体之外的人使用。允许用户设置预算和查看成本预测。标签是必需的。

## 谷歌云计费

谷歌云计费，顾名思义，只在谷歌云平台内部工作。与其他特定于云的成本工具一样，它是为财务团队而不是工程师设计的。它确实提供每小时更新，这很好，而且一旦你适当地标记资源，它就有很好的可视性。然而，Kubernetes 的成本仅限于 GKE 境内的资源。

**优点**为财务团队提供了良好的成本时间点视图，而没有工程师想要看到的细节。无法了解已利用、闲置和未分配的成本。为 GCP 服务提供成本建议。不适合多云设置。允许用户设置预算和查看成本预测。无异常检测，导致无追索权的潜在成本飙升。

## 驾驭云成本管理

Harness Cloud Cost Management (CCM)是一款面向财务运营、基础设施和工程团队的简化云成本管理工具，可提供深入的成本视图，无需任何标记。此外，它还提供了行业独有的功能，如推荐、云成本商业智能和智能云自动停止，这可为客户节省高达 75%的云费用。它还提供完整的根本成本分析，以及对云支出的精细可见性，包括所有形式的 Kubernetes。CCM 适用于复杂/混合云基础设施，包括 AWS、Azure、GCP 和 Kubernetes。CCM 是内部和外部客户的完美工具。就 Kubecost 替代品而言，Harness CCM 是一个不错的选择，因为它专注于 Kubernetes。

**ProsCons** 专为 Kubernetes 成本打造，无需标记即可提供无与伦比的粒度云成本视图。提供巨大的云成本优化机会。计算实例大小调整不可用。为智能云成本管理提供云成本商业智能和智能云自动停止。可能需要在组织内部进行与云成本责任相关的文化变革，以获得产品的全部优势。支持所有主要的云提供商、多云设置和混合云。RBAC 尚未实施。能够将云事件(如部署)与其相关成本联系起来。
允许用户设置预算和查看成本预测。

## Azure 成本管理

也许令人惊讶的是，Azure 成本管理能够通过 Cloudyn 提供对 AWS 支出的可见性——没错，这不仅仅是针对 Azure 的，尽管如果我们只在 AWS 云上，我们不会使用它。由于 PowerBI，它拥有商业智能功能。它还允许您设置预算，深入了解预测的支出，并接收关于潜在节约机会的建议。然而，Azure Cost Management 缺乏令人满意的功能，如异常检测、假设分析和 Kubernetes 利用率可见性，并且您最终将进行数学计算，以找出已实现的节约与潜在的节约。

**优点**专为 Azure 打造，但也可以在 AWS 中体现成本(尽管如果我们只在 AWS 云上，我们不会使用它)。需要原始标记，以便获得成本的精细可见性。向 Azure 用户免费提供建议和优化机会。缺少基本功能，需要时间想出解决方法。可以创建功能强大的 BI 视图，对任何环境的云成本信息进行分割。无法了解已利用、闲置或未分配的成本，也无法进行异常检测。允许用户设置预算和查看成本预测。

## 地点

Spot 在构建时考虑到了工程团队，更关注主动的云成本管理，而不是透明度和治理，尽管事实上这两者都是获得云成本管理的完整图景所必需的。Spot 做得很好，但还有改进的空间，我们相信他们将来会解决这个问题。

**ProsCons** 提供异常检测，确保立即解决成本激增问题。需要标记，缺少 Kubernetes 集群的过滤和分组选项。通过现场编排实现自动化节约。无法将上下文检索到云事件中—无法访问 CD 管道来挖掘此信息。主动管理您的云，并提供支出可见性。无法查看已利用、闲置和未分配的成本，以及基本的透明使用情形支持。允许用户查看与其支出相关的成本预测，但不映射到预算。

## 应用混浊度

Cloudability 面向财务和 FinOps 团队。它们提供了一些了解成本的好方法，但只提供了基本的优化功能。

**ProsCons** 提供异常检测，使用用户定义的阈值来发现成本峰值并向最终用户发出警报。对于混合云用户来说，这不是一个好的解决方案，因为它不提供混合可见性。在云提供商(非 Kubernetes)内部提供成本建议。仅提供已利用实例的视图，没有空闲或未分配的可见性。允许用户为指定的上下文设置预算，并提供相对于预算的成本预测。需要标记以提供精细的成本可见性并进行成本分配。

## 云零

CloudZero 是一个 SaaS 平台，提供实时成本异常和浪费检测，以优化云成本并防止意外超支。

**建议**在几个小时内分配你 100%的花费。仅测量、监控和优化 AWS 上的云支出。适合工程、财务和 FinOps 团队。无法提供优化云资源的建议。提供成本的可见性，无需标记要求。无法设置预算。

## 约塔斯卡尔

总的来说，Yotascale 是一个强大的云成本管理应用程序，几乎拥有所有想要的功能。它不需要标记，并且提供了良好的可视性——只要您在 AWS 中。没错，Yotascale 截至今天只支持 AWS。这不是 GCP 或 Azure——或云计算用户的选择。但是，对于 AWS 用户来说，Yotascale 提供了很好的工程体验。

**ProsCons** 提供异常检测、警报和成本建议。不提供对已利用、闲置和未分配成本的一目了然的可见性—可以推断，但需要脑力/体力工作，不像产品那样这些成本是现成的。AWS 的可见性是原始的，包括允许用户设置预算和查看成本预测。Kubernetes 的成本，如果不在 AWS 中，就不会浮出水面，优化机会也不会。提供自动化成本分配，无需标记要求。无法将上下文检索到云事件中—无法访问 CD 管道来挖掘此信息。

## Kubecost 摘要

Kubecost 提供了一套很好的可见性和监控工具。它提供了一些见解，工程团队可以利用这些见解在他们的 Kubernetes 基础设施中提高效率。作为让工程师管理云成本的坚定信仰者——不仅仅是财务团队——我们必须给予应有的信任，并祝贺 Kubecost 为实施自下而上而不是自上而下的问责制所做的努力。然而，Kubecost 在为非集群服务提供支持方面存在不足，无论是可见性、优化还是预测。

虽然世界正朝着采用 Kubernetes 的方向发展，但非集群云的使用仍然是主流。客户可能会发现自己在整个云基础架构中使用多种工具，这可能会造成报告中的差异，并对出现的见解缺乏信任。总的来说，如果你所有的云资产都在 Kubernetes，Kubecost 是一个很好的工具。

## 评估顶级云成本管理工具

这篇博客文章展示了几种作为 Kubecost 替代方案的云成本工具。我们希望你喜欢阅读这篇文章，并发现它很有见地。我们相信，帖子中列出的工具将帮助您在组织中推动持续的成本优化。

查看我们的 [DevOps 比较工具](https://harness.io/learn/comparison-guide/)页面，了解关于[利用云成本管理](https://harness.io/products/cloud-cost/)和其他提供商的更详细比较。

祝你在评估 Kubecost 替代方案时好运，当你准备好的时候，请随意报名参加线束 CCM [演示](https://app.harness.io/auth/#/signup/?module=ce)！