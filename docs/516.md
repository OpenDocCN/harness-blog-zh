# Harness 软件交付平台| Harness 中的用户和角色管理

> 原文：<https://www.harness.io/blog/user-role-management>

深入了解 Harness 如何在用户和角色管理中利用一流的技术，而不影响质量。

关于企业如何继续消除定义工作空间边界的界限，已经说了很多，也写了很多。员工越来越多地在任何地方工作，并使用他们的个人设备(BYOD)访问工作应用程序。IT 团队不断适应一个不可能定义严格的安全参数的世界，这使得他们的工作异常艰难。

允许用户随时随地使用任何设备工作而不影响安全性是 IT 团队面临的最大挑战。因此，IT 团队承受着采用零信任安全等新兴安全模式的巨大压力，同时，他们需要确保这些安全措施不会降低工作效率。这种方法依赖于强大的身份和认证措施以及精细的访问控制来划分虚拟边界。

新 SaaS 应用程序的开发者同样有责任确保他们通过提供与客户的安全生态系统无缝集成的选项来消除应用程序采用中的障碍，并使 IT 团队的生活变得轻松。

在本文中，我们将探讨 Harness Platform 如何利用一流的技术为 IT 团队提供多种选择，以便在这个无边界的世界中轻松管理 Harness 平台——而不会对安全性造成任何影响。我们将涵盖整个生命周期，从邀请用户到控制和跟踪他们在 Harness 平台中的活动，确保整个生命周期的持续安全性。

## 邀请用户–让我们合作

*“单靠我们能做的事很少；我们一起可以做很多事情。”–海伦·凯勒*

软件开发的世界是在人们的合作下繁荣起来的，他们一起解决一些世界上最复杂的问题。为了简化协作，重要的是管理员能够方便地邀请用户在 Harness 平台上工作，这样他们不仅可以在自助式 Harness 平台上共同管理 CI/CD 管道，还可以监控云服务上发生的费用。Harness 提供各种选项，通过利用客户在身份和访问管理解决方案方面的现有投资，轻松邀请用户使用 Harness 平台。

1.**SCIM**–SCIM，即交叉身份管理系统，通过客户的可信身份提供商(IdP)自动将用户添加到 Harness 平台，例如 Okta、Azure Active Directory 等。

2. **AD/LDAP 组同步**–Harness 还会自动将用户与您现有的目录服务同步，以将他们添加到平台中。

我们的平台不仅可以添加用户，还可以获得用户的群组成员信息，以便按照所需的结构轻松地对他们进行分组，从而使管理更容易，协作更快。

此外，您还可以手动邀请用户。

虽然自动化使过程更快并避免了人为错误，但确保有足够的检查和平衡来防止未经授权的用户进入平台也很重要。线束提供了各种选项来实现这一点:

1.**限制电子邮件域**–管理员可以限制允许用户加入平台的电子邮件域。

2.**过滤 LDAP 组的属性**–管理员可以指定将与 Harness 平台同步的过滤组的属性。

3.**SCIM 规则**–在配置 IdP 以同步用户与 Harness 时，管理员可以定义同步用户与 Harness 的规则。

通过同步自动添加用户是确保平台始终与身份提供者保持同步的一个好方法。随着员工加入组织、改变角色或职责或离开组织，Harness 会保持最新以反映这些变化。

## 登录–让我们完成任务

随着组织放弃其边界，保护组织内每个应用程序的每个端点变得非常重要。IT 管理员越来越依赖强大的身份和身份认证措施来保护对业务关键型应用程序和敏感数据的访问。同时，为用户提供流畅的登录体验以确保他们保持高工作效率也很重要。

Harness 通过提供各种选项完全支持零信任安全理念，允许管理员为其用户提供无缝、安全的登录体验。Harness 通过利用他们在安全和访问管理解决方案方面的现有投资来做到这一点。无缝登录由于登录速度更快、密码丢失更少而提高了整体工作效率，同时通过最大限度地减少对 IT 的支持呼叫而降低了成本。

线束平台支持以下认证选项:

1.**SSO**–Harness 提供与领先的基于 SAML 和 OAuth 的 SSO 解决方案提供商的现成(OOTB)集成。SSO 带来了许多安全好处，因为它减少了攻击面，因为用户只登录一次，并且只使用一组凭证。SSO 身份认证使 IT 管理员能够集中控制谁可以访问什么，并对所有用户和应用程序统一实施企业安全策略。

2.**AD/LDAP**–Harness 允许用户使用他们现有的 AD/LDAP 凭证，即使他们的 AD/LDAP 在本地。Active Directory 通过对用户和权限管理进行集中控制，简化了 IT 管理员和最终用户的生活，同时增强了组织的安全性。

3.**用户名/密码**–在无法使用 SAML、OAuth 或 AD/LDAP 进行登录的情况下，Harness 还提供了使用用户名/密码的选项。有多个选项可以强制实施使用密码的最佳实践，包括长度、更新间隔等。为了进一步加强安全控制，还可以选择通过使用基于 TOTP 的应用程序来使用 2FA(双因素身份验证)。

保护用户是不够的，因为现在大量的通信发生在服务之间，对服务到服务的通信进行身份验证和授权也很重要。Harness 提供了以下选项来保护服务到服务的通信:

1.**服务账户**–服务账户让客户生成 API 令牌，这些令牌可用于认证和授权调用服务。适当的访问控制策略可以与服务帐户相关联，以限制对所需功能的暴露。

2.**个人访问令牌(PAT)**–就像服务帐户一样，API 令牌可以与给定用户相关联，以允许访问服务。

## 控制访问——划定界限

在这个没有边界的世界中，划定边界的一个非常有效的方法是定义访问控制策略，允许管理员控制谁可以做什么。定义有效且易于管理的访问控制策略的关键在于组织的结构。有效的组织结构有助于协作和发现，如果做得不好，会使开发人员的交流和协作更加困难。Harness 提供了创建逻辑结构的方法，这种逻辑结构自然地与大多数组织的结构相一致。

1.**Account**–Account 是最顶层的实体，可以控制和查看整个平台。这确保了监督和治理。

2.**组织**–组织是一个控制单元，来自同一个 BU 的人员和项目可以被组织在一个独立的层次结构中。客户可以创建多个独立共存的组织。

3.**项目**–项目代表协作的基本单位，用户被分组在一起从事同一个项目。每个组织可以有多个项目。

这种结构提供了足够的灵活性来定义横向角色，以及通过将角色的范围限制在组织层次结构中所需的级别来定义细粒度控制的能力。例如，通过角色和资源组的组合，管理员可以创建特定资源的权限，并将其限制在允许用户访问的范围内。

在线束中， [RBAC](https://harness.io/blog/rbac/) 策略通过以下方式定义:

1.**角色**–角色是一组权限，允许或拒绝对一组特定资源的特定操作。

2.**资源组**–资源组是由同一组用户使用同一组访问控制策略管理的一组资源。资源组有两种类型:

a.**所有资源**–给定类型的所有资源分组。

b.**命名资源**–将一组特定的单个资源组合在一起。

当用户或用户组与角色和资源组相关联时，它向他们提供角色中定义的对资源组中资源的权限。

## 跟踪——建立问责制

尽管采取了所有正确的措施，但有时事情仍然会出错，找到问题的根源变得很重要——发生了什么，什么时候发生的，是谁干的。审核日志允许 it 管理员审查用户执行的操作，它包括诸如谁执行了该操作、该操作是什么以及何时执行的详细信息。

追溯记录来源的能力提供了许多好处，包括透明度，并有助于在组织中建立问责制。它还有助于重建导致事故的事件，可进一步用于改进策略以防止事故再次发生。

Harness 为用户执行的操作提供了详细的[审计跟踪](https://harness.io/blog/audit-trails/)，包括以下细节:

1.  **时间戳**–行动发生的时间。
2.  **事件源**–请求/动作的来源。
3.  **演员**——谁采取了行动。
4.  **实体**–哪个实体是动作的对象。
5.  **细节**–行动的细节，包括发生了什么变化。

这伴随着各种过滤选项，以便您可以通过只关注感兴趣的事件来快速了解事件的真相。

## 结论

安全性不再是由专业系统和专业人员负责的时间点问题。所有用户和所有系统都必须在确保无处不在的持续安全中发挥作用。Harness 提供了各种功能，这些功能符合零信任安全的概念，并通过与客户现有的安全基础架构无缝协作，使 IT 团队能够轻松管理和保护 Harness。

为了进一步阅读，请关注博客——我们将发布一篇关于审计跟踪的深度技术文章。您还可以查看我们的电子书[将治理应用于 CI/CD](https://harness.io/learn/ebooks/ebook-applying-governance/) ，以了解更多信息。