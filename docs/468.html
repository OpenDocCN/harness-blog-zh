<html>
<head>
<title>Continuous Delivery for AWS Lambda Applications | Harness</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>AWS Lambda应用的持续交付|线束</h1>
<blockquote>原文：<a href="https://www.harness.io/blog/continuous-delivery-aws-lambda-applications#0001-01-01">https://www.harness.io/blog/continuous-delivery-aws-lambda-applications#0001-01-01</a></blockquote><div><p>利用持续交付构建您的AWS Lambda管道。AWS Lambda是一个可以用来构建应用程序的web服务。</p><div fs-richtext-element="rich-text" class="blog-rtf w-richtext"><p>AWS Lambda是一个web服务，您可以使用它来构建应用程序，而不必担心计算限制或复杂性。要使用，只需将您的应用程序代码作为Lambda函数上传，Lambda就会在高可用性计算基础设施上运行您的代码。</p><p>Lambda还执行计算资源的所有管理，包括服务器和操作系统维护、容量供应和自动扩展、代码和安全补丁部署以及代码监控和日志记录。你所需要做的就是用Lambda支持的语言之一来提供你的代码:</p><ul role="list"><li>Node.js (JavaScript)</li><li>计算机编程语言</li><li>Java(兼容Java 8)</li><li>C#(。网络核心)</li></ul><h2>无服务器——开发者的梦想？</h2><p>关键在于，Lambda是开发者的梦想。不再需要设置基础架构或配置服务器。所有要做的只是简单地部署新代码。除了易于部署之外，还有金钱上的好处。</p><p>为什么要24x7运行一个等待API调用的服务器，而这个API调用在接下来的半小时、一小时甚至一天内可能会被调用，也可能不会被调用？为什么不在代码实际执行时为计算付费呢？拉姆达来了！</p><h2>Lambda持续交付面临的挑战</h2><p>不可变对象(那些不能被改变的)在持续交付方面有一些挑战，Lambda也是如此。Lambda函数被版本化，最新的总是发布到$LATEST。这些版本由代码和配置(变量)组成。一旦代码和配置发布，函数就变得不可改变。</p><p>Lambda上持续交付的挑战实际上在于版本控制、标记(别名)和回滚。每个新版本都不变地被推送到$ LATEST因此，回滚到以前的版本变得很复杂。即使您的应用程序被正确地设计为使用标记，也是如此。前进是容易的——退回到基于先前成功标记的部署是复杂的。</p><p>在Harness，我们通过跟踪标记(别名)或重新创建功能、代码和配置所需的两部分来解决这种复杂性。Harness不仅适用于Lambda的限制，还实现了不可变基础设施的最佳实践。Harness处理管理代码和配置的负担，以便正确地版本化、标记或重新创建先前的版本，从而允许基于规定的故障策略的全自动回滚。</p><h2>使用线束部署到AWS Lambda</h2><p>设置Harness来管理Lambda函数的连续交付或连续部署不仅简单，而且是可重复的。</p><p>这个过程可以分为5个简单的步骤:</p><h2>1.创建新的Lambda服务</h2><p>输入服务名，并选择AWS Lambda作为工件类型，以及服务的简要描述。<br/></p><figure class="w-richtext-figure-type- "/><p><br/>接下来，添加一个工件源。下面的例子显示亚马逊S3作为位置。<br/></p><figure class="w-richtext-figure-type- "/><p><br/>最后，添加你的Lambda函数规范(配置)。<br/></p><figure class="w-richtext-figure-type- "/><h2>2.设置您的Lambda环境</h2><p>添加环境名称和环境类型(非生产/生产):<br/></p><figure class="w-richtext-figure-type- "/><p><br/>通过选择适当的AWS帐户、区域、IAM角色、VPC、子网和安全组来添加您的服务基础架构:</p><figure class="w-richtext-figure-type- "/><h2>3.创建您的Lambda部署工作流</h2><p>可以为部署到每个环境的每个Lambda服务单独添加工作流。您还可以将这些部署工作流模板化，这些工作流可以在运行时调用基础设施、服务和环境作为变量，从而消除了跨许多Lambda服务的重复需求。</p><figure class="w-richtext-figure-type- "/><p><br/> Harness将自动填充部署和回滚Lambda服务所需的步骤:</p><figure class="w-richtext-figure-type- "/><p>您还可以为您的Lambda服务添加工作流准备、验证或总结步骤。在下面的例子中，您可以使用有效负载断言为每个Lambda函数定义简单的测试事件。<br/></p><figure class="w-richtext-figure-type- "/><p><br/>此时，工作流准备执行一个工作流。</p><h2>4.创建您的Lambda管道</h2><p>利用Harness，您可以将多个部署工作流缝合在一起，作为开发、QA和生产环境中的流水线阶段。根据您的需求，这些管道工作流和阶段可以顺序执行，也可以并行执行。您还可以对管道进行模板化，并将它们委派给单独的团队或用户。<br/></p><figure class="w-richtext-figure-type- "/><h2>5.构建您的Lambda管道触发器</h2><p>最后，触发器可以用来基于Lambda函数的新版本自动执行管道。<br/> a .定义触发器来执行部署工作流或整个管道。<br/></p><figure class="w-richtext-figure-type- "/><p><br/>您已经完成了所有工作，可以开始部署了！</p><p>这里有一个使用Harness部署AWS Lambda的两分钟视频:<br/></p><figure class="w-richtext-align-center w-richtext-figure-type-image"/><h2>AWS Lambda上的更多链接:</h2></div></div>    
</body>
</html>