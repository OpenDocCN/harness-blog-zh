# 静态与动态代码分析|线束

> 原文：<https://www.harness.io/blog/static-vs-dynamic-code-analysis>

当谈到静态和动态代码分析时，它们之间有什么区别，你如何知道使用哪一个？

如果说最近的新冠肺炎乱局有什么亮点的话，那就是软件连接世界的能力，它让现代生活的几乎每一个主要方面都得以延续，尽管环境很糟糕。

但是当软件不能按预期工作时，负面影响比以往任何时候都更严重。正如我们在最近的 Zoom 宕机事件中看到的那样，即使是一个应用程序错误蔓延到生产中，其严重性也可能是灾难性的。

大多数组织已经在各种测试方法上投入了大量的资金，那么还能做些什么来保持软件交付速度而不允许缺陷逃脱呢？自动化代码分析可能是答案。

但是什么是静态和动态分析，为什么要考虑使用它们？下面，我们将分析每个工具提供的独特价值，以及为什么您会考虑将它们添加到您的 DevOps 工具链中。

## 静态和动态分析:一个简单的类比

让我们从一个体育类比开始，来帮助说明这两种方法之间的区别。静态代码分析类似于用练习网和投球机练习棒球挥杆。惊喜微乎其微。几次挥杆之后，你就知道每次球会在哪里了。这有助于基础训练，确保你有良好的状态。虽然这有助于提高你的游戏，但它只能让你到此为止。

动态代码分析更像是对着一个真实的投手练习挥杆，每个投手的类型和位置都有所不同。它不仅测试你的基本面，还测试你对不同的、意想不到的情况做出反应的能力。当在生产中完成时，动态分析就像是在第 9 洞底部完成你的挥杆，并且满垒。我有没有提到比分是两人出局打成平手？赌注很高。

现在，让我们从技术角度比较和对比这两种不同的风格。

## 静态代码分析

静态代码分析是一种调试方法，通过在程序运行前检查应用程序的源代码来完成。这通常是通过对照一组给定的规则或编码标准来分析代码来完成的。

### 这个地址是什么？

这些通常解决代码漏洞、代码味道和遵守普遍接受的编码标准。这些包括通常由“代码同行评审”发现的常见开发人员错误。

### 我们可以在软件开发生命周期的哪个阶段使用静态代码分析？

静态代码分析通常包含在“代码开发”阶段之后和“单元/组件/集成”测试阶段之前的任何阶段。在某些情况下，CI/CD 管道包含静态分析报告，作为代码升级的质量关口。

### 利益

除了其他好处之外，能够识别代码中的弱点并遵守严格的开发标准有助于减少潜在的生产问题。这些也提供了“测试覆盖”报告，描述了代码被执行的程度。

### 限制

在现实生活中，对“乔”有效的对“简”无效。静态代码分析对两者一视同仁，因为它看不到数据。

考虑以下伪代码:

###### 函数 get full name(first name){
if(first name = = " Joe ")
返回"乔·史密斯"
if (firstName == "Jane")
返回" Dave" //这是不正确的业务逻辑
if (firstName！= "乔或简")
返回"乔伊"
}

在上面的例子中，静态代码分析不能理解开发人员的意图。用户期望“Jane”的全名为“Jane Doe ”,则得到“Dave”。任何其他名字都返回“乔伊”。任何期待有效用户的下游应用程序现在都将面临运行时错误或异常。

像这样的问题很容易通过“静态代码分析规则”，JUnits，甚至“代码覆盖”报告。生产是“狂野的西部”,通常包含过多的商业味道。“生产场景”不遵循任何给定的规则。

最后，自动化的静态代码覆盖工具经常提供一种虚假的安全感，即一切都被验证了。事实是，报告的好坏取决于管理它们的基本规则。

## 动态代码分析

动态代码分析是通过在程序运行期间或之后检查应用程序来进行调试的方法。因为源代码可以在各种不同的输入下运行，所以没有一套给定的规则可以涵盖这种风格。

### 这个地址是什么？

这些解决了由于业务环境的变化而出现的运行时漏洞。例如，上面的代码片段将被动态代码分析标记。诸如 OverOps 之类的工具更进一步。

*   对于每一个运行时事件，OverOps 都会回答发生了什么，什么时候发生的，为什么会发生。
*   OverOps 能够在多个方面对所有运行时异常进行检测、分类和优先排序。

### 我们可以在软件开发生命周期的哪个阶段使用动态代码分析？

这些可以用在很多地方。

*   对于生产，动态代码分析提供信息来帮助快速解决生产事故。
*   对于预生产，动态代码分析防止坏代码进入生产。这些可以与 CI/CD 工具结合使用，作为代码提升的质量关口。

### 利益

在生产中，动态代码分析有助于提供应用程序问题的可见性，减少生产事件的 MTTI。Overops 甚至更深入——用变量值确定源代码中的确切违规行。

### 限制

如果代码不运行，就不会被分析。此外，动态代码分析不能执行静态代码分析工具的功能，所以最好与它们结合使用。

## 结论

就像对着机器和现场投手练习挥杆一样，静态和动态分析是齐头并进的。静态代码分析经常在未执行的代码中发现动态代码分析不能发现的问题。同时，动态代码分析涵盖了静态分析没有涵盖的生产场景。

Harness 使您能够将这两种方法结合在一起，以确保您的代码真正可以投入生产。通过将数据直接输入流行的静态分析工具，用户能够洞察运行时错误，从而增强他们现有的质量关口。

要查看这个集成和我们的其他插件，请注册一个[免费试用版](https://app.harness.io/auth/#/signup)。